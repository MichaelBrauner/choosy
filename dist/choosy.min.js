function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _classPrivateMethodGet(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var classnames={widget:"choosy-widget",input:"choosy-input",list:"choosy-list",item:"choosy-item",item_text_span:"choosy-item-text-span",remove_button:"choosy-remove-button",remove_button_svg:"choosy-remove-button-svg",result_list_container:"choosy-result-list-container",result_list:"choosy-result-list",result_list_item:"choosy-result-item",result_list_item_active:"active",add_item:"choosy-add-item"},elements={get textInput(){var t=this.create("input","text",[classnames.input]);return t.style.width="1ch",t},get widget(){var t=this.create("div",null,[classnames.widget]);return t.append(this.list),t.append(this.resultList),t},get list(){return this.create("div",null,[classnames.list])},get removeButton(){var t=this.create("button",null,[classnames.remove_button]);return t.append(this.removeSVG),t},get removeSVG(){return(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill=\"currentColor\" class=\"".concat(classnames.remove_button_svg,"\">\n            <path fill-rule='evenodd'\n                  d='M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z'></path>\n            </svg>"),"text/html").body.firstChild},get resultList(){var t=this.create("div",null,[classnames.result_list_container]);return t.style.display="none",t},get resultListList(){return this.create("ul",null,[classnames.result_list])},get resultItem(){return this.create("li",null,[classnames.result_list_item])},get addItem(){var t=this.resultItem;return t.classList.add(classnames.add_item),t.innerHTML="Add new",t},get selectOption(){return this.create("option",null)},getItem:function(t){var e=this.create("div",null,[classnames.item]);return e.append(this.getItemTextSpan(t)),e.append(this.removeButton),e},getItemTextSpan:function(t){var e=this.create("span",null,[classnames.item_text_span]);return e.innerHTML=t,e},create:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(t);return e&&(i.type=e),n.forEach(function(t){i.classList.add(t)}),i}},Component=function(){function n(t,e){_classCallCheck(this,n),this.element=t,this.$app=e}return _createClass(n,[{key:"$store",get:function(){return this.$app.store}},{key:"$navigation",get:function(){return this.$app.navigation}},{key:"$event",get:function(){return this.$app.event}},{key:"$option",get:function(){return this.$app.store.options}},{key:"$textInput",get:function(){return this.$app.widget.tagList.textInput}}]),n}(),InitialElement=function(){_inherits(i,Component);var n=_createSuper(i);function i(t,e){return _classCallCheck(this,i),(t=n.call(this,t,e)).storeInitialData(e),t.hide(),t.registerListeners(e),t}return _createClass(i,[{key:"hide",value:function(){this.element.style.display="none"}},{key:"attachWidget",value:function(t){this.element.parentElement.append(t)}},{key:"storeInitialData",value:function(){var e=this;this.$app.store.initialData=Array.from(this.getAllOptions).map(function(t){return e.$store.options.getModel(t)})}},{key:"getAllOptions",get:function(){return Array.from(this.element.querySelectorAll("option"))}},{key:"appendOption",value:function(t){var e=elements.selectOption;return e.value="__new_option__",e.innerHTML=t.content,this.element.append(e),e}},{key:"registerListeners",value:function(){var t=this;this.$app.event.on("option_chosen",function(){t.update()}),this.$app.event.on("option_unselected",function(){t.update()})}},{key:"update",value:function(){var n=this;this.element.querySelectorAll("option").forEach(function(t){var e;null!==(e=n.$store.options.findByOptionElement(t))&&void 0!==e&&e.selected?t.selected=!0:t.selected=!1})}},{key:"isMultiple",get:function(){return this.element.multiple}}]),i}(),_clean=new WeakSet,_findOptionElementByDataOption=new WeakSet,ResultListList=function(){_inherits(i,Component);var n=_createSuper(i);function i(t,e){return _classCallCheck(this,i),e=n.call(this,void 0,e),_findOptionElementByDataOption.add(_assertThisInitialized(e)),_clean.add(_assertThisInitialized(e)),e.create(t),e.registerEventListener(),e}return _createClass(i,[{key:"create",value:function(t){var e=elements.resultListList;t.append(e),this.element=e}},{key:"destroy",value:function(){this.element.remove(),this.$event.off("navigation_action")}},{key:"createListAndScroll",value:function(){console.log("hey"),this.createResultList(),this.scrollToView()}},{key:"registerEventListener",value:function(){var t=this;this.chooseListener(),this.$event.on("navigation_action",function(){t.createListAndScroll()})}},{key:"chooseListener",value:function(){var e=this;this.element.addEventListener("click",function(t){t.target.matches("li.".concat(classnames.result_list_item,":not(.").concat(classnames.add_item,")"))?e.choose(t.target.innerHTML):t.target.matches("li."+classnames.add_item)&&e.choose()})}},{key:"choose",value:function(t){t?this.$option.choose(this.$option.findByTextContent(t)):this.$option.equalToInput||this.$option.choose()}},{key:"createListResults",value:function(){_classPrivateMethodGet(this,_clean,_clean2).call(this),this.append(this.results),!this.$option.equalToInput&&this.$textInput.hasMinLength&&this.appendAddItemToList()}},{key:"createListAllResults",value:function(){_classPrivateMethodGet(this,_clean,_clean2).call(this),this.append(this.$option.all)}},{key:"createResultList",value:function(){this.$app.resultListVoter.canOpenAll()&&this.createListAllResults(),this.$app.resultListVoter.canOpen()&&this.createListResults()}},{key:"append",value:function(t){var e=this;t.forEach(function(t){e.hasOption(t)||e.appendElementToList(e.createResultItem(t))})}},{key:"hasOption",value:function(e){return Array.from(this.allListItems).find(function(t){return t.textContent===e.textContent})}},{key:"appendAddItemToList",value:function(){var t;this.hasAddNewItem||(t=elements.addItem,this.$navigation.isAddItem()&&t.classList.add(classnames.result_list_item_active),this.appendElementToList(t))}},{key:"appendElementToList",value:function(t){this.element.append(t)}},{key:"hasAddNewItem",get:function(){return this.element.querySelector("."+classnames.add_item)}},{key:"createResultItem",value:function(t){var e=elements.resultItem;return this.$navigation.isActive(t)&&e.classList.add(classnames.result_list_item_active),e.innerHTML=t.content,e}},{key:"isEmpty",value:function(t){return!t.querySelectorAll("".concat(i.selector," > .").concat(classnames.result_list_item)).length}},{key:"allListItems",get:function(){return this.element.getElementsByTagName("li")}},{key:"results",get:function(){var t;return this.$app.resultListVoter.canOpenAll()?null!==(t=this.$option.all)&&void 0!==t?t:[]:this.$app.resultListVoter.canOpen()?this.$textInput.hasMinLength?this.$option.startingWithInput:[]:void 0}},{key:"setResultBoxHeight",value:function(){var t=this.allListItems,e=0;if(5<t.length)for(var n=0;n<5;n++)e+=t.item(n).offsetHeight;this.element.style.height=e?e+"px":"auto"}},{key:"scrollToView",value:function(){var t=this.getActiveElement();t&&t.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth",boundary:this.element})}},{key:"getActiveElement",value:function(){var t=this.$navigation.item;return t?_classPrivateMethodGet(this,_findOptionElementByDataOption,_findOptionElementByDataOption2).call(this,t):null}}],[{key:"selector",get:function(){return".".concat(classnames.result_list)}}]),i}(),_clean2=function(){for(var t=this.allListItems,e=0,n=t.length;e!==n;++e)t[0].parentNode.removeChild(t[0])},_findOptionElementByDataOption2=function(e){return"add"===e?this.element.querySelector(".".concat(classnames.add_item)):Array.from(this.allListItems).find(function(t){return(null==t?void 0:t.innerHTML)===(null==e?void 0:e.content)})},_clean$1=new WeakSet,ResultList=function(){_inherits(i,Component);var n=_createSuper(i);function i(t,e){return _classCallCheck(this,i),e=n.call(this,t,e),_clean$1.add(_assertThisInitialized(e)),_defineProperty(_assertThisInitialized(e),"list",void 0),_defineProperty(_assertThisInitialized(e),"closeEvents",["widget_clicked_outside","input_pressed_esc","input_pressed_tab","window_blur"]),e.appendList(),e.registerEventListener(),e}return _createClass(i,[{key:"registerEventListener",value:function(){var e=this;this.closeEvents.forEach(function(t){e.$event.on(t,function(){e.closeResultBox()})}),this.$event.on("input_input_debounced",function(){e.$store.inputIsEmpty?e.closeResultBox():(e.list.createResultList(),e.createBox())}),this.$event.on("input_focus",function(){e.list.createResultList(),e.createBox()})}},{key:"createBox",value:function(){this.openResultBox(),this.list.setResultBoxHeight()}},{key:"openResultBox",value:function(){this.open||(this.element.style.display="block")}},{key:"open",get:function(){return"none"!==this.element.style.display}},{key:"closeResultBox",value:function(){_classPrivateMethodGet(this,_clean$1,_clean2$1).call(this),this.open&&(this.element.style.display="none"),this.$navigation.clear()}},{key:"appendList",value:function(){this.list=new ResultListList(this.element,this.$app)}},{key:"isOpen",value:function(t){return"block"===t.querySelector(i.selector).style.display}}],[{key:"selector",get:function(){return".".concat(classnames.result_list_container)}}]),i}(),_clean2$1=function(){this.list.destroy(),this.appendList()};function debounce(i,s){var o;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];clearTimeout(o),o=setTimeout(function(){clearTimeout(o),i.apply(void 0,e)},s)}}function getLastOfArray(t){return t[t.length-1]}function compareOptions(t,e){return t.value===e.value&&t.content===e.content}var TextInput=function(){_inherits(s,Component);var i=_createSuper(s);function s(t,e){var n;return _classCallCheck(this,s),_defineProperty(_assertThisInitialized(n=i.call(this,t,e)),"resetValue",function(){n.element.value=null}),n.registerListeners(),n}return _createClass(s,[{key:"registerListeners",value:function(){var e=this;this.element.addEventListener("input",function(){e.refreshState(),e.adjustWidth()}),this.element.addEventListener("keydown",function(t){"Enter"===t.key&&e.enterKeyEvent(t),"Escape"===t.key&&e.escapeKeyEvent(t),"Backspace"===t.key&&e.backspaceKeyEvent(t),"Tab"===t.key&&e.$event.emit("input_pressed_tab"),e.$navigation.events.handle(t)}),this.element.addEventListener("input",debounce(function(t){e.$event.emit("input_input_debounced",t)},250)),this.element.addEventListener("focus",function(){e.$event.emit("input_focus")}),this.element.addEventListener("blur",function(t){e.$event.emit("input_blur",t)}),this.$event.on("input_cleared",this.resetValue)}},{key:"length",get:function(){var t;return null===(t=this.$store.input)||void 0===t?void 0:t.length}},{key:"hasMinLength",get:function(){return 2<=this.length}},{key:"adjustWidth",value:function(){this.element.style.width="".concat(this.length?this.length+1:1,"ch")}},{key:"refreshState",value:function(){this.$store.input=this.element.value}},{key:"limit",value:function(t){this.$app.optionVoter.canAdd()||t.preventDefault()}},{key:"clear",value:function(){this.$store.input=null,this.$event.emit("input_cleared")}},{key:"enterKeyEvent",value:function(t){t.preventDefault(),(this.hasMinLength||this.$app.optionVoter.canAdd())&&this.$option.choose()}},{key:"escapeKeyEvent",value:function(){this.$event.emit("input_pressed_esc")}},{key:"backspaceKeyEvent",value:function(t){this.$store.inputIsEmpty&&!this.$option.isListEmpty&&(t.preventDefault(),this.$option.unselect(getLastOfArray(this.$option.selected)))}},{key:"isFocussed",get:function(){return document.activeElement.classList.contains(classnames.input)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"destroy",value:function(){this.$event.off("input_cleared",this.resetValue)}}],[{key:"selector",get:function(){return"."+classnames.input}}]),s}(),TagList=function(){_inherits(i,Component);var n=_createSuper(i);function i(t,e){return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=n.call(this,t,e)),"textInput",void 0),e.appendTextInput(),e.registerEventListeners(),e}return _createClass(i,[{key:"appendTextInput",value:function(){this.textInput=new TextInput(elements.textInput,this.$app),this.element.append(this.textInput.element)}},{key:"registerEventListeners",value:function(){var e=this;this.element.addEventListener("click",function(t){e.clickedOnRemoveButton(t.target)&&(t.preventDefault(),e.$option.unselect(e.$option.findByTextContent(e.findClickedTag(t).innerHTML)))})}},{key:"clickedOnRemoveButton",value:function(t){return!!t.matches("button."+classnames.remove_button)||(!!t.matches("svg."+classnames.remove_button_svg)||!!t.matches("path"))}},{key:"remove",value:function(){this.textInput.destroy(),this.element.remove()}},{key:"findClickedTag",value:function(t){return t.target.closest("."+classnames.item).querySelector("."+classnames.item_text_span)}}],[{key:"create",value:function(t,e){var n=elements.list;return t.selected.forEach(function(t){return n.append(elements.getItem(t.content))}),new i(n,e)}},{key:"selector",get:function(){return"."+classnames.list}}]),i}(),_focusInput=new WeakSet,Widget=function(){_inherits(s,Component);var i=_createSuper(s);function s(t,e){var n;return _classCallCheck(this,s),n=i.call(this,elements.widget,e),_focusInput.add(_assertThisInitialized(n)),_defineProperty(_assertThisInitialized(n),"initialElement",void 0),_defineProperty(_assertThisInitialized(n),"tagList",void 0),_defineProperty(_assertThisInitialized(n),"resultList",void 0),n.initialElement=new InitialElement(t,e),n.resultList=new ResultList(n.element.querySelector("."+classnames.result_list_container),e),n.tagList=new TagList(n.element.querySelector("."+classnames.list),e),n.initialElement.attachWidget(n.element),n.registerListeners(),n}return _createClass(s,[{key:"registerListeners",value:function(){var e=this;this.element.addEventListener("click",function(t){e.$app.inputVoter.shouldFocusAfterEvent(t)&&_classPrivateMethodGet(e,_focusInput,_focusInput2).call(e)}),this.$event.on("option_chosen",function(){e.update(),_classPrivateMethodGet(e,_focusInput,_focusInput2).call(e)}),this.$event.on("option_unselected",function(){e.update(),_classPrivateMethodGet(e,_focusInput,_focusInput2).call(e)})}},{key:"update",value:function(){this.appendNewSelectOptions(),this.updateTagList(),this.closeResultListBox(),this.clearTextInput(),this.limit()}},{key:"appendNewSelectOptions",value:function(){var e=this;this.$option.all.forEach(function(t){e.$option.isNew(t)&&e.initialElement.appendOption(t)}),this.initialElement.update()}},{key:"updateTagList",value:function(){this.tagList.remove(),this.tagList=TagList.create(this.$option,this.$app),this.element.append(this.tagList.element)}},{key:"closeResultListBox",value:function(){this.resultList.closeResultBox()}},{key:"clearTextInput",value:function(){this.tagList.textInput.clear()}},{key:"limit",value:function(){this.$app.optionVoter.canAdd()?this.tagList.textInput.element.maxLength=524288:this.tagList.textInput.element.maxLength=0}}],[{key:"selector",get:function(){return".".concat(classnames.widget)}}]),s}(),_focusInput2=function(){this.tagList.textInput.focus()},Event=function(){function t(){_classCallCheck(this,t),_defineProperty(this,"subscribers",{})}return _createClass(t,[{key:"on",value:function(t,e){Array.isArray(this.subscribers[t])||(this.subscribers[t]=[]),this.subscribers[t].push(e)}},{key:"off",value:function(t,e){this.subscribers[t]=e?this.subscribers[t].filter(function(t){return t!==e}):[]}},{key:"emit",value:function(t,e){Array.isArray(this.subscribers[t])&&this.subscribers[t].forEach(function(t){t(e)})}}]),t}(),Config=function t(){_classCallCheck(this,t),_defineProperty(this,"textInput",{limit:null}),_defineProperty(this,"resultList",{openOnFocus:!0})},_clean$2=new WeakSet,Option=function(){_inherits(n,Component);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),t=e.call(this,void 0,t),_clean$2.add(_assertThisInitialized(t)),_defineProperty(_assertThisInitialized(t),"options",void 0),t}return _createClass(n,[{key:"all",get:function(){return this.options.filter(function(t){return!!t.content})}},{key:"startingWithInput",get:function(){var e=this;return this.options.filter(function(t){return t.content.includes(e.$store.input)&&!t.selected})}},{key:"equalToInput",get:function(){var e=this;return this.options.find(function(t){return t.content===e.$store.input})}},{key:"selected",get:function(){return this.options.filter(function(t){return t.selected}).sort(function(t,e){return t.selected-e.selected})}},{key:"findByTextContent",value:function(e){return this.options.find(function(t){return t.content===e})}},{key:"findByOptionElement",value:function(e){return this.options.find(function(t){return null===e.value?t.content===e.innerHTML:"__new_option__"===e.value?null===t.value&&t.content===e.innerHTML:t.value===e.value&&t.content===e.innerHTML})}},{key:"choose",value:function(t){t?this.select(t):this.$navigation.item?this.selectNavigationItem():this.selectInputValue(),this.$event.emit("option_chosen",t)}},{key:"append",value:function(t){if(!t){t=this.options.push(this.getModel())-1;return this.options[t]}}},{key:"getModel",value:function(t){return{value:t?t.value:null,content:t?t.innerHTML:this.$store.input,selected:this.decide(t),timestamp:t&&this.decide(t)?Date.now():null}}},{key:"select",value:function(e){this.options.map(function(t){t.content===e.content&&(t.selected=!0,t.timestamp=Date.now)})}},{key:"unselect",value:function(e){this.options.map(function(t){t.content===e.content&&(t.selected=!1)}),this.$event.emit("option_unselected"),_classPrivateMethodGet(this,_clean$2,_clean2$2).call(this)}},{key:"decide",value:function(t){var e=!1;if(t){if(!t.value&&!t.content)return!1;e=t.selected}return e}},{key:"isNew",value:function(e){return!this.$store.initialData.find(function(t){return compareOptions(t,e)})}},{key:"isListEmpty",get:function(){return!this.selected.length}},{key:"selectNavigationItem",value:function(){"add"===this.$navigation.item?this.selectInputValue():this.select(this.$navigation.item)}},{key:"selectInputValue",value:function(){this.select(this.append())}},{key:"allTaken",get:function(){var t;return!(this.$app.config.textInput.limit>(null===(t=this.selected)||void 0===t?void 0:t.length))}}]),n}(),_clean2$2=function(){var e=this;this.options=this.options.filter(function(t){return!e.isNew(t)})},Store=function(){_inherits(n,Component);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(t=e.call(this,void 0,t)),"input",null),_defineProperty(_assertThisInitialized(t),"initialData",[]),_defineProperty(_assertThisInitialized(t),"options",new Option(t.$app)),t}return _createClass(n,[{key:"inputIsEmpty",get:function(){var t;return!this.input||(null===(t=this.input)||void 0===t?void 0:t.length)<=0}}]),n}(),NavigationEvents=function(){_inherits(n,Component);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,void 0,t)}return _createClass(n,[{key:"handle",value:function(t){"ArrowDown"===t.key&&(t.preventDefault(),this.arrowDownEvent(t)),"ArrowUp"===t.key&&(t.preventDefault(),this.arrowUpEvent(t))}},{key:"arrowDownEvent",value:function(t){this.isNavigationEnabled(t)&&this.$navigation.down()}},{key:"arrowUpEvent",value:function(t){this.isNavigationEnabled(t)&&this.$navigation.up()}},{key:"isNavigationEnabled",value:function(t){t=this.getWidgetFromEvent(t);return this.$app.widget.resultList.isOpen(t)&&!this.$app.widget.resultList.list.isEmpty(t)}},{key:"getWidgetFromEvent",value:function(t){return t.target.closest(Widget.selector)}}]),n}(),Navigation=function(){_inherits(i,Component);var n=_createSuper(i);function i(t){var e;return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=n.call(this,void 0,t)),"item",""),e.events=new NavigationEvents(t),e}return _createClass(i,[{key:"up",value:function(){var t,e=this.$app.widget.resultList.list.results;this.selectedItem?(t=e.indexOf(this.selectedItem),"add"===this.selectedItem?this.selectedItem=e[e.length-1]:(t<=e.length-1&&(this.selectedItem=e[t-1]),e[t-1]||(this.$app.resultListVoter.canOpenAll()?this.selectedItem=e[e.length-1]:this.selectedItem="add"))):this.$app.resultListVoter.canOpenAll()?this.selectedItem=e[e.length-1]:this.selectedItem="add",this.$event.emit("navigation_action","up")}},{key:"down",value:function(){var t,e=this.$app.widget.resultList.list.results;this.selectedItem?"add"!==this.selectedItem?(t=e.indexOf(this.selectedItem),e.length>t+1&&(this.selectedItem=e[t+1]),e.length===t+1&&(this.$app.resultListVoter.canOpenAll()?this.selectedItem=e[0]:this.selectedItem="add")):this.selectedItem=e[0]:e.length?this.selectedItem=e[0]:this.selectedItem="add",this.$event.emit("navigation_action","down")}},{key:"clear",value:function(){this.selectedItem=""}},{key:"isActive",value:function(t){return t===this.selectedItem}},{key:"isAddItem",value:function(){return"add"===this.selectedItem}},{key:"selectedItem",get:function(){return this.item},set:function(t){this.item=t}}]),i}(),ResultListVoter=function(){function e(t){_classCallCheck(this,e),this.$app=t}return _createClass(e,[{key:"canOpenAll",value:function(){return this.$app.store.inputIsEmpty&&this.$app.optionVoter.canAdd()}},{key:"canOpen",value:function(){return!this.$app.store.inputIsEmpty&&this.$app.optionVoter.canAdd()}}]),e}(),OptionVoter=function(){function e(t){_classCallCheck(this,e),this.app=t}return _createClass(e,[{key:"canAdd",value:function(){return!this.app.store.options.allTaken}}]),e}(),InputVoter=function(){function e(t){_classCallCheck(this,e),this.app=t}return _createClass(e,[{key:"shouldFocusAfterEvent",value:function(t){return!t.target.classList.contains(classnames.result_list_item)&&!t.target.closest(TagList.selector)}}]),e}(),Choosy=function(){function e(t){_classCallCheck(this,e),_defineProperty(this,"widget",void 0),_defineProperty(this,"config",void 0),this.store=new Store(this),this.event=new Event,this.widget=new Widget(t,this),this.config=new Config,this.navigation=new Navigation(this),this.resultListVoter=new ResultListVoter(this),this.optionVoter=new OptionVoter(this),this.inputVoter=new InputVoter(this),(this.widget.element.__x=this).initializeData(),this.registerEventListener(),this.resolveOptions()}return _createClass(e,[{key:"registerEventListener",value:function(){this.clickedOutsideOfWidgetEvent(),this.windowBlurEvent()}},{key:"clickedOutsideOfWidgetEvent",value:function(){var e=this;document.addEventListener("click",function(t){e.widget.element.contains(t.target)||e.isClickOnTagList(t)||e.event.emit("widget_clicked_outside")})}},{key:"windowBlurEvent",value:function(){var t=this;window.addEventListener("blur",function(){t.event.emit("window_blur")})}},{key:"isClickOnTagList",value:function(t){return!!t.target.closest(TagList.selector)}},{key:"initializeData",value:function(){this.store.options.options=Array.from(this.store.initialData)}},{key:"resolveOptions",value:function(){this.widget.initialElement.isMultiple||(this.config.textInput.limit=1)}}]),e}();export default Choosy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3N5Lm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NsYXNzbmFtZXMuanMiLCIuLi9zcmMvZWxlbWVudHMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9Db21wb25lbnQuanMiLCIuLi9zcmMvY29tcG9uZW50cy9Jbml0aWFsRWxlbWVudC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1Jlc3VsdExpc3RMaXN0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUmVzdWx0TGlzdC5qcyIsIi4uL3NyYy91dGlsLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGV4dElucHV0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGFnTGlzdC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1dpZGdldC5qcyIsIi4uL3NyYy9ldmVudC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0NvbmZpZy5qcyIsIi4uL3NyYy9vcHRpb24uanMiLCIuLi9zcmMvc3RvcmUuanMiLCIuLi9zcmMvZXZlbnRzL25hdmlnYXRpb25FdmVudHMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwiLi4vc3JjL3ZvdGVyL1Jlc3VsdExpc3RWb3Rlci5qcyIsIi4uL3NyYy92b3Rlci9PcHRpb25Wb3Rlci5qcyIsIi4uL3NyYy92b3Rlci9JbnB1dFZvdGVyLmpzIiwiLi4vc3JjL2Nob29zeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgd2lkZ2V0OiAnY2hvb3N5LXdpZGdldCcsXG4gICAgaW5wdXQ6ICdjaG9vc3ktaW5wdXQnLFxuICAgIGxpc3Q6ICdjaG9vc3ktbGlzdCcsXG4gICAgaXRlbTogJ2Nob29zeS1pdGVtJyxcbiAgICBpdGVtX3RleHRfc3BhbjogJ2Nob29zeS1pdGVtLXRleHQtc3BhbicsXG4gICAgcmVtb3ZlX2J1dHRvbjogJ2Nob29zeS1yZW1vdmUtYnV0dG9uJyxcbiAgICByZW1vdmVfYnV0dG9uX3N2ZzogJ2Nob29zeS1yZW1vdmUtYnV0dG9uLXN2ZycsXG4gICAgcmVzdWx0X2xpc3RfY29udGFpbmVyOiAnY2hvb3N5LXJlc3VsdC1saXN0LWNvbnRhaW5lcicsXG4gICAgcmVzdWx0X2xpc3Q6ICdjaG9vc3ktcmVzdWx0LWxpc3QnLFxuICAgIHJlc3VsdF9saXN0X2l0ZW06ICdjaG9vc3ktcmVzdWx0LWl0ZW0nLFxuICAgIHJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlOiAnYWN0aXZlJyxcbiAgICBhZGRfaXRlbTogJ2Nob29zeS1hZGQtaXRlbSdcbn0iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi9jbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGdldCB0ZXh0SW5wdXQoKSB7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZSgnaW5wdXQnLCAndGV4dCcsIFtjbGFzc25hbWVzLmlucHV0XSlcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSAnMWNoJ1xuXG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH0sXG5cbiAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMud2lkZ2V0XSlcbiAgICAgICAgd2lkZ2V0LmFwcGVuZCh0aGlzLmxpc3QpXG4gICAgICAgIC8vIHdpZGdldC5hcHBlbmQodGhpcy50ZXh0SW5wdXQpXG4gICAgICAgIHdpZGdldC5hcHBlbmQodGhpcy5yZXN1bHRMaXN0KVxuICAgICAgICByZXR1cm4gd2lkZ2V0XG4gICAgfSxcblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2RpdicsIG51bGwsIFtjbGFzc25hbWVzLmxpc3RdKVxuICAgIH0sXG5cbiAgICBnZXQgcmVtb3ZlQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmNyZWF0ZSgnYnV0dG9uJywgbnVsbCwgW2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl0pXG4gICAgICAgIGJ0bi5hcHBlbmQodGhpcy5yZW1vdmVTVkcpXG4gICAgICAgIHJldHVybiBidG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlbW92ZVNWRygpIHtcblxuICAgICAgICBjb25zdCBzdmcgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCIke2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl9zdmd9XCI+XG4gICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnXG4gICAgICAgICAgICAgICAgICBkPSdNMTUuNzggMTQuMzZhMSAxIDAgMCAxLTEuNDIgMS40MmwtMi44Mi0yLjgzLTIuODMgMi44M2ExIDEgMCAxIDEtMS40Mi0xLjQybDIuODMtMi44Mkw3LjMgOC43YTEgMSAwIDAgMSAxLjQyLTEuNDJsMi44MyAyLjgzIDIuODItMi44M2ExIDEgMCAwIDEgMS40MiAxLjQybC0yLjgzIDIuODMgMi44MyAyLjgyeic+PC9wYXRoPlxuICAgICAgICAgICAgPC9zdmc+YCwgJ3RleHQvaHRtbCcpO1xuXG4gICAgICAgIHJldHVybiBzdmcuYm9keS5maXJzdENoaWxkXG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlc3VsdExpc3QoKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyXSlcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cbiAgICAgICAgLy8gd3JhcHBlci5hcHBlbmQodGhpcy5yZXN1bHRMaXN0TGlzdClcblxuICAgICAgICByZXR1cm4gd3JhcHBlclxuICAgIH0sXG5cbiAgICBnZXQgcmVzdWx0TGlzdExpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgndWwnLCBudWxsLCBbY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF0pXG4gICAgfSxcblxuICAgIGdldCByZXN1bHRJdGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2xpJywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV0pXG4gICAgfSxcblxuICAgIGdldCBhZGRJdGVtKCkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5yZXN1bHRJdGVtXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc25hbWVzLmFkZF9pdGVtKVxuICAgICAgICBpdGVtLmlubmVySFRNTCA9ICdBZGQgbmV3J1xuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfSxcblxuICAgIGdldCBzZWxlY3RPcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgnb3B0aW9uJywgbnVsbClcbiAgICB9LFxuXG4gICAgZ2V0SXRlbSh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMuaXRlbV0pXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRoaXMuZ2V0SXRlbVRleHRTcGFuKHRleHQpKVxuICAgICAgICBpdGVtLmFwcGVuZCh0aGlzLnJlbW92ZUJ1dHRvbilcblxuICAgICAgICByZXR1cm4gaXRlbVxuICAgIH0sXG5cbiAgICBnZXRJdGVtVGV4dFNwYW4odGV4dCkge1xuICAgICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGUoJ3NwYW4nLCBudWxsLCBbY2xhc3NuYW1lcy5pdGVtX3RleHRfc3Bhbl0pXG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH0sXG5cbiAgICBjcmVhdGUodGFnTmFtZSwgdHlwZSA9IG51bGwsIGNsYXNzZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgZWxlbWVudC50eXBlID0gdHlwZVxuXG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtDaG9vc3l9IGFwcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGFwcCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Nob29zeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGFwcCA9IGFwcFxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RvcmV9XG4gICAgICovXG4gICAgZ2V0ICRzdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFwcC5zdG9yZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge05hdmlnYXRpb259XG4gICAgICovXG4gICAgZ2V0ICRuYXZpZ2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLm5hdmlnYXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtFdmVudH1cbiAgICAgKi9cbiAgICBnZXQgJGV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLmV2ZW50XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T3B0aW9ufVxuICAgICAqL1xuICAgIGdldCAkb3B0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLnN0b3JlLm9wdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtUZXh0SW5wdXR9XG4gICAgICovXG4gICAgZ2V0ICR0ZXh0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRhcHAud2lkZ2V0LnRhZ0xpc3QudGV4dElucHV0XG4gICAgfVxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluaXRpYWxFbGVtZW50IGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXBwKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIGFwcClcblxuICAgICAgICB0aGlzLnN0b3JlSW5pdGlhbERhdGEoYXBwKVxuICAgICAgICB0aGlzLmhpZGUoKVxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoYXBwKVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgfVxuXG4gICAgYXR0YWNoV2lkZ2V0KHdpZGdldCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5hcHBlbmQod2lkZ2V0KVxuICAgIH1cblxuICAgIHN0b3JlSW5pdGlhbERhdGEoKSB7XG4gICAgICAgIHRoaXMuJGFwcC5zdG9yZS5pbml0aWFsRGF0YSA9IEFycmF5LmZyb20odGhpcy5nZXRBbGxPcHRpb25zKVxuICAgICAgICAgICAgLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLm9wdGlvbnMuZ2V0TW9kZWwob3B0aW9uKVxuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXQgZ2V0QWxsT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpKVxuICAgIH1cblxuICAgIGFwcGVuZE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9uID0gZWxlbWVudHMuc2VsZWN0T3B0aW9uXG4gICAgICAgIG5ld09wdGlvbi52YWx1ZSA9ICdfX25ld19vcHRpb25fXydcbiAgICAgICAgbmV3T3B0aW9uLmlubmVySFRNTCA9IG9wdGlvbi5jb250ZW50XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZChuZXdPcHRpb24pXG4gICAgICAgIHJldHVybiBuZXdPcHRpb25cbiAgICB9XG5cbiAgICByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy4kYXBwLmV2ZW50Lm9uKCdvcHRpb25fY2hvc2VuJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGFwcC5ldmVudC5vbignb3B0aW9uX3Vuc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUub3B0aW9ucy5maW5kQnlPcHRpb25FbGVtZW50KG9wdGlvbik/LnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBpc011bHRpcGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lm11bHRpcGxlXG4gICAgfVxuXG59IiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cbi8qKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdExpc3RMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdEJveFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXN1bHRCb3gsIGFwcCkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIGFwcCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGUocmVzdWx0Qm94KVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpXG5cbiAgICB9XG5cbiAgICBjcmVhdGUocmVzdWx0Qm94KSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbGVtZW50cy5yZXN1bHRMaXN0TGlzdFxuICAgICAgICByZXN1bHRCb3guYXBwZW5kKGxpc3QpXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGxpc3RcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKClcblxuICAgICAgICB0aGlzLiRldmVudC5vZmYoJ25hdmlnYXRpb25fYWN0aW9uJylcblxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RBbmRTY3JvbGwoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdoZXknKVxuICAgICAgICB0aGlzLmNyZWF0ZVJlc3VsdExpc3QoKVxuICAgICAgICB0aGlzLnNjcm9sbFRvVmlldygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkge1xuICAgICAgICB0aGlzLmNob29zZUxpc3RlbmVyKClcblxuICAgICAgICB0aGlzLiRldmVudC5vbignbmF2aWdhdGlvbl9hY3Rpb24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpc3RBbmRTY3JvbGwoKTtcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGNob29zZUxpc3RlbmVyKCkge1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKGBsaS4ke2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbX06bm90KC4ke2NsYXNzbmFtZXMuYWRkX2l0ZW19KWApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2UoZXZlbnQudGFyZ2V0LmlubmVySFRNTClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKCdsaS4nICsgY2xhc3NuYW1lcy5hZGRfaXRlbSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNob29zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBjaG9vc2UodmFsdWUpIHtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuJG9wdGlvbi5jaG9vc2UoXG4gICAgICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmZpbmRCeVRleHRDb250ZW50KHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuJG9wdGlvbi5lcXVhbFRvSW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuJG9wdGlvbi5jaG9vc2UoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdFJlc3VsdHMoKSB7XG5cbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKFxuICAgICAgICAgICAgdGhpcy5yZXN1bHRzXG4gICAgICAgIClcblxuICAgICAgICBpZiAoIXRoaXMuJG9wdGlvbi5lcXVhbFRvSW5wdXQgJiYgdGhpcy4kdGV4dElucHV0Lmhhc01pbkxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRBZGRJdGVtVG9MaXN0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RBbGxSZXN1bHRzKCkge1xuXG4gICAgICAgIHRoaXMuI2NsZWFuKClcblxuICAgICAgICB0aGlzLmFwcGVuZChcbiAgICAgICAgICAgIHRoaXMuJG9wdGlvbi5hbGxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNyZWF0ZVJlc3VsdExpc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLiRhcHAucmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlzdEFsbFJlc3VsdHMoKVxuXG4gICAgICAgIGlmICh0aGlzLiRhcHAucmVzdWx0TGlzdFZvdGVyLmNhbk9wZW4oKSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlzdFJlc3VsdHMoKVxuICAgIH1cblxuICAgIGFwcGVuZChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPcHRpb24ob3B0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgdGhpcy5hcHBlbmRFbGVtZW50VG9MaXN0KHRoaXMuY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhhc09wdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpXG4gICAgICAgICAgICAuZmluZChyZXN1bHQgPT4gcmVzdWx0LnRleHRDb250ZW50ID09PSBvcHRpb24udGV4dENvbnRlbnQpXG4gICAgfVxuXG4gICAgYXBwZW5kQWRkSXRlbVRvTGlzdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0FkZE5ld0l0ZW0pIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLmFkZEl0ZW1cblxuICAgICAgICAgICAgaWYgKHRoaXMuJG5hdmlnYXRpb24uaXNBZGRJdGVtKCkpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV9hY3RpdmUpXG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoZWxlbWVudClcbiAgICB9XG5cbiAgICBnZXQgaGFzQWRkTmV3SXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuYWRkX2l0ZW0pXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pIHtcblxuICAgICAgICBjb25zdCBpdGVtID0gZWxlbWVudHMucmVzdWx0SXRlbVxuXG4gICAgICAgIGlmICh0aGlzLiRuYXZpZ2F0aW9uLmlzQWN0aXZlKG9wdGlvbikpXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtX2FjdGl2ZSlcblxuICAgICAgICBpdGVtLmlubmVySFRNTCA9IG9wdGlvbi5jb250ZW50XG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfVxuXG4gICAgaXNFbXB0eSh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuICF3aWRnZXQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgIGAke1Jlc3VsdExpc3RMaXN0LnNlbGVjdG9yfSA+IC4ke2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbX1gXG4gICAgICAgICkubGVuZ3RoXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0fWBcbiAgICB9XG5cbiAgICBnZXQgYWxsTGlzdEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpXG4gICAgfVxuXG4gICAgI2NsZWFuKCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuYWxsTGlzdEl0ZW1zXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaSAhPT0gbGVuOyArK2kpIHtcbiAgICAgICAgICAgIG5vZGVzWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHJlc3VsdHMoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuJGFwcC5yZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG9wdGlvbi5hbGwgPz8gW11cblxuICAgICAgICBpZiAodGhpcy4kYXBwLnJlc3VsdExpc3RWb3Rlci5jYW5PcGVuKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kdGV4dElucHV0Lmhhc01pbkxlbmd0aCA/IHRoaXMuJG9wdGlvbi5zdGFydGluZ1dpdGhJbnB1dCA6IFtdXG5cbiAgICB9XG5cbiAgICBzZXRSZXN1bHRCb3hIZWlnaHQoKSB7XG5cbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmFsbExpc3RJdGVtc1xuXG4gICAgICAgIGNvbnN0IHRvdGFsSXRlbXMgPSBpdGVtcy5sZW5ndGhcbiAgICAgICAgbGV0IHJlc3VsdCA9IDBcblxuICAgICAgICBpZiAodG90YWxJdGVtcyA+IDUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGl0ZW1zLml0ZW0oaSkub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gcmVzdWx0ID8gcmVzdWx0ICsgJ3B4JyA6ICdhdXRvJ1xuICAgIH1cblxuICAgIHNjcm9sbFRvVmlldygpIHtcblxuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gdGhpcy5nZXRBY3RpdmVFbGVtZW50KClcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgICAgICAgICAgaW5saW5lOiAnbmVhcmVzdCcsXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QWN0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy4kbmF2aWdhdGlvbi5pdGVtXG5cbiAgICAgICAgaWYgKCFvcHRpb24pXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuXG4gICAgICAgIHJldHVybiB0aGlzLiNmaW5kT3B0aW9uRWxlbWVudEJ5RGF0YU9wdGlvbihvcHRpb24pXG5cbiAgICB9XG5cbiAgICAjZmluZE9wdGlvbkVsZW1lbnRCeURhdGFPcHRpb24ob3B0aW9uKSB7XG4gICAgICAgIGlmIChvcHRpb24gPT09ICdhZGQnKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc25hbWVzLmFkZF9pdGVtfWApXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWxsTGlzdEl0ZW1zKS5maW5kKG9wdGlvbkVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbkVsZW1lbnQ/LmlubmVySFRNTCA9PT0gb3B0aW9uPy5jb250ZW50XG4gICAgICAgIH0pXG4gICAgfVxuXG59XG4iLCJpbXBvcnQgUmVzdWx0TGlzdExpc3QgZnJvbSBcIi4vUmVzdWx0TGlzdExpc3RcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuXG5cbi8qKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdExpc3QgZXh0ZW5kcyBDb21wb25lbnR7XG5cbiAgICBsaXN0XG5cbiAgICBjbG9zZUV2ZW50cyA9IFtcbiAgICAgICAgJ3dpZGdldF9jbGlja2VkX291dHNpZGUnLFxuICAgICAgICAnaW5wdXRfcHJlc3NlZF9lc2MnLFxuICAgICAgICAnaW5wdXRfcHJlc3NlZF90YWInLFxuICAgICAgICAnd2luZG93X2JsdXInXG4gICAgXVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhcHApIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgYXBwKTtcblxuICAgICAgICB0aGlzLmFwcGVuZExpc3QoKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkge1xuXG4gICAgICAgIHRoaXMuY2xvc2VFdmVudHMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZXZlbnQub24oZXZlbnROYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVJlc3VsdEJveCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCdpbnB1dF9pbnB1dF9kZWJvdW5jZWQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5pbnB1dElzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUmVzdWx0Qm94KClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saXN0LmNyZWF0ZVJlc3VsdExpc3QoKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLiRldmVudC5vbignaW5wdXRfZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuY3JlYXRlUmVzdWx0TGlzdCgpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY3JlYXRlQm94KCkge1xuICAgICAgICB0aGlzLm9wZW5SZXN1bHRCb3goKVxuICAgICAgICB0aGlzLmxpc3Quc2V0UmVzdWx0Qm94SGVpZ2h0KClcbiAgICB9XG5cbiAgICBvcGVuUmVzdWx0Qm94KCkge1xuICAgICAgICBpZiAoIXRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSdcbiAgICB9XG5cbiAgICBjbG9zZVJlc3VsdEJveCgpIHtcbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIGlmICh0aGlzLm9wZW4pXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXG4gICAgICAgIHRoaXMuJG5hdmlnYXRpb24uY2xlYXIoKVxuICAgIH1cblxuICAgICNjbGVhbigpIHtcbiAgICAgICAgdGhpcy5saXN0LmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmFwcGVuZExpc3QoKVxuICAgIH1cblxuICAgIGFwcGVuZExpc3QoKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IG5ldyBSZXN1bHRMaXN0TGlzdCh0aGlzLmVsZW1lbnQsIHRoaXMuJGFwcClcbiAgICB9XG5cbiAgICBpc09wZW4od2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB3aWRnZXQucXVlcnlTZWxlY3RvcihSZXN1bHRMaXN0LnNlbGVjdG9yKS5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2NvbnRhaW5lcn1gXG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICAgICAgICBmdW5jKC4uLmFyZ3MpXG4gICAgICAgIH07XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXN0T2ZBcnJheShhcnJheSkge1xuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLTFdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlT3B0aW9ucyhmaXJzdE9wdGlvbiwgc2Vjb25kT3B0aW9uKSB7XG4gICAgcmV0dXJuIChmaXJzdE9wdGlvbi52YWx1ZSA9PT0gc2Vjb25kT3B0aW9uLnZhbHVlKSAmJiAoZmlyc3RPcHRpb24uY29udGVudCA9PT0gc2Vjb25kT3B0aW9uLmNvbnRlbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9tTm9kZUxpc3QoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGVsZW1lbnQpXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCB7ZGVib3VuY2UsIGdldExhc3RPZkFycmF5fSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dElucHV0IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50PX0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhcHApIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgYXBwKVxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFN0YXRlKClcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0V2lkdGgoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJLZXlFdmVudChldmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVzY2FwZUtleUV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja3NwYWNlS2V5RXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZXZlbnQuZW1pdCgnaW5wdXRfcHJlc3NlZF90YWInKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRuYXZpZ2F0aW9uLmV2ZW50cy5oYW5kbGUoZXZlbnQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JyxcbiAgICAgICAgICAgIGRlYm91bmNlKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdpbnB1dF9pbnB1dF9kZWJvdW5jZWQnLCBldmVudClcbiAgICAgICAgICAgIH0sIDI1MClcbiAgICAgICAgKVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ2lucHV0X2ZvY3VzJylcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZXZlbnQuZW1pdCgnaW5wdXRfYmx1cicsIGV2ZW50KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCdpbnB1dF9jbGVhcmVkJywgdGhpcy5yZXNldFZhbHVlKVxuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5pbnB1dD8ubGVuZ3RoXG4gICAgfVxuXG4gICAgZ2V0IGhhc01pbkxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID49IDJcbiAgICB9XG5cbiAgICBhZGp1c3RXaWR0aCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7dGhpcy5sZW5ndGggPyB0aGlzLmxlbmd0aCArIDEgOiAxfWNoYFxuICAgIH1cblxuICAgIHJlZnJlc2hTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy4kc3RvcmUuaW5wdXQgPSB0aGlzLmVsZW1lbnQudmFsdWVcbiAgICB9XG5cbiAgICBsaW1pdChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuJGFwcC5vcHRpb25Wb3Rlci5jYW5BZGQoKSlcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gJy4nICsgY2xhc3NuYW1lcy5pbnB1dFxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLiRzdG9yZS5pbnB1dCA9IG51bGxcbiAgICAgICAgdGhpcy4kZXZlbnQuZW1pdCgnaW5wdXRfY2xlYXJlZCcpXG4gICAgfVxuXG4gICAgZW50ZXJLZXlFdmVudChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaWYgKHRoaXMuaGFzTWluTGVuZ3RoIHx8IHRoaXMuJGFwcC5vcHRpb25Wb3Rlci5jYW5BZGQoKSlcbiAgICAgICAgICAgIHRoaXMuJG9wdGlvbi5jaG9vc2UoKVxuICAgIH1cblxuICAgIGVzY2FwZUtleUV2ZW50KCkge1xuICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdpbnB1dF9wcmVzc2VkX2VzYycpXG4gICAgfVxuXG4gICAgYmFja3NwYWNlS2V5RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRzdG9yZS5pbnB1dElzRW1wdHkgfHwgdGhpcy4kb3B0aW9uLmlzTGlzdEVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICB0aGlzLiRvcHRpb24udW5zZWxlY3QoZ2V0TGFzdE9mQXJyYXkodGhpcy4kb3B0aW9uLnNlbGVjdGVkKSlcbiAgICB9XG5cbiAgICBnZXQgaXNGb2N1c3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzbmFtZXMuaW5wdXQpXG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0ZvY3Vzc2VkKVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZvY3VzKClcbiAgICB9XG5cbiAgICByZXNldFZhbHVlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSBudWxsXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy4kZXZlbnQub2ZmKCdpbnB1dF9jbGVhcmVkJywgdGhpcy5yZXNldFZhbHVlKVxuICAgIH1cbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0xpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgdGV4dElucHV0XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXBwKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIGFwcClcblxuICAgICAgICB0aGlzLmFwcGVuZFRleHRJbnB1dCgpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIGFwcGVuZFRleHRJbnB1dCgpIHtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQgPSBuZXcgVGV4dElucHV0KGVsZW1lbnRzLnRleHRJbnB1dCwgdGhpcy4kYXBwKVxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKHRoaXMudGV4dElucHV0LmVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja2VkT25SZW1vdmVCdXR0b24oZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgIHRoaXMuJG9wdGlvbi51bnNlbGVjdChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmZpbmRCeVRleHRDb250ZW50KHRoaXMuZmluZENsaWNrZWRUYWcoZXZlbnQpLmlubmVySFRNTClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2xpY2tlZE9uUmVtb3ZlQnV0dG9uKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJ2J1dHRvbi4nICsgY2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG5cbiAgICAgICAgaWYgKHRhcmdldC5tYXRjaGVzKCdzdmcuJyArIGNsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl9zdmcpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICByZXR1cm4gISF0YXJnZXQubWF0Y2hlcygncGF0aCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPcHRpb259IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICogQHJldHVybnMge1RhZ0xpc3R9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zLCBhcHApIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVsZW1lbnRzLmxpc3RcblxuICAgICAgICBvcHRpb25zLnNlbGVjdGVkLmZvckVhY2goaXRlbSA9PiBsaXN0LmFwcGVuZChlbGVtZW50cy5nZXRJdGVtKGl0ZW0uY29udGVudCkpKVxuXG4gICAgICAgIHJldHVybiBuZXcgVGFnTGlzdChsaXN0LCBhcHApXG4gICAgfVxuXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpXG4gICAgfVxuXG4gICAgZmluZENsaWNrZWRUYWcoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuJyArIGNsYXNzbmFtZXMuaXRlbSlcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuaXRlbV90ZXh0X3NwYW4pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuICcuJyArIGNsYXNzbmFtZXMubGlzdFxuICAgIH1cblxufVxuIiwiaW1wb3J0IGVsZW1lbnRzIGZyb20gXCIuLy4uL2VsZW1lbnRzXCI7XG5pbXBvcnQgSW5pdGlhbEVsZW1lbnQgZnJvbSBcIi4vSW5pdGlhbEVsZW1lbnRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgUmVzdWx0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0XCI7XG5pbXBvcnQgVGFnTGlzdCBmcm9tIFwiLi9UYWdMaXN0XCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgV2lkZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAgIGluaXRpYWxFbGVtZW50XG5cbiAgICB0YWdMaXN0XG4gICAgcmVzdWx0TGlzdFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXBwKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRzLndpZGdldCwgYXBwKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50ID0gbmV3IEluaXRpYWxFbGVtZW50KGVsZW1lbnQsIGFwcClcblxuICAgICAgICB0aGlzLnJlc3VsdExpc3QgPSBuZXcgUmVzdWx0TGlzdCh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc25hbWVzLnJlc3VsdF9saXN0X2NvbnRhaW5lciksIGFwcClcbiAgICAgICAgdGhpcy50YWdMaXN0ID0gbmV3IFRhZ0xpc3QodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5saXN0KSwgYXBwKVxuXG4gICAgICAgIHRoaXMuaW5pdGlhbEVsZW1lbnQuYXR0YWNoV2lkZ2V0KHRoaXMuZWxlbWVudClcbiAgICAgICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRhcHAuaW5wdXRWb3Rlci5zaG91bGRGb2N1c0FmdGVyRXZlbnQoZXZlbnQpICYmIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCdvcHRpb25fY2hvc2VuJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICAgICAgdGhpcy4jZm9jdXNJbnB1dCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZXZlbnQub24oJ29wdGlvbl91bnNlbGVjdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICAgICAgdGhpcy4jZm9jdXNJbnB1dCgpXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICAjZm9jdXNJbnB1dCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5mb2N1cygpXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFwcGVuZE5ld1NlbGVjdE9wdGlvbnMoKVxuICAgICAgICB0aGlzLnVwZGF0ZVRhZ0xpc3QoKVxuICAgICAgICB0aGlzLmNsb3NlUmVzdWx0TGlzdEJveCgpXG4gICAgICAgIHRoaXMuY2xlYXJUZXh0SW5wdXQoKVxuICAgICAgICB0aGlzLmxpbWl0KClcbiAgICB9XG5cbiAgICBhcHBlbmROZXdTZWxlY3RPcHRpb25zKCkge1xuICAgICAgICB0aGlzLiRvcHRpb24uYWxsLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRvcHRpb24uaXNOZXcob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbEVsZW1lbnQuYXBwZW5kT3B0aW9uKG9wdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5pbml0aWFsRWxlbWVudC51cGRhdGUoKVxuICAgIH1cblxuICAgIHVwZGF0ZVRhZ0xpc3QoKSB7XG4gICAgICAgIHRoaXMudGFnTGlzdC5yZW1vdmUoKVxuICAgICAgICB0aGlzLnRhZ0xpc3QgPSBUYWdMaXN0LmNyZWF0ZSh0aGlzLiRvcHRpb24sIHRoaXMuJGFwcClcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCh0aGlzLnRhZ0xpc3QuZWxlbWVudClcbiAgICB9XG5cbiAgICBjbG9zZVJlc3VsdExpc3RCb3goKSB7XG4gICAgICAgIHRoaXMucmVzdWx0TGlzdC5jbG9zZVJlc3VsdEJveCgpXG4gICAgfVxuXG4gICAgY2xlYXJUZXh0SW5wdXQoKSB7XG4gICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuY2xlYXIoKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBgLiR7Y2xhc3NuYW1lcy53aWRnZXR9YFxuICAgIH1cblxuICAgIGxpbWl0KCkge1xuICAgICAgICBpZiAoIXRoaXMuJGFwcC5vcHRpb25Wb3Rlci5jYW5BZGQoKSkge1xuICAgICAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5lbGVtZW50Lm1heExlbmd0aCA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuZWxlbWVudC5tYXhMZW5ndGggPSA1MjQyODhcbiAgICAgICAgfVxuICAgIH1cblxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50IHtcbiAgICBzdWJzY3JpYmVycyA9IHt9XG5cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKVxuICAgIH1cblxuICAgIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMpW2V2ZW50TmFtZV0gPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0uZmlsdGVyKGV2ZW50ID0+IGV2ZW50ICE9PSBjYWxsYmFjaylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMpW2V2ZW50TmFtZV0gPSBbXVxuICAgIH1cblxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0pKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWcge1xuXG4gICAgdGV4dElucHV0ID0ge1xuICAgICAgICBsaW1pdDogbnVsbFxuICAgIH1cblxuICAgIHJlc3VsdExpc3QgPSB7XG4gICAgICAgIG9wZW5PbkZvY3VzOiB0cnVlXG4gICAgfVxuXG59IiwiaW1wb3J0IHtjb21wYXJlT3B0aW9uc30gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9jb21wb25lbnRzL0NvbXBvbmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcHRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgb3B0aW9uc1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgYXBwKTtcbiAgICB9XG5cbiAgICBnZXQgYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcihvcHRpb24gPT4gISFvcHRpb24uY29udGVudClcbiAgICB9XG5cbiAgICBnZXQgc3RhcnRpbmdXaXRoSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY29udGVudC5pbmNsdWRlcyh0aGlzLiRzdG9yZS5pbnB1dCkgJiYgIW9wdGlvbi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICBnZXQgZXF1YWxUb0lucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQob3B0aW9uID0+IG9wdGlvbi5jb250ZW50ID09PSB0aGlzLiRzdG9yZS5pbnB1dClcbiAgICB9XG5cbiAgICBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgIC5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnNlbGVjdGVkIC0gYi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICBmaW5kQnlUZXh0Q29udGVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQob3B0aW9uID0+IG9wdGlvbi5jb250ZW50ID09PSB2YWx1ZSlcbiAgICB9XG5cbiAgICBmaW5kQnlPcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maW5kKG9wdGlvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25FbGVtZW50LnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24uY29udGVudCA9PT0gb3B0aW9uRWxlbWVudC5pbm5lckhUTUxcblxuICAgICAgICAgICAgaWYgKG9wdGlvbkVsZW1lbnQudmFsdWUgPT09ICdfX25ld19vcHRpb25fXycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBudWxsICYmIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBvcHRpb25FbGVtZW50LnZhbHVlICYmIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgY2hvb3NlKG9wdGlvbikge1xuXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KG9wdGlvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRuYXZpZ2F0aW9uLml0ZW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5hdmlnYXRpb25JdGVtKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJbnB1dFZhbHVlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ29wdGlvbl9jaG9zZW4nLCBvcHRpb24pXG4gICAgfVxuXG4gICAgYXBwZW5kKG9wdGlvbikge1xuXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RvcmVJbmRleCA9IHRoaXMub3B0aW9ucy5wdXNoKHRoaXMuZ2V0TW9kZWwoKSkgLSAxXG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1tzdG9yZUluZGV4XVxuICAgIH1cblxuICAgIGdldE1vZGVsKG9wdGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbiA/IG9wdGlvbi52YWx1ZSA6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb24gPyBvcHRpb24uaW5uZXJIVE1MIDogdGhpcy4kc3RvcmUuaW5wdXQsXG4gICAgICAgICAgICBzZWxlY3RlZDogdGhpcy5kZWNpZGUob3B0aW9uKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKG9wdGlvbiAmJiB0aGlzLmRlY2lkZShvcHRpb24pKSA/IERhdGUubm93KCkgOiBudWxsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3Qob3B0aW9uKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb250ZW50ICE9PSBvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgICAgIGl0ZW0udGltZXN0YW1wID0gRGF0ZS5ub3dcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1bnNlbGVjdChvcHRpb24pIHtcblxuICAgICAgICB0aGlzLm9wdGlvbnMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGVudCAhPT0gb3B0aW9uLmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ29wdGlvbl91bnNlbGVjdGVkJylcbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuICAgIH1cblxuICAgIGRlY2lkZShvcHRpb24pIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gZmFsc2VcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9uLnZhbHVlICYmICFvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBvcHRpb24uc2VsZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFxuICAgIH1cblxuICAgIGlzTmV3KG9wdGlvbikge1xuICAgICAgICByZXR1cm4gIXRoaXMuJHN0b3JlLmluaXRpYWxEYXRhLmZpbmQoaXRlbSA9PiBjb21wYXJlT3B0aW9ucyhpdGVtLCBvcHRpb24pKVxuICAgIH1cblxuICAgICNjbGVhbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5vcHRpb25zLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5pc05ldyhpdGVtKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBpc0xpc3RFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnNlbGVjdGVkLmxlbmd0aFxuICAgIH1cblxuICAgIHNlbGVjdE5hdmlnYXRpb25JdGVtKCkge1xuICAgICAgICBpZiAodGhpcy4kbmF2aWdhdGlvbi5pdGVtID09PSAnYWRkJykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RJbnB1dFZhbHVlKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuJG5hdmlnYXRpb24uaXRlbSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdElucHV0VmFsdWUoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0KFxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgZ2V0IGFsbFRha2VuKCkge1xuICAgICAgICByZXR1cm4gISh0aGlzLiRhcHAuY29uZmlnLnRleHRJbnB1dC5saW1pdCA+IHRoaXMuc2VsZWN0ZWQ/Lmxlbmd0aClcbiAgICB9XG59IiwiaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi9vcHRpb25cIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vY29tcG9uZW50cy9Db21wb25lbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmUgZXh0ZW5kcyBDb21wb25lbnR7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIodW5kZWZpbmVkLCBhcHApO1xuICAgIH1cblxuICAgIGlucHV0ID0gbnVsbFxuXG4gICAgaW5pdGlhbERhdGEgPSBbXVxuXG4gICAgb3B0aW9ucyA9IG5ldyBPcHRpb24odGhpcy4kYXBwKVxuXG4gICAgZ2V0IGlucHV0SXNFbXB0eSgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0Py5sZW5ndGggPD0gMFxuICAgIH1cbn0iLCJpbXBvcnQge1dpZGdldH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvV2lkZ2V0XCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9jb21wb25lbnRzL0NvbXBvbmVudFwiO1xuXG4vKipcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uRXZlbnRzIGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgYXBwKTtcbiAgICB9XG5cbiAgICBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMuYXJyb3dEb3duRXZlbnQoZXZlbnQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMuYXJyb3dVcEV2ZW50KGV2ZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXJyb3dEb3duRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNOYXZpZ2F0aW9uRW5hYmxlZChldmVudCkpIHRoaXMuJG5hdmlnYXRpb24uZG93bigpXG4gICAgfVxuXG4gICAgYXJyb3dVcEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzTmF2aWdhdGlvbkVuYWJsZWQoZXZlbnQpKSB0aGlzLiRuYXZpZ2F0aW9uLnVwKClcbiAgICB9XG5cbiAgICBpc05hdmlnYXRpb25FbmFibGVkKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZGdldCA9IHRoaXMuZ2V0V2lkZ2V0RnJvbUV2ZW50KGV2ZW50KVxuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLndpZGdldC5yZXN1bHRMaXN0LmlzT3Blbih3aWRnZXQpICYmICF0aGlzLiRhcHAud2lkZ2V0LnJlc3VsdExpc3QubGlzdC5pc0VtcHR5KHdpZGdldClcbiAgICB9XG5cbiAgICBnZXRXaWRnZXRGcm9tRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KFdpZGdldC5zZWxlY3RvcilcbiAgICB9XG59XG5cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgTmF2aWdhdGlvbkV2ZW50cyBmcm9tIFwiLi4vZXZlbnRzL25hdmlnYXRpb25FdmVudHNcIjtcblxuLyoqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudHtcblxuICAgIGl0ZW0gPSAnJ1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgYXBwKTtcblxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBOYXZpZ2F0aW9uRXZlbnRzKGFwcClcbiAgICB9XG5cbiAgICB1cCgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuJGFwcC53aWRnZXQucmVzdWx0TGlzdC5saXN0LnJlc3VsdHNcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGFwcC5yZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHRzLmluZGV4T2YodGhpcy5zZWxlY3RlZEl0ZW0pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8PSByZXN1bHRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzW2luZGV4IC0gMV1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHNbaW5kZXggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJGFwcC5yZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICdhZGQnXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRldmVudC5lbWl0KCduYXZpZ2F0aW9uX2FjdGlvbicsICd1cCcpXG4gICAgfVxuXG4gICAgZG93bigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuJGFwcC53aWRnZXQucmVzdWx0TGlzdC5saXN0LnJlc3VsdHNcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtKSB7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICdhZGQnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSAhPT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdHMuaW5kZXhPZih0aGlzLnNlbGVjdGVkSXRlbSlcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IGluZGV4ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbaW5kZXggKyAxXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy4kYXBwLnJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gJ2FkZCdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbMF1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLiRldmVudC5lbWl0KCduYXZpZ2F0aW9uX2FjdGlvbicsICdkb3duJylcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnJ1xuICAgIH1cblxuICAgIGlzQWN0aXZlKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gb3B0aW9uID09PSB0aGlzLnNlbGVjdGVkSXRlbVxuICAgIH1cblxuICAgIGlzQWRkSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuICdhZGQnID09PSB0aGlzLnNlbGVjdGVkSXRlbVxuICAgIH1cblxuICAgIGdldCBzZWxlY3RlZEl0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1cbiAgICB9XG5cbiAgICBzZXQgc2VsZWN0ZWRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbVxuICAgIH1cblxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdExpc3RWb3RlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgdGhpcy4kYXBwID0gYXBwXG4gICAgfVxuXG4gICAgY2FuT3BlbkFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFwcC5zdG9yZS5pbnB1dElzRW1wdHkgJiYgdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpXG4gICAgfVxuXG4gICAgY2FuT3BlbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLiRhcHAuc3RvcmUuaW5wdXRJc0VtcHR5ICYmIHRoaXMuJGFwcC5vcHRpb25Wb3Rlci5jYW5BZGQoKVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBPcHRpb25Wb3RlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHBcbiAgICB9XG5cbiAgICBjYW5BZGQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5hcHAuc3RvcmUub3B0aW9ucy5hbGxUYWtlblxuICAgIH1cbn0iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi4vY2xhc3NuYW1lc1wiO1xuaW1wb3J0IFRhZ0xpc3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvVGFnTGlzdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dFZvdGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICB0aGlzLmFwcCA9IGFwcFxuICAgIH1cblxuICAgIHNob3VsZEZvY3VzQWZ0ZXJFdmVudChldmVudCkge1xuXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICByZXR1cm4gIWV2ZW50LnRhcmdldC5jbG9zZXN0KFRhZ0xpc3Quc2VsZWN0b3IpO1xuXG4gICAgfVxuXG59IiwiaW1wb3J0IHtXaWRnZXR9IGZyb20gXCIuL2NvbXBvbmVudHMvV2lkZ2V0XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vZXZlbnRcIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuL2NvbXBvbmVudHMvVGFnTGlzdFwiO1xuaW1wb3J0ICcuL3N0eWxlL2Nob29zeS5jc3MnXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuL2NvbXBvbmVudHMvQ29uZmlnXCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4vc3RvcmVcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvTmF2aWdhdGlvblwiO1xuaW1wb3J0IFJlc3VsdExpc3RWb3RlciBmcm9tIFwiLi92b3Rlci9SZXN1bHRMaXN0Vm90ZXJcIjtcbmltcG9ydCBPcHRpb25Wb3RlciBmcm9tIFwiLi92b3Rlci9PcHRpb25Wb3RlclwiO1xuaW1wb3J0IElucHV0Vm90ZXIgZnJvbSBcIi4vdm90ZXIvSW5wdXRWb3RlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaG9vc3kge1xuXG4gICAgd2lkZ2V0XG4gICAgY29uZmlnXG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTdG9yZSh0aGlzKVxuICAgICAgICB0aGlzLmV2ZW50ID0gbmV3IEV2ZW50KClcbiAgICAgICAgdGhpcy53aWRnZXQgPSBuZXcgV2lkZ2V0KGVsZW1lbnQsIHRoaXMpXG4gICAgICAgIHRoaXMuY29uZmlnID0gbmV3IENvbmZpZygpXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHRoaXMpXG5cbiAgICAgICAgdGhpcy5yZXN1bHRMaXN0Vm90ZXIgPSBuZXcgUmVzdWx0TGlzdFZvdGVyKHRoaXMpXG4gICAgICAgIHRoaXMub3B0aW9uVm90ZXIgPSBuZXcgT3B0aW9uVm90ZXIodGhpcylcbiAgICAgICAgdGhpcy5pbnB1dFZvdGVyID0gbmV3IElucHV0Vm90ZXIodGhpcylcblxuICAgICAgICB0aGlzLndpZGdldC5lbGVtZW50Ll9feCA9IHRoaXNcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKVxuICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICAgIHRoaXMuY2xpY2tlZE91dHNpZGVPZldpZGdldEV2ZW50KClcbiAgICAgICAgdGhpcy53aW5kb3dCbHVyRXZlbnQoKVxuICAgIH1cblxuICAgIGNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudCgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLndpZGdldC5lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgdGhpcy5pc0NsaWNrT25UYWdMaXN0KGV2ZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgdGhpcy5ldmVudC5lbWl0KCd3aWRnZXRfY2xpY2tlZF9vdXRzaWRlJylcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB3aW5kb3dCbHVyRXZlbnQoKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudC5lbWl0KCd3aW5kb3dfYmx1cicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaXNDbGlja09uVGFnTGlzdChldmVudCkge1xuICAgICAgICByZXR1cm4gISFldmVudC50YXJnZXQuY2xvc2VzdChUYWdMaXN0LnNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5vcHRpb25zLm9wdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuc3RvcmUuaW5pdGlhbERhdGEpXG4gICAgfVxuXG4gICAgcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy53aWRnZXQuaW5pdGlhbEVsZW1lbnQuaXNNdWx0aXBsZSlcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnRleHRJbnB1dC5saW1pdCA9IDFcbiAgICB9XG59Il0sIm5hbWVzIjpbIndpZGdldCIsImlucHV0IiwibGlzdCIsIml0ZW0iLCJpdGVtX3RleHRfc3BhbiIsInJlbW92ZV9idXR0b24iLCJyZW1vdmVfYnV0dG9uX3N2ZyIsInJlc3VsdF9saXN0X2NvbnRhaW5lciIsInJlc3VsdF9saXN0IiwicmVzdWx0X2xpc3RfaXRlbSIsInJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlIiwiYWRkX2l0ZW0iLCJ0aGlzIiwiY3JlYXRlIiwiY2xhc3NuYW1lcyIsInN0eWxlIiwid2lkdGgiLCJhcHBlbmQiLCJyZXN1bHRMaXN0IiwiYnRuIiwicmVtb3ZlU1ZHIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiYm9keSIsImZpcnN0Q2hpbGQiLCJ3cmFwcGVyIiwiZGlzcGxheSIsInJlc3VsdEl0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJnZXRJdGVtIiwidGV4dCIsImdldEl0ZW1UZXh0U3BhbiIsInJlbW92ZUJ1dHRvbiIsInNwYW4iLCJ0YWdOYW1lIiwidHlwZSIsImNsYXNzZXMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZm9yRWFjaCIsIm5hbWUiLCJDb21wb25lbnQiLCJhcHAiLCIkYXBwIiwic3RvcmUiLCJuYXZpZ2F0aW9uIiwiZXZlbnQiLCJvcHRpb25zIiwidGFnTGlzdCIsInRleHRJbnB1dCIsIkluaXRpYWxFbGVtZW50Iiwic3RvcmVJbml0aWFsRGF0YSIsImhpZGUiLCJyZWdpc3Rlckxpc3RlbmVycyIsInBhcmVudEVsZW1lbnQiLCJpbml0aWFsRGF0YSIsIkFycmF5IiwiZnJvbSIsImdldEFsbE9wdGlvbnMiLCJtYXAiLCJvcHRpb24iLCJfdGhpczIiLCIkc3RvcmUiLCJnZXRNb2RlbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXdPcHRpb24iLCJlbGVtZW50cyIsInNlbGVjdE9wdGlvbiIsInZhbHVlIiwiY29udGVudCIsIm9uIiwiX3RoaXMzIiwidXBkYXRlIiwiX3RoaXM0IiwiZmluZEJ5T3B0aW9uRWxlbWVudCIsIl90aGlzNCQkc3RvcmUkb3B0aW9ucyIsInNlbGVjdGVkIiwibXVsdGlwbGUiLCJSZXN1bHRMaXN0TGlzdCIsInJlc3VsdEJveCIsInVuZGVmaW5lZCIsInJlZ2lzdGVyRXZlbnRMaXN0ZW5lciIsInJlc3VsdExpc3RMaXN0IiwicmVtb3ZlIiwiJGV2ZW50Iiwib2ZmIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVJlc3VsdExpc3QiLCJzY3JvbGxUb1ZpZXciLCJjaG9vc2VMaXN0ZW5lciIsImNyZWF0ZUxpc3RBbmRTY3JvbGwiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwibWF0Y2hlcyIsImNob29zZSIsIiRvcHRpb24iLCJmaW5kQnlUZXh0Q29udGVudCIsImVxdWFsVG9JbnB1dCIsInJlc3VsdHMiLCIkdGV4dElucHV0IiwiaGFzTWluTGVuZ3RoIiwiYXBwZW5kQWRkSXRlbVRvTGlzdCIsImFsbCIsInJlc3VsdExpc3RWb3RlciIsImNhbk9wZW5BbGwiLCJjcmVhdGVMaXN0QWxsUmVzdWx0cyIsImNhbk9wZW4iLCJjcmVhdGVMaXN0UmVzdWx0cyIsImhhc09wdGlvbiIsImFwcGVuZEVsZW1lbnRUb0xpc3QiLCJjcmVhdGVSZXN1bHRJdGVtIiwiYWxsTGlzdEl0ZW1zIiwiZmluZCIsInJlc3VsdCIsInRleHRDb250ZW50IiwiaGFzQWRkTmV3SXRlbSIsImFkZEl0ZW0iLCIkbmF2aWdhdGlvbiIsImlzQWRkSXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJpc0FjdGl2ZSIsInNlbGVjdG9yIiwibGVuZ3RoIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdGFydGluZ1dpdGhJbnB1dCIsIml0ZW1zIiwiaSIsIm9mZnNldEhlaWdodCIsImhlaWdodCIsImFjdGl2ZUVsZW1lbnQiLCJnZXRBY3RpdmVFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImlubGluZSIsImJlaGF2aW9yIiwiYm91bmRhcnkiLCJub2RlcyIsImxlbiIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9wdGlvbkVsZW1lbnQiLCJSZXN1bHRMaXN0IiwiYXBwZW5kTGlzdCIsImNsb3NlRXZlbnRzIiwiZXZlbnROYW1lIiwiY2xvc2VSZXN1bHRCb3giLCJpbnB1dElzRW1wdHkiLCJjcmVhdGVCb3giLCJvcGVuUmVzdWx0Qm94Iiwic2V0UmVzdWx0Qm94SGVpZ2h0Iiwib3BlbiIsImNsZWFyIiwiZGVzdHJveSIsImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJnZXRMYXN0T2ZBcnJheSIsImFycmF5IiwiY29tcGFyZU9wdGlvbnMiLCJmaXJzdE9wdGlvbiIsInNlY29uZE9wdGlvbiIsIlRleHRJbnB1dCIsInJlZnJlc2hTdGF0ZSIsImFkanVzdFdpZHRoIiwia2V5IiwiZW50ZXJLZXlFdmVudCIsImVzY2FwZUtleUV2ZW50IiwiYmFja3NwYWNlS2V5RXZlbnQiLCJlbWl0IiwiZXZlbnRzIiwiaGFuZGxlIiwicmVzZXRWYWx1ZSIsIl90aGlzJCRzdG9yZSRpbnB1dCIsIm9wdGlvblZvdGVyIiwiY2FuQWRkIiwicHJldmVudERlZmF1bHQiLCJpc0xpc3RFbXB0eSIsInVuc2VsZWN0IiwiY29udGFpbnMiLCJpc0ZvY3Vzc2VkIiwiZm9jdXMiLCJUYWdMaXN0IiwiYXBwZW5kVGV4dElucHV0IiwicmVnaXN0ZXJFdmVudExpc3RlbmVycyIsImNsaWNrZWRPblJlbW92ZUJ1dHRvbiIsImZpbmRDbGlja2VkVGFnIiwiY2xvc2VzdCIsIldpZGdldCIsImluaXRpYWxFbGVtZW50IiwiX3RoaXMiLCJhdHRhY2hXaWRnZXQiLCJpbnB1dFZvdGVyIiwic2hvdWxkRm9jdXNBZnRlckV2ZW50IiwiYXBwZW5kTmV3U2VsZWN0T3B0aW9ucyIsInVwZGF0ZVRhZ0xpc3QiLCJjbG9zZVJlc3VsdExpc3RCb3giLCJjbGVhclRleHRJbnB1dCIsImxpbWl0IiwiaXNOZXciLCJhcHBlbmRPcHRpb24iLCJtYXhMZW5ndGgiLCJFdmVudCIsImNhbGxiYWNrIiwiaXNBcnJheSIsInN1YnNjcmliZXJzIiwicHVzaCIsImZpbHRlciIsImRhdGEiLCJDb25maWciLCJvcGVuT25Gb2N1cyIsIk9wdGlvbiIsImluY2x1ZGVzIiwic29ydCIsImEiLCJiIiwic2VsZWN0Iiwic2VsZWN0TmF2aWdhdGlvbkl0ZW0iLCJzZWxlY3RJbnB1dFZhbHVlIiwic3RvcmVJbmRleCIsImRlY2lkZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJjb25maWciLCJfdGhpcyRzZWxlY3RlZCIsIlN0b3JlIiwiTmF2aWdhdGlvbkV2ZW50cyIsImFycm93RG93bkV2ZW50IiwiYXJyb3dVcEV2ZW50IiwiaXNOYXZpZ2F0aW9uRW5hYmxlZCIsImRvd24iLCJ1cCIsImdldFdpZGdldEZyb21FdmVudCIsImlzT3BlbiIsImlzRW1wdHkiLCJOYXZpZ2F0aW9uIiwiaW5kZXgiLCJzZWxlY3RlZEl0ZW0iLCJpbmRleE9mIiwiUmVzdWx0TGlzdFZvdGVyIiwiT3B0aW9uVm90ZXIiLCJhbGxUYWtlbiIsIklucHV0Vm90ZXIiLCJDaG9vc3kiLCJfX3giLCJpbml0aWFsaXplRGF0YSIsInJlc29sdmVPcHRpb25zIiwiY2xpY2tlZE91dHNpZGVPZldpZGdldEV2ZW50Iiwid2luZG93Qmx1ckV2ZW50IiwiaXNDbGlja09uVGFnTGlzdCIsIndpbmRvdyIsImlzTXVsdGlwbGUiXSwibWFwcGluZ3MiOiJ3NkRBQUEsZUFBZSxDQUNYQSxPQUFRLGdCQUNSQyxNQUFPLGVBQ1BDLEtBQU0sY0FDTkMsS0FBTSxjQUNOQyxlQUFnQix3QkFDaEJDLGNBQWUsdUJBQ2ZDLGtCQUFtQiwyQkFDbkJDLHNCQUF1QiwrQkFDdkJDLFlBQWEscUJBQ2JDLGlCQUFrQixxQkFDbEJDLHdCQUF5QixTQUN6QkMsU0FBVSw0QkNWQyxxQkFJRFYsRUFBUVcsS0FBS0MsT0FBTyxRQUFTLE9BQVEsQ0FBQ0MsV0FBV2IsZUFDdkRBLEVBQU1jLE1BQU1DLE1BQVEsTUFFYmYsb0JBSURELEVBQVNZLEtBQUtDLE9BQU8sTUFBTyxLQUFNLENBQUNDLFdBQVdkLGdCQUNwREEsRUFBT2lCLE9BQU9MLEtBQUtWLE1BRW5CRixFQUFPaUIsT0FBT0wsS0FBS00sWUFDWmxCLHFCQUlBWSxLQUFLQyxPQUFPLE1BQU8sS0FBTSxDQUFDQyxXQUFXWiwrQkFJdENpQixFQUFNUCxLQUFLQyxPQUFPLFNBQVUsS0FBTSxDQUFDQyxXQUFXVCx1QkFDcERjLEVBQUlGLE9BQU9MLEtBQUtRLFdBQ1RELDBCQUtLLElBQUlFLFdBQVlDLG9IQUEwR1IsV0FBV1IsaVNBR3BJLGFBRUZpQixLQUFLQyxpQ0FLVkMsRUFBVWIsS0FBS0MsT0FBTyxNQUFPLEtBQU0sQ0FBQ0MsV0FBV1AsK0JBQ3JEa0IsRUFBUVYsTUFBTVcsUUFBVSxPQUlqQkQsK0JBSUFiLEtBQUtDLE9BQU8sS0FBTSxLQUFNLENBQUNDLFdBQVdOLHVDQUlwQ0ksS0FBS0MsT0FBTyxLQUFNLEtBQU0sQ0FBQ0MsV0FBV0wsc0NBSXJDTixFQUFPUyxLQUFLZSxrQkFDbEJ4QixFQUFLeUIsVUFBVUMsSUFBSWYsV0FBV0gsVUFDOUJSLEVBQUsyQixVQUFZLFVB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
