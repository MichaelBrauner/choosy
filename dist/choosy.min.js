!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Choosy={})}(this,function(e){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return e=i?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!=typeof e&&"function"!=typeof e?c(t):e}}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function h(e){s(this,h),o(this,"element",void 0),this.element=e}var f={widget:"choosy-widget",input:"choosy-input",list:"choosy-list",item:"choosy-item",item_text_span:"choosy-item-text-span",remove_button:"choosy-remove-button",remove_button_svg:"choosy-remove-button-svg",result_list_container:"choosy-result-list-container",result_list:"choosy-result-list",result_list_item:"choosy-result-item",result_list_item_active:"active",add_item:"choosy-add-item"},p={get textInput(){var e=this.create("input","text",[f.input]);return e.style.width="1ch",e},get widget(){var e=this.create("div",null,[f.widget]);return e.append(this.list),e.append(this.resultList),e},get list(){return this.create("div",null,[f.list])},get removeButton(){var e=this.create("button",null,[f.remove_button]);return e.append(this.removeSVG),e},get removeSVG(){return(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill=\"currentColor\" class=\"".concat(f.remove_button_svg,"\">\n            <path fill-rule='evenodd'\n                  d='M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z'></path>\n            </svg>"),"text/html").body.firstChild},get resultList(){var e=this.create("div",null,[f.result_list_container]);return e.style.display="none",e},get resultListList(){return this.create("ul",null,[f.result_list])},get resultItem(){return this.create("li",null,[f.result_list_item])},get addItem(){var e=this.resultItem;return e.classList.add(f.add_item),e.innerHTML="Add new",e},get selectOption(){return this.create("option",null)},getItem:function(e){var t=this.create("div",null,[f.item]);return t.append(this.getItemTextSpan(e)),t.append(this.removeButton),t},getItemTextSpan:function(e){var t=this.create("span",null,[f.item_text_span]);return t.innerHTML=e,t},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);return t&&(i.type=t),n.forEach(function(e){i.classList.add(e)}),i}},v={subscribers:{},on:function(e,t){Array.isArray(this.subscribers[e])||(this.subscribers[e]=[]),this.subscribers[e].push(t)},off:function(e,t){this.subscribers[e]=t?this.subscribers[e].filter(function(e){return e!==t}):[]},emit:function(e,t){Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach(function(e){e(t)})}};var m=function(){return!B.allTaken},y=function(){return D.inputIsEmpty&&m()},g=function(){return!D.inputIsEmpty&&m()},k=new WeakSet,_=function(){function t(e){s(this,t),k.add(this),o(this,"element",void 0),o(this,"list",void 0),o(this,"closeEvents",["widget_clicked_outside","input_pressed_esc","input_pressed_tab","window_blur"]),this.element=e,this.appendList(),this.registerEventListener()}return l(t,[{key:"registerEventListener",value:function(){var t=this;this.closeEvents.forEach(function(e){v.on(e,function(){t.closeResultBox()})}),v.on("input_input_debounced",function(){D.inputIsEmpty?t.closeResultBox():(t.list.createResultList(),t.createBox())}),v.on("input_focus",function(){t.list.createResultList(),t.createBox()})}},{key:"createBox",value:function(){this.openResultBox(),this.list.setResultBoxHeight()}},{key:"openResultBox",value:function(){this.open||(this.element.style.display="block")}},{key:"open",get:function(){return"none"!==this.element.style.display}},{key:"closeResultBox",value:function(){d(this,k,L).call(this),this.open&&(this.element.style.display="none"),A.clear()}},{key:"appendList",value:function(){this.list=new x(this.element)}}],[{key:"isOpen",value:function(e){return"block"===e.querySelector(t.selector).style.display}},{key:"selector",get:function(){return".".concat(f.result_list_container)}}]),t}(),L=function(){this.list.destroy(),this.appendList()},w={handle:function(e){"ArrowDown"===e.key&&(e.preventDefault(),this.arrowDownEvent(e)),"ArrowUp"===e.key&&(e.preventDefault(),this.arrowUpEvent(e))},arrowDownEvent:function(e){this.isNavigationEnabled(e)&&A.down()},arrowUpEvent:function(e){this.isNavigationEnabled(e)&&A.up()},isNavigationEnabled:function(e){e=this.getWidgetFromEvent(e);return _.isOpen(e)&&!x.isEmpty(e)},getWidgetFromEvent:function(e){return e.target.closest(j.selector)}},I=function(){r(i,h);var n=a(i);function i(e){var t;return s(this,i),o(c(t=n.call(this,e)),"resetValue",function(){t.element.value=null}),t.registerListeners(),t}return l(i,[{key:"registerListeners",value:function(){var i,s,l,t=this;this.element.addEventListener("input",function(){t.refreshState(),t.adjustWidth()}),this.element.addEventListener("keydown",function(e){"Enter"===e.key&&t.enterKeyEvent(e),"Escape"===e.key&&t.escapeKeyEvent(e),"Backspace"===e.key&&t.backspaceKeyEvent(e),"Tab"===e.key&&v.emit("input_pressed_tab"),w.handle(e)}),this.element.addEventListener("input",(i=function(e){v.emit("input_input_debounced",e)},s=250,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(l),l=setTimeout(function(){clearTimeout(l),i.apply(void 0,t)},s)})),this.element.addEventListener("focus",function(){v.emit("input_focus")}),this.element.addEventListener("blur",function(e){v.emit("input_blur",e)}),v.on("input_cleared",this.resetValue)}},{key:"adjustWidth",value:function(){this.element.style.width="".concat(i.length?i.length+1:1,"ch")}},{key:"refreshState",value:function(){D.input=this.element.value}},{key:"limit",value:function(e){m()||e.preventDefault()}},{key:"enterKeyEvent",value:function(e){e.preventDefault(),(i.hasMinLength||m())&&B.choose()}},{key:"escapeKeyEvent",value:function(){v.emit("input_pressed_esc")}},{key:"backspaceKeyEvent",value:function(e){D.inputIsEmpty&&!B.isListEmpty&&(e.preventDefault(),B.unselect((e=B.selected)[e.length-1]))}},{key:"isFocussed",get:function(){return document.activeElement.classList.contains(f.input)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"destroy",value:function(){v.off("input_cleared",this.resetValue)}}],[{key:"length",get:function(){var e;return null===(e=D.input)||void 0===e?void 0:e.length}},{key:"hasMinLength",get:function(){return 2<=i.length}},{key:"selector",get:function(){return"."+f.input}},{key:"clear",value:function(){D.input=null,v.emit("input_cleared")}}]),i}(),E=new WeakSet,b=new WeakSet,x=function(){function t(e){s(this,t),b.add(this),E.add(this),o(this,"element",void 0),this.create(e),this.registerEventListener()}return l(t,[{key:"create",value:function(e){var t=p.resultListList;e.append(t),this.element=t}},{key:"destroy",value:function(){this.element.remove(),v.off("navigation_action")}},{key:"createListAndScroll",value:function(){this.createResultList(),this.scrollToView()}},{key:"registerEventListener",value:function(){var e=this;this.chooseListener(),v.on("navigation_action",function(){e.createListAndScroll()})}},{key:"chooseListener",value:function(){var t=this;this.element.addEventListener("click",function(e){e.target.matches("li.".concat(f.result_list_item,":not(.").concat(f.add_item,")"))?t.choose(e.target.innerHTML):e.target.matches("li."+f.add_item)&&t.choose()})}},{key:"choose",value:function(e){e?B.choose(B.findByTextContent(e)):B.equalToInput||B.choose()}},{key:"createListResults",value:function(){d(this,E,T).call(this),this.append(t.results),!B.equalToInput&&I.hasMinLength&&this.appendAddItemToList()}},{key:"createListAllResults",value:function(){d(this,E,T).call(this),this.append(B.all)}},{key:"createResultList",value:function(){y()&&this.createListAllResults(),g()&&this.createListResults()}},{key:"append",value:function(e){var t=this;e.forEach(function(e){t.hasOption(e)||t.appendElementToList(t.createResultItem(e))})}},{key:"hasOption",value:function(t){return Array.from(this.allListItems).find(function(e){return e.textContent===t.textContent})}},{key:"appendAddItemToList",value:function(){var e;this.hasAddNewItem||(e=p.addItem,A.isAddItem()&&e.classList.add(f.result_list_item_active),this.appendElementToList(e))}},{key:"appendElementToList",value:function(e){this.element.append(e)}},{key:"hasAddNewItem",get:function(){return this.element.querySelector("."+f.add_item)}},{key:"createResultItem",value:function(e){var t=p.resultItem;return A.isActive(e)&&t.classList.add(f.result_list_item_active),t.innerHTML=e.content,t}},{key:"allListItems",get:function(){return this.element.getElementsByTagName("li")}},{key:"setResultBoxHeight",value:function(){var e=this.allListItems,t=0;if(5<e.length)for(var n=0;n<5;n++)t+=e.item(n).offsetHeight;this.element.style.height=t?t+"px":"auto"}},{key:"scrollToView",value:function(){var e=this.getActiveElement();e&&e.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth",boundary:this.element})}},{key:"getActiveElement",value:function(){var e=A.item;return e?d(this,b,O).call(this,e):null}}],[{key:"isEmpty",value:function(e){return!e.querySelectorAll("".concat(t.selector," > .").concat(f.result_list_item)).length}},{key:"selector",get:function(){return".".concat(f.result_list)}},{key:"results",get:function(){var e;return y()?null!==(e=B.all)&&void 0!==e?e:[]:g()?I.hasMinLength?B.startingWithInput:[]:void 0}}]),t}(),T=function(){for(var e=this.allListItems,t=0,n=e.length;t!==n;++t)e[0].parentNode.removeChild(e[0])},O=function(t){return"add"===t?this.element.querySelector(".".concat(f.add_item)):Array.from(this.allListItems).find(function(e){return(null==e?void 0:e.innerHTML)===(null==t?void 0:t.content)})},A={item:"",up:function(){var e,t=x.results;this.selectedItem?(e=t.indexOf(this.selectedItem),"add"===this.selectedItem?this.selectedItem=t[t.length-1]:(e<=t.length-1&&(this.selectedItem=t[e-1]),t[e-1]||(y()?this.selectedItem=t[t.length-1]:this.selectedItem="add"))):y()?this.selectedItem=t[t.length-1]:this.selectedItem="add",v.emit("navigation_action","up")},down:function(){var e,t=x.results;this.selectedItem?"add"!==this.selectedItem?(e=t.indexOf(this.selectedItem),t.length>e+1&&(this.selectedItem=t[e+1]),t.length===e+1&&(y()?this.selectedItem=t[0]:this.selectedItem="add")):this.selectedItem=t[0]:t.length?this.selectedItem=t[0]:this.selectedItem="add",v.emit("navigation_action","down")},clear:function(){this.selectedItem=""},isActive:function(e){return e===this.selectedItem},isAddItem:function(){return"add"===this.selectedItem},get selectedItem(){return this.item},set selectedItem(e){this.item=e}},R={textInput:{limit:null},resultList:{openOnFocus:!0}},B=function(){function n(){s(this,n),o(this,"all",void 0)}return l(n,null,[{key:"all",get:function(){return D.options.all.filter(function(e){return!!e.content})}},{key:"startingWithInput",get:function(){return n.all.filter(function(e){return e.content.includes(D.input)&&!e.selected})}},{key:"equalToInput",get:function(){return n.all.find(function(e){return e.content===D.input})}},{key:"selected",get:function(){return n.all.filter(function(e){return e.selected}).sort(function(e,t){return e.selected-t.selected})}},{key:"findByTextContent",value:function(t){return n.all.find(function(e){return e.content===t})}},{key:"findByOptionElement",value:function(t){return n.all.find(function(e){return(null===t.value||e.value===t.value)&&e.content===t.innerHTML})}},{key:"choose",value:function(e){e?n.select(e):A.item?n.selectNavigationItem():n.selectInputValue(),v.emit("option_chosen")}},{key:"append",value:function(e){if(!e){e=D.options.all.push(n.getModel())-1;return D.options.all[e]}}},{key:"getModel",value:function(e){return{value:e?e.value:null,content:e?e.innerHTML:D.input,selected:n.decide(e),timestamp:e&&n.decide(e)?Date.now():null}}},{key:"select",value:function(t){D.options.all.map(function(e){e.content===t.content&&(e.selected=!0,e.timestamp=Date.now)})}},{key:"unselect",value:function(t){D.options.all.map(function(e){e.content===t.content&&(e.selected=!1)}),v.emit("option_unselected"),function(e,t,n){if(e!==t)throw new TypeError("Private static access of wrong provenance");return n}(this,n,S).call(this)}},{key:"decide",value:function(e){var t=!1;if(e){if(!e.value&&!e.content)return!1;t=e.selected}return t}},{key:"isNew",value:function(n){return!D.initialData.find(function(e){return t=n,(e=e).value===t.value&&e.content===t.content;var t})}},{key:"isListEmpty",get:function(){return!n.selected.length}},{key:"selectNavigationItem",value:function(){"add"===A.item?n.selectInputValue():n.select(A.item)}},{key:"selectInputValue",value:function(){n.select(n.append())}},{key:"allTaken",get:function(){var e;return!(R.textInput.limit>(null===(e=n.selected)||void 0===e?void 0:e.length))}}]),n}(),S=function(){D.options.all=D.options.all.filter(function(e){return!B.isNew(e)})},D={input:null,initialData:[],options:new B,get inputIsEmpty(){var e;return!this.input||(null===(e=this.input)||void 0===e?void 0:e.length)<=0}},M=function(){r(n,h);var t=a(n);function n(e){return s(this,n),(e=t.call(this,e)).storeInitialData(),e.hide(),e.registerListeners(),e}return l(n,[{key:"hide",value:function(){this.element.style.display="none"}},{key:"attachWidget",value:function(e){this.element.parentElement.append(e)}},{key:"storeInitialData",value:function(){D.initialData=Array.from(this.getAllOptions).map(function(e){return B.getModel(e)})}},{key:"getAllOptions",get:function(){return Array.from(this.element.querySelectorAll("option"))}},{key:"appendOption",value:function(e){var t=p.selectOption;return t.value="__new_option__",t.innerHTML=e.content,this.element.append(t),t}},{key:"registerListeners",value:function(){var e=this;v.on("option_chosen",function(){e.update()}),v.on("option_unselected",function(){e.update()})}},{key:"update",value:function(){this.element.querySelectorAll("option").forEach(function(e){var t;null!==(t=B.findByOptionElement(e))&&void 0!==t&&t.selected?e.selected="selected":e.selected=!1})}},{key:"isMultiple",get:function(){return this.element.multiple}}]),n}(),C=function(){r(n,h);var t=a(n);function n(e){return s(this,n),o(c(e=t.call(this,e)),"textInput",void 0),e.appendTextInput(),e.registerEventListeners(),e}return l(n,[{key:"appendTextInput",value:function(){this.textInput=new I(p.textInput),this.element.append(this.textInput.element)}},{key:"registerEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){t.clickedOnRemoveButton(e.target)&&(e.preventDefault(),B.unselect(B.findByTextContent(t.findClickedTag(e).innerHTML)))})}},{key:"clickedOnRemoveButton",value:function(e){return!!e.matches("button."+f.remove_button)||(!!e.matches("svg."+f.remove_button_svg)||!!e.matches("path"))}},{key:"remove",value:function(){this.textInput.destroy(),this.element.remove()}},{key:"findClickedTag",value:function(e){return e.target.closest("."+f.item).querySelector("."+f.item_text_span)}}],[{key:"create",value:function(){var t=p.list;return B.selected.forEach(function(e){return t.append(p.getItem(e.content))}),new n(t)}},{key:"selector",get:function(){return"."+f.list}}]),n}(),N=function(e){return!e.target.classList.contains(f.result_list_item)&&!e.target.closest(C.selector)},W=new WeakSet,j=function(){function t(e){s(this,t),W.add(this),o(this,"initialElement",void 0),o(this,"element",void 0),o(this,"tagList",void 0),o(this,"resultList",void 0),o(this,"navigation",void 0),o(this,"store",D),this.initialElement=new M(e),this.element=p.widget,this.resultList=new _(this.element.querySelector("."+f.result_list_container)),this.tagList=new C(this.element.querySelector("."+f.list)),this.initialElement.attachWidget(this.element),this.navigation=A,this.registerListeners()}return l(t,[{key:"registerListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){N(e)&&d(t,W,q).call(t)}),v.on("option_chosen",function(){t.update(),d(t,W,q).call(t)}),v.on("option_unselected",function(){t.update(),d(t,W,q).call(t)})}},{key:"update",value:function(){this.appendNewSelectOptions(),this.updateTagList(),this.closeResultListBox(),this.clearTextInput(),this.limit()}},{key:"appendNewSelectOptions",value:function(){var t=this;D.options.all.forEach(function(e){B.isNew(e)&&t.initialElement.appendOption(e)})}},{key:"updateTagList",value:function(){this.tagList.remove(),this.tagList=C.create(),this.element.append(this.tagList.element)}},{key:"closeResultListBox",value:function(){this.resultList.closeResultBox()}},{key:"clearTextInput",value:function(){I.clear()}},{key:"limit",value:function(){m()?this.tagList.textInput.element.maxLength=524288:this.tagList.textInput.element.maxLength=0}}],[{key:"selector",get:function(){return".".concat(f.widget)}}]),t}(),q=function(){this.tagList.textInput.focus()};e.Choosy=function(){function t(e){s(this,t),o(this,"widget",void 0),o(this,"config",void 0),this.widget=new j(e),this.config=R,this.initializeData(),this.registerEventListener(),this.resolveOptions()}return l(t,[{key:"registerEventListener",value:function(){this.clickedOutsideOfWidgetEvent(),this.windowBlurEvent()}},{key:"clickedOutsideOfWidgetEvent",value:function(){var t=this;document.addEventListener("click",function(e){t.widget.element.contains(e.target)||t.isClickOnTagList(e)||v.emit("widget_clicked_outside")})}},{key:"windowBlurEvent",value:function(){window.addEventListener("blur",function(){v.emit("window_blur")})}},{key:"isClickOnTagList",value:function(e){return!!e.target.closest(C.selector)}},{key:"initializeData",value:function(){D.options.all=Array.from(D.initialData)}},{key:"resolveOptions",value:function(){this.widget.initialElement.isMultiple||(R.textInput.limit=1)}}]),t}(),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3N5Lm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzIiwiLi4vc3JjL2NsYXNzbmFtZXMuanMiLCIuLi9zcmMvZWxlbWVudHMuanMiLCIuLi9zcmMvZXZlbnQuanMiLCIuLi9zcmMvdm90ZXIvT3B0aW9uVm90ZXIuanMiLCIuLi9zcmMvdm90ZXIvUmVzdWx0TGlzdFZvdGVyLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUmVzdWx0TGlzdC5qcyIsIi4uL3NyYy9ldmVudHMvbmF2aWdhdGlvbkV2ZW50cy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1RleHRJbnB1dC5qcyIsIi4uL3NyYy91dGlsLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUmVzdWx0TGlzdExpc3QuanMiLCIuLi9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29uZmlnLmpzIiwiLi4vc3JjL29wdGlvbi5qcyIsIi4uL3NyYy9zdG9yZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0luaXRpYWxFbGVtZW50LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGFnTGlzdC5qcyIsIi4uL3NyYy92b3Rlci9JbnB1dFZvdGVyLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvV2lkZ2V0LmpzIiwiLi4vc3JjL2Nob29zeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xuICAgIGVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgd2lkZ2V0OiAnY2hvb3N5LXdpZGdldCcsXG4gICAgaW5wdXQ6ICdjaG9vc3ktaW5wdXQnLFxuICAgIGxpc3Q6ICdjaG9vc3ktbGlzdCcsXG4gICAgaXRlbTogJ2Nob29zeS1pdGVtJyxcbiAgICBpdGVtX3RleHRfc3BhbjogJ2Nob29zeS1pdGVtLXRleHQtc3BhbicsXG4gICAgcmVtb3ZlX2J1dHRvbjogJ2Nob29zeS1yZW1vdmUtYnV0dG9uJyxcbiAgICByZW1vdmVfYnV0dG9uX3N2ZzogJ2Nob29zeS1yZW1vdmUtYnV0dG9uLXN2ZycsXG4gICAgcmVzdWx0X2xpc3RfY29udGFpbmVyOiAnY2hvb3N5LXJlc3VsdC1saXN0LWNvbnRhaW5lcicsXG4gICAgcmVzdWx0X2xpc3Q6ICdjaG9vc3ktcmVzdWx0LWxpc3QnLFxuICAgIHJlc3VsdF9saXN0X2l0ZW06ICdjaG9vc3ktcmVzdWx0LWl0ZW0nLFxuICAgIHJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlOiAnYWN0aXZlJyxcbiAgICBhZGRfaXRlbTogJ2Nob29zeS1hZGQtaXRlbSdcbn0iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi9jbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGdldCB0ZXh0SW5wdXQoKSB7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZSgnaW5wdXQnLCAndGV4dCcsIFtjbGFzc25hbWVzLmlucHV0XSlcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSAnMWNoJ1xuXG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH0sXG5cbiAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMud2lkZ2V0XSlcbiAgICAgICAgd2lkZ2V0LmFwcGVuZCh0aGlzLmxpc3QpXG4gICAgICAgIC8vIHdpZGdldC5hcHBlbmQodGhpcy50ZXh0SW5wdXQpXG4gICAgICAgIHdpZGdldC5hcHBlbmQodGhpcy5yZXN1bHRMaXN0KVxuICAgICAgICByZXR1cm4gd2lkZ2V0XG4gICAgfSxcblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2RpdicsIG51bGwsIFtjbGFzc25hbWVzLmxpc3RdKVxuICAgIH0sXG5cbiAgICBnZXQgcmVtb3ZlQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmNyZWF0ZSgnYnV0dG9uJywgbnVsbCwgW2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl0pXG4gICAgICAgIGJ0bi5hcHBlbmQodGhpcy5yZW1vdmVTVkcpXG4gICAgICAgIHJldHVybiBidG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlbW92ZVNWRygpIHtcblxuICAgICAgICBjb25zdCBzdmcgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCIke2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl9zdmd9XCI+XG4gICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnXG4gICAgICAgICAgICAgICAgICBkPSdNMTUuNzggMTQuMzZhMSAxIDAgMCAxLTEuNDIgMS40MmwtMi44Mi0yLjgzLTIuODMgMi44M2ExIDEgMCAxIDEtMS40Mi0xLjQybDIuODMtMi44Mkw3LjMgOC43YTEgMSAwIDAgMSAxLjQyLTEuNDJsMi44MyAyLjgzIDIuODItMi44M2ExIDEgMCAwIDEgMS40MiAxLjQybC0yLjgzIDIuODMgMi44MyAyLjgyeic+PC9wYXRoPlxuICAgICAgICAgICAgPC9zdmc+YCwgJ3RleHQvaHRtbCcpO1xuXG4gICAgICAgIHJldHVybiBzdmcuYm9keS5maXJzdENoaWxkXG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlc3VsdExpc3QoKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyXSlcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cbiAgICAgICAgLy8gd3JhcHBlci5hcHBlbmQodGhpcy5yZXN1bHRMaXN0TGlzdClcblxuICAgICAgICByZXR1cm4gd3JhcHBlclxuICAgIH0sXG5cbiAgICBnZXQgcmVzdWx0TGlzdExpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgndWwnLCBudWxsLCBbY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF0pXG4gICAgfSxcblxuICAgIGdldCByZXN1bHRJdGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2xpJywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV0pXG4gICAgfSxcblxuICAgIGdldCBhZGRJdGVtKCkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5yZXN1bHRJdGVtXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc25hbWVzLmFkZF9pdGVtKVxuICAgICAgICBpdGVtLmlubmVySFRNTCA9ICdBZGQgbmV3J1xuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfSxcblxuICAgIGdldCBzZWxlY3RPcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgnb3B0aW9uJywgbnVsbClcbiAgICB9LFxuXG4gICAgZ2V0SXRlbSh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMuaXRlbV0pXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRoaXMuZ2V0SXRlbVRleHRTcGFuKHRleHQpKVxuICAgICAgICBpdGVtLmFwcGVuZCh0aGlzLnJlbW92ZUJ1dHRvbilcblxuICAgICAgICByZXR1cm4gaXRlbVxuICAgIH0sXG5cbiAgICBnZXRJdGVtVGV4dFNwYW4odGV4dCkge1xuICAgICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGUoJ3NwYW4nLCBudWxsLCBbY2xhc3NuYW1lcy5pdGVtX3RleHRfc3Bhbl0pXG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH0sXG5cbiAgICBjcmVhdGUodGFnTmFtZSwgdHlwZSA9IG51bGwsIGNsYXNzZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgZWxlbWVudC50eXBlID0gdHlwZVxuXG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG5cbn0iLCJjb25zdCBFdmVudCA9IHtcbiAgICBzdWJzY3JpYmVyczoge30sXG5cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKVxuICAgIH0sXG5cbiAgICBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLmZpbHRlcihldmVudCA9PiBldmVudCAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICB9LFxuXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhkYXRhKVxuICAgICAgICB9KVxuICAgIH0sXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnQiLCJpbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9vcHRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGNhbkFkZCgpe1xuICAgICAgICByZXR1cm4gIU9wdGlvbi5hbGxUYWtlblxuICAgIH1cbn0iLCJpbXBvcnQgU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgT3B0aW9uVm90ZXIgZnJvbSBcIi4vT3B0aW9uVm90ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgY2FuT3BlbkFsbCgpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JlLmlucHV0SXNFbXB0eSAmJiBPcHRpb25Wb3Rlci5jYW5BZGQoKVxuICAgIH0sXG5cbiAgICBjYW5PcGVuKCkge1xuICAgICAgICByZXR1cm4gIVN0b3JlLmlucHV0SXNFbXB0eSAmJiBPcHRpb25Wb3Rlci5jYW5BZGQoKVxuICAgIH1cblxufSIsImltcG9ydCBFdmVudCBmcm9tIFwiLi4vZXZlbnRcIlxuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9zdG9yZVwiO1xuaW1wb3J0IFJlc3VsdExpc3RMaXN0IGZyb20gXCIuL1Jlc3VsdExpc3RMaXN0XCI7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi4vY2xhc3NuYW1lc1wiO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSBcIi4vTmF2aWdhdGlvblwiO1xuaW1wb3J0IFJlc3VsdExpc3RWb3RlciBmcm9tIFwiLi4vdm90ZXIvUmVzdWx0TGlzdFZvdGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdExpc3Qge1xuXG4gICAgZWxlbWVudFxuICAgIGxpc3RcblxuICAgIGNsb3NlRXZlbnRzID0gW1xuICAgICAgICAnd2lkZ2V0X2NsaWNrZWRfb3V0c2lkZScsXG4gICAgICAgICdpbnB1dF9wcmVzc2VkX2VzYycsXG4gICAgICAgICdpbnB1dF9wcmVzc2VkX3RhYicsXG4gICAgICAgICd3aW5kb3dfYmx1cidcbiAgICBdXG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5hcHBlbmRMaXN0KClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpIHtcblxuICAgICAgICB0aGlzLmNsb3NlRXZlbnRzLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgICAgIEV2ZW50Lm9uKGV2ZW50TmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VSZXN1bHRCb3goKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignaW5wdXRfaW5wdXRfZGVib3VuY2VkJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoU3RvcmUuaW5wdXRJc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVJlc3VsdEJveCgpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGlzdC5jcmVhdGVSZXN1bHRMaXN0KClcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgRXZlbnQub24oJ2lucHV0X2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saXN0LmNyZWF0ZVJlc3VsdExpc3QoKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGNyZWF0ZUJveCgpIHtcbiAgICAgICAgdGhpcy5vcGVuUmVzdWx0Qm94KClcbiAgICAgICAgdGhpcy5saXN0LnNldFJlc3VsdEJveEhlaWdodCgpXG4gICAgfVxuXG4gICAgb3BlblJlc3VsdEJveCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnXG4gICAgfVxuXG4gICAgY2xvc2VSZXN1bHRCb3goKSB7XG4gICAgICAgIHRoaXMuI2NsZWFuKClcblxuICAgICAgICBpZiAodGhpcy5vcGVuKVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgTmF2aWdhdGlvbi5jbGVhcigpXG4gICAgfVxuXG4gICAgI2NsZWFuKCkge1xuICAgICAgICB0aGlzLmxpc3QuZGVzdHJveSgpXG4gICAgICAgIHRoaXMuYXBwZW5kTGlzdCgpXG4gICAgfVxuXG4gICAgYXBwZW5kTGlzdCgpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gbmV3IFJlc3VsdExpc3RMaXN0KHRoaXMuZWxlbWVudClcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNPcGVuKHdpZGdldCkge1xuICAgICAgICByZXR1cm4gd2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoUmVzdWx0TGlzdC5zZWxlY3Rvcikuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJ1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBgLiR7Y2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9jb250YWluZXJ9YFxuICAgIH1cbn0iLCJpbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uXCI7XG5pbXBvcnQgUmVzdWx0TGlzdCBmcm9tIFwiLi4vY29tcG9uZW50cy9SZXN1bHRMaXN0XCI7XG5pbXBvcnQgUmVzdWx0TGlzdExpc3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvUmVzdWx0TGlzdExpc3RcIjtcbmltcG9ydCB7V2lkZ2V0fSBmcm9tIFwiLi4vY29tcG9uZW50cy9XaWRnZXRcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB0aGlzLmFycm93RG93bkV2ZW50KGV2ZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB0aGlzLmFycm93VXBFdmVudChldmVudClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhcnJvd0Rvd25FdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc05hdmlnYXRpb25FbmFibGVkKGV2ZW50KSkgTmF2aWdhdGlvbi5kb3duKClcbiAgICB9LFxuXG4gICAgYXJyb3dVcEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzTmF2aWdhdGlvbkVuYWJsZWQoZXZlbnQpKSBOYXZpZ2F0aW9uLnVwKClcbiAgICB9LFxuXG4gICAgaXNOYXZpZ2F0aW9uRW5hYmxlZChldmVudCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmdldFdpZGdldEZyb21FdmVudChldmVudClcbiAgICAgICAgcmV0dXJuIFJlc3VsdExpc3QuaXNPcGVuKHdpZGdldCkgJiYgIVJlc3VsdExpc3RMaXN0LmlzRW1wdHkod2lkZ2V0KVxuICAgIH0sXG5cbiAgICBnZXRXaWRnZXRGcm9tRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KFdpZGdldC5zZWxlY3RvcilcbiAgICB9XG59XG5cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQge2RlYm91bmNlLCBnZXRMYXN0T2ZBcnJheX0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vZXZlbnRcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IG5hdmlnYXRpb25FdmVudHMgZnJvbSBcIi4uL2V2ZW50cy9uYXZpZ2F0aW9uRXZlbnRzXCI7XG5pbXBvcnQgT3B0aW9uVm90ZXIgZnJvbSBcIi4uL3ZvdGVyL09wdGlvblZvdGVyXCI7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi4vY2xhc3NuYW1lc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KVxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFN0YXRlKClcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0V2lkdGgoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJLZXlFdmVudChldmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVzY2FwZUtleUV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja3NwYWNlS2V5RXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgICAgICAgICAgRXZlbnQuZW1pdCgnaW5wdXRfcHJlc3NlZF90YWInKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuYXZpZ2F0aW9uRXZlbnRzLmhhbmRsZShldmVudClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLFxuICAgICAgICAgICAgZGVib3VuY2UoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIEV2ZW50LmVtaXQoJ2lucHV0X2lucHV0X2RlYm91bmNlZCcsIGV2ZW50KVxuICAgICAgICAgICAgfSwgMjUwKVxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgRXZlbnQuZW1pdCgnaW5wdXRfZm9jdXMnKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBFdmVudC5lbWl0KCdpbnB1dF9ibHVyJywgZXZlbnQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgRXZlbnQub24oJ2lucHV0X2NsZWFyZWQnLCB0aGlzLnJlc2V0VmFsdWUpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiBTdG9yZS5pbnB1dD8ubGVuZ3RoXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBoYXNNaW5MZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiBUZXh0SW5wdXQubGVuZ3RoID49IDJcbiAgICB9XG5cbiAgICBhZGp1c3RXaWR0aCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7VGV4dElucHV0Lmxlbmd0aCA/IFRleHRJbnB1dC5sZW5ndGggKyAxIDogMX1jaGBcbiAgICB9XG5cbiAgICByZWZyZXNoU3RhdGUoKSB7XG4gICAgICAgIFN0b3JlLmlucHV0ID0gdGhpcy5lbGVtZW50LnZhbHVlXG4gICAgfVxuXG4gICAgbGltaXQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFPcHRpb25Wb3Rlci5jYW5BZGQoKSlcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gJy4nICsgY2xhc3NuYW1lcy5pbnB1dFxuICAgIH1cblxuICAgIHN0YXRpYyBjbGVhcigpIHtcbiAgICAgICAgU3RvcmUuaW5wdXQgPSBudWxsXG4gICAgICAgIEV2ZW50LmVtaXQoJ2lucHV0X2NsZWFyZWQnKVxuICAgIH1cblxuICAgIGVudGVyS2V5RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGlmIChUZXh0SW5wdXQuaGFzTWluTGVuZ3RoIHx8IE9wdGlvblZvdGVyLmNhbkFkZCgpKVxuICAgICAgICAgICAgT3B0aW9uLmNob29zZSgpXG4gICAgfVxuXG4gICAgZXNjYXBlS2V5RXZlbnQoKSB7XG4gICAgICAgIEV2ZW50LmVtaXQoJ2lucHV0X3ByZXNzZWRfZXNjJylcbiAgICB9XG5cbiAgICBiYWNrc3BhY2VLZXlFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIVN0b3JlLmlucHV0SXNFbXB0eSB8fCBPcHRpb24uaXNMaXN0RW1wdHkpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIE9wdGlvbi51bnNlbGVjdChnZXRMYXN0T2ZBcnJheShPcHRpb24uc2VsZWN0ZWQpKVxuICAgIH1cblxuICAgIGdldCBpc0ZvY3Vzc2VkKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NuYW1lcy5pbnB1dClcbiAgICB9XG5cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRm9jdXNzZWQpXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZm9jdXMoKVxuICAgIH1cblxuICAgIHJlc2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IG51bGxcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBFdmVudC5vZmYoJ2lucHV0X2NsZWFyZWQnLCB0aGlzLnJlc2V0VmFsdWUpXG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICAgICAgICBmdW5jKC4uLmFyZ3MpXG4gICAgICAgIH07XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXN0T2ZBcnJheShhcnJheSkge1xuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLTFdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlT3B0aW9ucyhmaXJzdE9wdGlvbiwgc2Vjb25kT3B0aW9uKSB7XG4gICAgcmV0dXJuIChmaXJzdE9wdGlvbi52YWx1ZSA9PT0gc2Vjb25kT3B0aW9uLnZhbHVlKSAmJiAoZmlyc3RPcHRpb24uY29udGVudCA9PT0gc2Vjb25kT3B0aW9uLmNvbnRlbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9tTm9kZUxpc3QoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGVsZW1lbnQpXG59IiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL05hdmlnYXRpb25cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vZXZlbnRcIjtcbmltcG9ydCBSZXN1bHRMaXN0Vm90ZXIgZnJvbSBcIi4uL3ZvdGVyL1Jlc3VsdExpc3RWb3RlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHRMaXN0TGlzdCB7XG5cblxuICAgIGVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKHJlc3VsdEJveCkge1xuICAgICAgICB0aGlzLmNyZWF0ZShyZXN1bHRCb3gpXG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKVxuICAgIH1cblxuICAgIGNyZWF0ZShyZXN1bHRCb3gpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVsZW1lbnRzLnJlc3VsdExpc3RMaXN0XG4gICAgICAgIHJlc3VsdEJveC5hcHBlbmQobGlzdClcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbGlzdFxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKVxuXG4gICAgICAgIEV2ZW50Lm9mZignbmF2aWdhdGlvbl9hY3Rpb24nKVxuXG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdEFuZFNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXN1bHRMaXN0KClcbiAgICAgICAgdGhpcy5zY3JvbGxUb1ZpZXcoKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5jaG9vc2VMaXN0ZW5lcigpXG5cbiAgICAgICAgRXZlbnQub24oJ25hdmlnYXRpb25fYWN0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMaXN0QW5kU2Nyb2xsKCk7XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBjaG9vc2VMaXN0ZW5lcigpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhgbGkuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW19Om5vdCguJHtjbGFzc25hbWVzLmFkZF9pdGVtfSlgKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlKGV2ZW50LnRhcmdldC5pbm5lckhUTUwpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcygnbGkuJyArIGNsYXNzbmFtZXMuYWRkX2l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY2hvb3NlKHZhbHVlKSB7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBPcHRpb24uY2hvb3NlKFxuICAgICAgICAgICAgICAgIE9wdGlvbi5maW5kQnlUZXh0Q29udGVudCh2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFPcHRpb24uZXF1YWxUb0lucHV0KSB7XG4gICAgICAgICAgICBPcHRpb24uY2hvb3NlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RSZXN1bHRzKCkge1xuXG4gICAgICAgIHRoaXMuI2NsZWFuKClcblxuICAgICAgICB0aGlzLmFwcGVuZChcbiAgICAgICAgICAgIFJlc3VsdExpc3RMaXN0LnJlc3VsdHNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICghT3B0aW9uLmVxdWFsVG9JbnB1dCAmJiBUZXh0SW5wdXQuaGFzTWluTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEFkZEl0ZW1Ub0xpc3QoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdEFsbFJlc3VsdHMoKSB7XG5cbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKFxuICAgICAgICAgICAgT3B0aW9uLmFsbFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0TGlzdCgpIHtcbiAgICAgICAgaWYgKFJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpc3RBbGxSZXN1bHRzKClcblxuICAgICAgICBpZiAoUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW4oKSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlzdFJlc3VsdHMoKVxuICAgIH1cblxuICAgIGFwcGVuZChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPcHRpb24ob3B0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgdGhpcy5hcHBlbmRFbGVtZW50VG9MaXN0KHRoaXMuY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhhc09wdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpXG4gICAgICAgICAgICAuZmluZChyZXN1bHQgPT4gcmVzdWx0LnRleHRDb250ZW50ID09PSBvcHRpb24udGV4dENvbnRlbnQpXG4gICAgfVxuXG4gICAgYXBwZW5kQWRkSXRlbVRvTGlzdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0FkZE5ld0l0ZW0pIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLmFkZEl0ZW1cblxuICAgICAgICAgICAgaWYgKE5hdmlnYXRpb24uaXNBZGRJdGVtKCkpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV9hY3RpdmUpXG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoZWxlbWVudClcbiAgICB9XG5cbiAgICBnZXQgaGFzQWRkTmV3SXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuYWRkX2l0ZW0pXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pIHtcblxuICAgICAgICBjb25zdCBpdGVtID0gZWxlbWVudHMucmVzdWx0SXRlbVxuXG4gICAgICAgIGlmIChOYXZpZ2F0aW9uLmlzQWN0aXZlKG9wdGlvbikpXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtX2FjdGl2ZSlcblxuICAgICAgICBpdGVtLmlubmVySFRNTCA9IG9wdGlvbi5jb250ZW50XG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfVxuXG4gICAgc3RhdGljIGlzRW1wdHkod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiAhd2lkZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICBgJHtSZXN1bHRMaXN0TGlzdC5zZWxlY3Rvcn0gPiAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW19YFxuICAgICAgICApLmxlbmd0aFxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBgLiR7Y2xhc3NuYW1lcy5yZXN1bHRfbGlzdH1gXG4gICAgfVxuXG4gICAgZ2V0IGFsbExpc3RJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKVxuICAgIH1cblxuICAgICNjbGVhbigpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmFsbExpc3RJdGVtc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgIT09IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBub2Rlc1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVzdWx0cygpIHtcblxuICAgICAgICBpZiAoUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSlcbiAgICAgICAgICAgIHJldHVybiBPcHRpb24uYWxsID8/IFtdXG5cbiAgICAgICAgaWYgKFJlc3VsdExpc3RWb3Rlci5jYW5PcGVuKCkpXG4gICAgICAgICAgICByZXR1cm4gVGV4dElucHV0Lmhhc01pbkxlbmd0aCA/IE9wdGlvbi5zdGFydGluZ1dpdGhJbnB1dCA6IFtdXG5cblxuICAgIH1cblxuICAgIHNldFJlc3VsdEJveEhlaWdodCgpIHtcblxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuYWxsTGlzdEl0ZW1zXG5cbiAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IGl0ZW1zLmxlbmd0aFxuICAgICAgICBsZXQgcmVzdWx0ID0gMFxuXG4gICAgICAgIGlmICh0b3RhbEl0ZW1zID4gNSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gaXRlbXMuaXRlbShpKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSByZXN1bHQgPyByZXN1bHQgKyAncHgnIDogJ2F1dG8nXG4gICAgfVxuXG4gICAgc2Nyb2xsVG9WaWV3KCkge1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmdldEFjdGl2ZUVsZW1lbnQoKVxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgYm91bmRhcnk6IHRoaXMuZWxlbWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBY3RpdmVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBOYXZpZ2F0aW9uLml0ZW1cblxuICAgICAgICBpZiAoIW9wdGlvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuI2ZpbmRPcHRpb25FbGVtZW50QnlEYXRhT3B0aW9uKG9wdGlvbilcblxuICAgIH1cblxuICAgICNmaW5kT3B0aW9uRWxlbWVudEJ5RGF0YU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ2FkZCcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzbmFtZXMuYWRkX2l0ZW19YClcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpLmZpbmQob3B0aW9uRWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudD8uaW5uZXJIVE1MID09PSBvcHRpb24/LmNvbnRlbnRcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cbiIsImltcG9ydCBSZXN1bHRMaXN0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0TGlzdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiO1xuaW1wb3J0IFJlc3VsdExpc3RWb3RlciBmcm9tIFwiLi4vdm90ZXIvUmVzdWx0TGlzdFZvdGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGl0ZW06ICcnLFxuXG4gICAgdXAoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHRMaXN0TGlzdC5yZXN1bHRzXG5cbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgaWYgKCFSZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHRzLmluZGV4T2YodGhpcy5zZWxlY3RlZEl0ZW0pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8PSByZXN1bHRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzW2luZGV4IC0gMV1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHNbaW5kZXggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gJ2FkZCdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ3VwJylcbiAgICB9LFxuXG4gICAgZG93bigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFJlc3VsdExpc3RMaXN0LnJlc3VsdHNcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtKSB7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICdhZGQnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSAhPT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdHMuaW5kZXhPZih0aGlzLnNlbGVjdGVkSXRlbSlcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IGluZGV4ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbaW5kZXggKyAxXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzWzBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIEV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ2Rvd24nKVxuICAgIH0sXG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnJ1xuICAgIH0sXG5cbiAgICBpc0FjdGl2ZShvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbiA9PT0gdGhpcy5zZWxlY3RlZEl0ZW1cbiAgICB9LFxuXG4gICAgaXNBZGRJdGVtKCkge1xuICAgICAgICByZXR1cm4gJ2FkZCcgPT09IHRoaXMuc2VsZWN0ZWRJdGVtXG4gICAgfSxcblxuICAgIGdldCBzZWxlY3RlZEl0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1cbiAgICB9LFxuXG4gICAgc2V0IHNlbGVjdGVkSXRlbShpdGVtKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW1cbiAgICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgdGV4dElucHV0OiB7XG4gICAgICAgIGxpbWl0OiBudWxsXG4gICAgfSxcbiAgICByZXN1bHRMaXN0OiB7XG4gICAgICAgIG9wZW5PbkZvY3VzOiB0cnVlXG4gICAgfVxufSIsImltcG9ydCBTdG9yZSBmcm9tIFwiLi9zdG9yZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuL2V2ZW50XCI7XG5pbXBvcnQge2NvbXBhcmVPcHRpb25zfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25cIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4vY29tcG9uZW50cy9Db25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3B0aW9uIHtcblxuICAgIGFsbFxuXG4gICAgc3RhdGljIGdldCBhbGwoKSB7XG4gICAgICAgIHJldHVybiBTdG9yZS5vcHRpb25zLmFsbC5maWx0ZXIob3B0aW9uID0+ICEhb3B0aW9uLmNvbnRlbnQpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzdGFydGluZ1dpdGhJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbi5hbGwuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY29udGVudC5pbmNsdWRlcyhTdG9yZS5pbnB1dCkgJiYgIW9wdGlvbi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVxdWFsVG9JbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbi5hbGwuZmluZChvcHRpb24gPT4gb3B0aW9uLmNvbnRlbnQgPT09IFN0b3JlLmlucHV0KVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsXG4gICAgICAgICAgICAuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5zZWxlY3RlZCAtIGIuc2VsZWN0ZWQpXG4gICAgfVxuXG4gICAgc3RhdGljIGZpbmRCeVRleHRDb250ZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsLmZpbmQob3B0aW9uID0+IG9wdGlvbi5jb250ZW50ID09PSB2YWx1ZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZmluZEJ5T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsLmZpbmQob3B0aW9uID0+IHtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbkVsZW1lbnQudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBvcHRpb25FbGVtZW50LnZhbHVlICYmIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgc3RhdGljIGNob29zZShvcHRpb24pIHtcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICBPcHRpb24uc2VsZWN0KG9wdGlvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChOYXZpZ2F0aW9uLml0ZW0pIHtcbiAgICAgICAgICAgICAgICBPcHRpb24uc2VsZWN0TmF2aWdhdGlvbkl0ZW0oKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBPcHRpb24uc2VsZWN0SW5wdXRWYWx1ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudC5lbWl0KCdvcHRpb25fY2hvc2VuJylcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwZW5kKG9wdGlvbikge1xuXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RvcmVJbmRleCA9IFN0b3JlLm9wdGlvbnMuYWxsLnB1c2goT3B0aW9uLmdldE1vZGVsKCkpIC0gMVxuXG4gICAgICAgIHJldHVybiBTdG9yZS5vcHRpb25zLmFsbFtzdG9yZUluZGV4XVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRNb2RlbChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb24gPyBvcHRpb24udmFsdWUgOiBudWxsLFxuICAgICAgICAgICAgY29udGVudDogb3B0aW9uID8gb3B0aW9uLmlubmVySFRNTCA6IFN0b3JlLmlucHV0LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IE9wdGlvbi5kZWNpZGUob3B0aW9uKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKG9wdGlvbiAmJiBPcHRpb24uZGVjaWRlKG9wdGlvbikpID8gRGF0ZS5ub3coKSA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBzZWxlY3Qob3B0aW9uKSB7XG4gICAgICAgIFN0b3JlLm9wdGlvbnMuYWxsLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNvbnRlbnQgIT09IG9wdGlvbi5jb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgaXRlbS50aW1lc3RhbXAgPSBEYXRlLm5vd1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyB1bnNlbGVjdChvcHRpb24pIHtcblxuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb250ZW50ICE9PSBvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgRXZlbnQuZW1pdCgnb3B0aW9uX3Vuc2VsZWN0ZWQnKVxuICAgICAgICB0aGlzLiNjbGVhbigpXG4gICAgfVxuXG4gICAgc3RhdGljIGRlY2lkZShvcHRpb24pIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gZmFsc2VcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9uLnZhbHVlICYmICFvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBvcHRpb24uc2VsZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFxuICAgIH1cblxuICAgIHN0YXRpYyBpc05ldyhvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuICFTdG9yZS5pbml0aWFsRGF0YS5maW5kKGl0ZW0gPT4gY29tcGFyZU9wdGlvbnMoaXRlbSwgb3B0aW9uKSlcbiAgICB9XG5cbiAgICBzdGF0aWMgI2NsZWFuKCkge1xuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbCA9IFN0b3JlLm9wdGlvbnMuYWxsLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhT3B0aW9uLmlzTmV3KGl0ZW0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBpc0xpc3RFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICFPcHRpb24uc2VsZWN0ZWQubGVuZ3RoXG4gICAgfVxuXG4gICAgc3RhdGljIHNlbGVjdE5hdmlnYXRpb25JdGVtKCkge1xuICAgICAgICBpZiAoTmF2aWdhdGlvbi5pdGVtID09PSAnYWRkJykge1xuICAgICAgICAgICAgT3B0aW9uLnNlbGVjdElucHV0VmFsdWUoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT3B0aW9uLnNlbGVjdChOYXZpZ2F0aW9uLml0ZW0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2VsZWN0SW5wdXRWYWx1ZSgpIHtcbiAgICAgICAgT3B0aW9uLnNlbGVjdChcbiAgICAgICAgICAgIE9wdGlvbi5hcHBlbmQoKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBhbGxUYWtlbigpe1xuICAgICAgICByZXR1cm4gIShDb25maWcudGV4dElucHV0LmxpbWl0ID4gT3B0aW9uLnNlbGVjdGVkPy5sZW5ndGgpXG4gICAgfVxufSIsImltcG9ydCBPcHRpb24gZnJvbSBcIi4vb3B0aW9uXCI7XG5cbmNvbnN0IFN0b3JlID0ge1xuICAgIGlucHV0OiBudWxsLFxuICAgIGluaXRpYWxEYXRhOiBbXSxcbiAgICBvcHRpb25zOiBuZXcgT3B0aW9uKCksXG5cbiAgICBnZXQgaW5wdXRJc0VtcHR5KCkge1xuXG4gICAgICAgIGlmKCF0aGlzLmlucHV0KVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dD8ubGVuZ3RoIDw9IDBcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3JlIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IGVsZW1lbnRzIGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWFsRWxlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5zdG9yZUluaXRpYWxEYXRhKClcbiAgICAgICAgdGhpcy5oaWRlKClcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIGF0dGFjaFdpZGdldCh3aWRnZXQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kKHdpZGdldClcbiAgICB9XG5cbiAgICBzdG9yZUluaXRpYWxEYXRhKCkge1xuICAgICAgICBTdG9yZS5pbml0aWFsRGF0YSA9IEFycmF5LmZyb20odGhpcy5nZXRBbGxPcHRpb25zKVxuICAgICAgICAgICAgLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9wdGlvbi5nZXRNb2RlbChvcHRpb24pXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBnZXRBbGxPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykpXG4gICAgfVxuXG4gICAgYXBwZW5kT3B0aW9uKG9wdGlvbikge1xuICAgICAgICBjb25zdCBuZXdPcHRpb24gPSBlbGVtZW50cy5zZWxlY3RPcHRpb25cbiAgICAgICAgbmV3T3B0aW9uLnZhbHVlID0gJ19fbmV3X29wdGlvbl9fJ1xuICAgICAgICBuZXdPcHRpb24uaW5uZXJIVE1MID0gb3B0aW9uLmNvbnRlbnRcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKG5ld09wdGlvbilcbiAgICAgICAgcmV0dXJuIG5ld09wdGlvblxuICAgIH1cblxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICBFdmVudC5vbignb3B0aW9uX2Nob3NlbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignb3B0aW9uX3Vuc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAoT3B0aW9uLmZpbmRCeU9wdGlvbkVsZW1lbnQob3B0aW9uKT8uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0IGlzTXVsdGlwbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubXVsdGlwbGVcbiAgICB9XG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0xpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgdGV4dElucHV0XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5hcHBlbmRUZXh0SW5wdXQoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBhcHBlbmRUZXh0SW5wdXQoKSB7XG4gICAgICAgIHRoaXMudGV4dElucHV0ID0gbmV3IFRleHRJbnB1dChlbGVtZW50cy50ZXh0SW5wdXQpXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQodGhpcy50ZXh0SW5wdXQuZWxlbWVudClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrZWRPblJlbW92ZUJ1dHRvbihldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICAgICAgT3B0aW9uLnVuc2VsZWN0KFxuICAgICAgICAgICAgICAgICAgICBPcHRpb24uZmluZEJ5VGV4dENvbnRlbnQodGhpcy5maW5kQ2xpY2tlZFRhZyhldmVudCkuaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbGlja2VkT25SZW1vdmVCdXR0b24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQubWF0Y2hlcygnYnV0dG9uLicgKyBjbGFzc25hbWVzLnJlbW92ZV9idXR0b24pKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJ3N2Zy4nICsgY2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uX3N2ZykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAhIXRhcmdldC5tYXRjaGVzKCdwYXRoJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVsZW1lbnRzLmxpc3RcblxuICAgICAgICBPcHRpb24uc2VsZWN0ZWQuZm9yRWFjaChpdGVtID0+IGxpc3QuYXBwZW5kKGVsZW1lbnRzLmdldEl0ZW0oaXRlbS5jb250ZW50KSkpXG5cbiAgICAgICAgcmV0dXJuIG5ldyBUYWdMaXN0KGxpc3QpXG4gICAgfVxuXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpXG4gICAgfVxuXG4gICAgZmluZENsaWNrZWRUYWcoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuJyArIGNsYXNzbmFtZXMuaXRlbSlcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuaXRlbV90ZXh0X3NwYW4pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuICcuJyArIGNsYXNzbmFtZXMubGlzdFxuICAgIH1cblxufVxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1RhZ0xpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgc2hvdWxkRm9jdXNBZnRlckV2ZW50KGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgIHJldHVybiAhZXZlbnQudGFyZ2V0LmNsb3Nlc3QoVGFnTGlzdC5zZWxlY3Rvcik7XG5cbiAgICB9XG5cbn0iLCJpbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4vLi4vZWxlbWVudHNcIjtcbmltcG9ydCBJbml0aWFsRWxlbWVudCBmcm9tIFwiLi9Jbml0aWFsRWxlbWVudFwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgUmVzdWx0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0XCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL2V2ZW50XCI7XG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9vcHRpb25cIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuL1RhZ0xpc3RcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL05hdmlnYXRpb25cIjtcbmltcG9ydCBPcHRpb25Wb3RlciBmcm9tIFwiLi4vdm90ZXIvT3B0aW9uVm90ZXJcIjtcbmltcG9ydCBJbnB1dFZvdGVyIGZyb20gXCIuLi92b3Rlci9JbnB1dFZvdGVyXCJcblxuZXhwb3J0IGNsYXNzIFdpZGdldCB7XG5cbiAgICBpbml0aWFsRWxlbWVudFxuICAgIGVsZW1lbnRcblxuICAgIHRhZ0xpc3RcbiAgICByZXN1bHRMaXN0XG4gICAgbmF2aWdhdGlvblxuXG4gICAgc3RvcmUgPSBTdG9yZVxuXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbEVsZW1lbnQpIHtcblxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50ID0gbmV3IEluaXRpYWxFbGVtZW50KGluaXRpYWxFbGVtZW50KVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50cy53aWRnZXRcblxuICAgICAgICAvLyB0aGlzLnRleHRJbnB1dCA9IG5ldyBUZXh0SW5wdXQodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5pbnB1dCkpXG4gICAgICAgIHRoaXMucmVzdWx0TGlzdCA9IG5ldyBSZXN1bHRMaXN0KHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyKSlcbiAgICAgICAgdGhpcy50YWdMaXN0ID0gbmV3IFRhZ0xpc3QodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5saXN0KSlcblxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LmF0dGFjaFdpZGdldCh0aGlzLmVsZW1lbnQpXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IE5hdmlnYXRpb25cblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICByZWdpc3Rlckxpc3RlbmVycygpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIElucHV0Vm90ZXIuc2hvdWxkRm9jdXNBZnRlckV2ZW50KGV2ZW50KSAmJiB0aGlzLiNmb2N1c0lucHV0KClcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignb3B0aW9uX2Nob3NlbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgICAgIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIEV2ZW50Lm9uKCdvcHRpb25fdW5zZWxlY3RlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgICAgIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgI2ZvY3VzSW5wdXQoKSB7XG4gICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuZm9jdXMoKVxuICAgICAgICAvLyBFdmVudC5lbWl0KCdpbnB1dF9mb2N1cycpXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFwcGVuZE5ld1NlbGVjdE9wdGlvbnMoKVxuICAgICAgICB0aGlzLnVwZGF0ZVRhZ0xpc3QoKVxuICAgICAgICB0aGlzLmNsb3NlUmVzdWx0TGlzdEJveCgpXG4gICAgICAgIHRoaXMuY2xlYXJUZXh0SW5wdXQoKVxuICAgICAgICB0aGlzLmxpbWl0KClcbiAgICB9XG5cbiAgICBhcHBlbmROZXdTZWxlY3RPcHRpb25zKCkge1xuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbC5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoT3B0aW9uLmlzTmV3KG9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LmFwcGVuZE9wdGlvbihvcHRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlVGFnTGlzdCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnJlbW92ZSgpXG4gICAgICAgIHRoaXMudGFnTGlzdCA9IFRhZ0xpc3QuY3JlYXRlKClcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCh0aGlzLnRhZ0xpc3QuZWxlbWVudClcbiAgICB9XG5cbiAgICBjbG9zZVJlc3VsdExpc3RCb3goKSB7XG4gICAgICAgIHRoaXMucmVzdWx0TGlzdC5jbG9zZVJlc3VsdEJveCgpXG4gICAgfVxuXG4gICAgY2xlYXJUZXh0SW5wdXQoKSB7XG4gICAgICAgIFRleHRJbnB1dC5jbGVhcigpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLndpZGdldH1gXG4gICAgfVxuXG4gICAgbGltaXQoKSB7XG4gICAgICAgIGlmICghT3B0aW9uVm90ZXIuY2FuQWRkKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuZWxlbWVudC5tYXhMZW5ndGggPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRhZ0xpc3QudGV4dElucHV0LmVsZW1lbnQubWF4TGVuZ3RoID0gNTI0Mjg4XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtXaWRnZXR9IGZyb20gXCIuL2NvbXBvbmVudHMvV2lkZ2V0XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vZXZlbnRcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi9zdG9yZVwiO1xuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9jb21wb25lbnRzL0NvbmZpZ1wiO1xuaW1wb3J0IFRhZ0xpc3QgZnJvbSBcIi4vY29tcG9uZW50cy9UYWdMaXN0XCI7XG5pbXBvcnQgJy4vc3R5bGUvY2hvb3N5LmNzcydcblxuZXhwb3J0IGNsYXNzIENob29zeSB7XG5cbiAgICB3aWRnZXRcbiAgICBjb25maWdcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy53aWRnZXQgPSBuZXcgV2lkZ2V0KGVsZW1lbnQpXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ29uZmlnXG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKClcbiAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkge1xuICAgICAgICB0aGlzLmNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudCgpXG4gICAgICAgIHRoaXMud2luZG93Qmx1ckV2ZW50KClcbiAgICB9XG5cbiAgICBjbGlja2VkT3V0c2lkZU9mV2lkZ2V0RXZlbnQoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy53aWRnZXQuZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpIHx8IHRoaXMuaXNDbGlja09uVGFnTGlzdChldmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ3dpZGdldF9jbGlja2VkX291dHNpZGUnKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHdpbmRvd0JsdXJFdmVudCgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICBFdmVudC5lbWl0KCd3aW5kb3dfYmx1cicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaXNDbGlja09uVGFnTGlzdChldmVudCkge1xuICAgICAgICByZXR1cm4gISFldmVudC50YXJnZXQuY2xvc2VzdChUYWdMaXN0LnNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgU3RvcmUub3B0aW9ucy5hbGwgPSBBcnJheS5mcm9tKFN0b3JlLmluaXRpYWxEYXRhKVxuICAgIH1cblxuICAgIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMud2lkZ2V0LmluaXRpYWxFbGVtZW50LmlzTXVsdGlwbGUpXG4gICAgICAgICAgICBDb25maWcudGV4dElucHV0LmxpbWl0ID0gMVxuICAgIH1cbn0iXSwibmFtZXMiOlsiQ29tcG9uZW50IiwiZWxlbWVudCIsIndpZGdldCIsImlucHV0IiwibGlzdCIsIml0ZW0iLCJpdGVtX3RleHRfc3BhbiIsInJlbW92ZV9idXR0b24iLCJyZW1vdmVfYnV0dG9uX3N2ZyIsInJlc3VsdF9saXN0X2NvbnRhaW5lciIsInJlc3VsdF9saXN0IiwicmVzdWx0X2xpc3RfaXRlbSIsInJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlIiwiYWRkX2l0ZW0iLCJ0aGlzIiwiY3JlYXRlIiwiY2xhc3NuYW1lcyIsInN0eWxlIiwid2lkdGgiLCJhcHBlbmQiLCJyZXN1bHRMaXN0IiwiYnRuIiwicmVtb3ZlU1ZHIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiYm9keSIsImZpcnN0Q2hpbGQiLCJ3cmFwcGVyIiwiZGlzcGxheSIsInJlc3VsdEl0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJnZXRJdGVtIiwidGV4dCIsImdldEl0ZW1UZXh0U3BhbiIsInJlbW92ZUJ1dHRvbiIsInNwYW4iLCJ0YWdOYW1lIiwidHlwZSIsImNsYXNzZXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJmb3JFYWNoIiwibmFtZSIsIkV2ZW50Iiwic3Vic2NyaWJlcnMiLCJvbiIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsIm9mZiIsImZpbHRlciIsImV2ZW50IiwiZW1pdCIsImRhdGEiLCJPcHRpb24iLCJhbGxUYWtlbiIsIlN0b3JlIiwiaW5wdXRJc0VtcHR5IiwiT3B0aW9uVm90ZXIiLCJSZXN1bHRMaXN0IiwiYXBwZW5kTGlzdCIsInJlZ2lzdGVyRXZlbnRMaXN0ZW5lciIsImNsb3NlRXZlbnRzIiwiX3RoaXMiLCJjbG9zZVJlc3VsdEJveCIsImNyZWF0ZVJlc3VsdExpc3QiLCJjcmVhdGVCb3giLCJvcGVuUmVzdWx0Qm94Iiwic2V0UmVzdWx0Qm94SGVpZ2h0Iiwib3BlbiIsIk5hdmlnYXRpb24iLCJjbGVhciIsIlJlc3VsdExpc3RMaXN0IiwicXVlcnlTZWxlY3RvciIsInNlbGVjdG9yIiwiZGVzdHJveSIsImhhbmRsZSIsImtleSIsInByZXZlbnREZWZhdWx0IiwiYXJyb3dEb3duRXZlbnQiLCJhcnJvd1VwRXZlbnQiLCJpc05hdmlnYXRpb25FbmFibGVkIiwiZG93biIsInVwIiwiZ2V0V2lkZ2V0RnJvbUV2ZW50IiwiaXNPcGVuIiwiaXNFbXB0eSIsInRhcmdldCIsImNsb3Nlc3QiLCJXaWRnZXQiLCJUZXh0SW5wdXQiLCJ2YWx1ZSIsInJlZ2lzdGVyTGlzdGVuZXJzIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsInJlZnJlc2hTdGF0ZSIsImFkanVzdFdpZHRoIiwiZW50ZXJLZXlFdmVudCIsImVzY2FwZUtleUV2ZW50IiwiYmFja3NwYWNlS2V5RXZlbnQiLCJuYXZpZ2F0aW9uRXZlbnRzIiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJyZXNldFZhbHVlIiwibGVuZ3RoIiwiaGFzTWluTGVuZ3RoIiwiY2hvb3NlIiwiaXNMaXN0RW1wdHkiLCJ1bnNlbGVjdCIsImFycmF5Iiwic2VsZWN0ZWQiLCJhY3RpdmVFbGVtZW50IiwiY29udGFpbnMiLCJpc0ZvY3Vzc2VkIiwiZm9jdXMiLCJfU3RvcmUkaW5wdXQiLCJyZXN1bHRCb3giLCJlbGVtZW50cyIsInJlc3VsdExpc3RMaXN0IiwicmVtb3ZlIiwic2Nyb2xsVG9WaWV3IiwiY2hvb3NlTGlzdGVuZXIiLCJjcmVhdGVMaXN0QW5kU2Nyb2xsIiwibWF0Y2hlcyIsImZpbmRCeVRleHRDb250ZW50IiwiZXF1YWxUb0lucHV0IiwicmVzdWx0cyIsImFwcGVuZEFkZEl0ZW1Ub0xpc3QiLCJhbGwiLCJSZXN1bHRMaXN0Vm90ZXIiLCJjcmVhdGVMaXN0QWxsUmVzdWx0cyIsImNyZWF0ZUxpc3RSZXN1bHRzIiwib3B0aW9ucyIsIm9wdGlvbiIsIl90aGlzMyIsImhhc09wdGlvbiIsImFwcGVuZEVsZW1lbnRUb0xpc3QiLCJjcmVhdGVSZXN1bHRJdGVtIiwiZnJvbSIsImFsbExpc3RJdGVtcyIsImZpbmQiLCJyZXN1bHQiLCJ0ZXh0Q29udGVudCIsImhhc0FkZE5ld0l0ZW0iLCJhZGRJdGVtIiwiaXNBZGRJdGVtIiwiaXNBY3RpdmUiLCJjb250ZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpdGVtcyIsImkiLCJvZmZzZXRIZWlnaHQiLCJoZWlnaHQiLCJnZXRBY3RpdmVFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImlubGluZSIsImJlaGF2aW9yIiwiYm91bmRhcnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RhcnRpbmdXaXRoSW5wdXQiLCJub2RlcyIsImxlbiIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9wdGlvbkVsZW1lbnQiLCJpbmRleCIsInNlbGVjdGVkSXRlbSIsImluZGV4T2YiLCJ0ZXh0SW5wdXQiLCJsaW1pdCIsIm9wZW5PbkZvY3VzIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsImIiLCJzZWxlY3QiLCJzZWxlY3ROYXZpZ2F0aW9uSXRlbSIsInNlbGVjdElucHV0VmFsdWUiLCJzdG9yZUluZGV4IiwiZ2V0TW9kZWwiLCJkZWNpZGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwibWFwIiwiaW5pdGlhbERhdGEiLCJzZWNvbmRPcHRpb24iLCJmaXJzdE9wdGlvbiIsIkNvbmZpZyIsIl9PcHRpb24kc2VsZWN0ZWQiLCJpc05ldyIsIkluaXRpYWxFbGVtZW50Iiwic3RvcmVJbml0aWFsRGF0YSIsImhpZGUiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QWxsT3B0aW9ucyIsIm5ld09wdGlvbiIsInNlbGVjdE9wdGlvbiIsInVwZGF0ZSIsImZpbmRCeU9wdGlvbkVsZW1lbnQiLCJfT3B0aW9uJGZpbmRCeU9wdGlvbkUiLCJtdWx0aXBsZSIsIlRhZ0xpc3QiLCJhcHBlbmRUZXh0SW5wdXQiLCJyZWdpc3RlckV2ZW50TGlzdGVuZXJzIiwiY2xpY2tlZE9uUmVtb3ZlQnV0dG9uIiwiZmluZENsaWNrZWRUYWciLCJpbml0aWFsRWxlbWVudCIsInRhZ0xpc3QiLCJhdHRhY2hXaWRnZXQiLCJuYXZpZ2F0aW9uIiwiSW5wdXRWb3RlciIsImFwcGVuZE5ld1NlbGVjdE9wdGlvbnMiLCJ1cGRhdGVUYWdMaXN0IiwiY2xvc2VSZXN1bHRMaXN0Qm94IiwiY2xlYXJUZXh0SW5wdXQiLCJhcHBlbmRPcHRpb24iLCJtYXhMZW5ndGgiLCJjb25maWciLCJpbml0aWFsaXplRGF0YSIsInJlc29sdmVPcHRpb25zIiwiY2xpY2tlZE91dHNpZGVPZldpZGdldEV2ZW50Iiwid2luZG93Qmx1ckV2ZW50IiwiaXNDbGlja09uVGFnTGlzdCIsIndpbmRvdyIsImlzTXVsdGlwbGUiXSwibWFwcGluZ3MiOiJveERBR0ksU0FIaUJBLEVBR0xDLDJDQUNIQSxRQUFVQSxRQ0pSLENBQ1hDLE9BQVEsZ0JBQ1JDLE1BQU8sZUFDUEMsS0FBTSxjQUNOQyxLQUFNLGNBQ05DLGVBQWdCLHdCQUNoQkMsY0FBZSx1QkFDZkMsa0JBQW1CLDJCQUNuQkMsc0JBQXVCLCtCQUN2QkMsWUFBYSxxQkFDYkMsaUJBQWtCLHFCQUNsQkMsd0JBQXlCLFNBQ3pCQyxTQUFVLHFCQ1ZDLHFCQUlEVixFQUFRVyxLQUFLQyxPQUFPLFFBQVMsT0FBUSxDQUFDQyxFQUFXYixlQUN2REEsRUFBTWMsTUFBTUMsTUFBUSxNQUViZixvQkFJREQsRUFBU1ksS0FBS0MsT0FBTyxNQUFPLEtBQU0sQ0FBQ0MsRUFBV2QsZ0JBQ3BEQSxFQUFPaUIsT0FBT0wsS0FBS1YsTUFFbkJGLEVBQU9pQixPQUFPTCxLQUFLTSxZQUNabEIscUJBSUFZLEtBQUtDLE9BQU8sTUFBTyxLQUFNLENBQUNDLEVBQVdaLCtCQUl0Q2lCLEVBQU1QLEtBQUtDLE9BQU8sU0FBVSxLQUFNLENBQUNDLEVBQVdULHVCQUNwRGMsRUFBSUYsT0FBT0wsS0FBS1EsV0FDVEQsMEJBS0ssSUFBSUUsV0FBWUMsb0hBQTBHUixFQUFXUixpU0FHcEksYUFFRmlCLEtBQUtDLGlDQUtWQyxFQUFVYixLQUFLQyxPQUFPLE1BQU8sS0FBTSxDQUFDQyxFQUFX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
