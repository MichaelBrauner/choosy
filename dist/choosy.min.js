function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _classPrivateMethodGet(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var classnames={widget:"choosy-widget",input:"choosy-input",list:"choosy-list",item:"choosy-item",item_text_span:"choosy-item-text-span",remove_button:"choosy-remove-button",remove_button_svg:"choosy-remove-button-svg",result_list_container:"choosy-result-list-container",result_list:"choosy-result-list",result_list_item:"choosy-result-item",result_list_item_active:"active",add_item:"choosy-add-item"},elements={get textInput(){var e=this.create("input","text",[classnames.input]);return e.style.width="1ch",e},get widget(){var e=this.create("div",null,[classnames.widget]);return e.append(this.list),e.append(this.resultList),e},get list(){return this.create("div",null,[classnames.list])},get removeButton(){var e=this.create("button",null,[classnames.remove_button]);return e.append(this.removeSVG),e},get removeSVG(){return(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill=\"currentColor\" class=\"".concat(classnames.remove_button_svg,"\">\n            <path fill-rule='evenodd'\n                  d='M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z'></path>\n            </svg>"),"text/html").body.firstChild},get resultList(){var e=this.create("div",null,[classnames.result_list_container]);return e.style.display="none",e},get resultListList(){return this.create("ul",null,[classnames.result_list])},get resultItem(){return this.create("li",null,[classnames.result_list_item])},get addItem(){var e=this.resultItem;return e.classList.add(classnames.add_item),e.innerHTML="Add new",e},get selectOption(){return this.create("option",null)},getItem:function(e){var t=this.create("div",null,[classnames.item]);return t.append(this.getItemTextSpan(e)),t.append(this.removeButton),t},getItemTextSpan:function(e){var t=this.create("span",null,[classnames.item_text_span]);return t.innerHTML=e,t},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);return t&&(i.type=t),n.forEach(function(e){i.classList.add(e)}),i}},Component=function(){function n(e,t){_classCallCheck(this,n),this.$app=e,this.element=t}return _createClass(n,[{key:"$store",get:function(){return this.$app.store}},{key:"$navigation",get:function(){return this.$app.navigation}},{key:"$event",get:function(){return this.$app.event}},{key:"$option",get:function(){return this.$app.store.options}},{key:"$textInput",get:function(){return this.$app.widget.tagList.textInput}},{key:"$widget",get:function(){return this.$app.widget}},{key:"$config",get:function(){return this.$app.config}}]),n}(),InitialElement=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),(e=n.call(this,t,e)).storeInitialData(),e.hide(),e.registerListeners(),e}return _createClass(i,[{key:"hide",value:function(){this.element.style.display="none"}},{key:"attachWidget",value:function(e){this.element.parentElement.append(e)}},{key:"storeInitialData",value:function(){var t=this;this.$app.store.initialData=Array.from(this.getAllOptions).map(function(e){return t.$store.options.getModel(e)})}},{key:"getAllOptions",get:function(){return Array.from(this.element.querySelectorAll("option"))}},{key:"appendOption",value:function(e){var t=elements.selectOption;return t.value="__new_option__"+e.content,t.innerHTML=e.content,this.element.append(t),t}},{key:"registerListeners",value:function(){var e=this;this.$app.event.on("option_chosen",function(){e.update()}),this.$app.event.on("option_unselected",function(){e.update()})}},{key:"update",value:function(e){var n=this;this.element.querySelectorAll("option").forEach(function(e){var t;null!==(t=n.$store.options.findByOptionElement(e))&&void 0!==t&&t.selected?e.selected=!0:e.selected=!1}),null!=e&&!e||this.triggerChangeEvent()}},{key:"triggerChangeEvent",value:function(){this.element.dispatchEvent(new Event("change"))}},{key:"isMultiple",get:function(){return this.element.multiple}},{key:"updateOptionsData",value:function(){var t=this;this.storeInitialData(),this.$option.options=Array.from(this.getAllOptions).map(function(e){return t.$store.options.getModel(e)}),this.$widget.update(!1)}},{key:"clean",value:function(){var t=this;this.getAllOptions.forEach(function(e){t.isOptionNew(e)&&!t.isSelected(e)&&e.remove()})}},{key:"isOptionNew",value:function(e){return e.value.startsWith("__new_option__")}},{key:"isSelected",value:function(t){return!!this.$option.selected.find(function(e){return t.textContent===e.content})}}]),i}(),_clean$2=new WeakSet,_findOptionElementByDataOption=new WeakSet,ResultListList=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),t=n.call(this,t,void 0),_findOptionElementByDataOption.add(_assertThisInitialized(t)),_clean$2.add(_assertThisInitialized(t)),t.create(e),t.registerEventListener(),t}return _createClass(i,[{key:"create",value:function(e){var t=elements.resultListList;e.append(t),this.element=t}},{key:"destroy",value:function(){this.element.remove(),this.$event.off("navigation_action")}},{key:"createListAndScroll",value:function(){this.createResultList(),this.scrollToView()}},{key:"registerEventListener",value:function(){var e=this;this.chooseListener(),this.$event.on("navigation_action",function(){e.createListAndScroll()})}},{key:"chooseListener",value:function(){var t=this;this.element.addEventListener("click",function(e){e.target.matches("li.".concat(classnames.result_list_item,":not(.").concat(classnames.add_item,")"))?t.choose(e.target.innerHTML):e.target.matches("li."+classnames.add_item)&&t.choose()})}},{key:"choose",value:function(e){e?this.$option.choose(this.$option.findByTextContent(e)):this.$option.equalToInput||this.$option.choose()}},{key:"createListResults",value:function(){_classPrivateMethodGet(this,_clean$2,_clean2$2).call(this),this.append(this.results),!this.$option.equalToInput&&this.$textInput.hasMinLength&&this.appendAddItemToList()}},{key:"createListAllResults",value:function(){_classPrivateMethodGet(this,_clean$2,_clean2$2).call(this),this.append(this.$option.all)}},{key:"createResultList",value:function(){this.$app.resultListVoter.canOpenAll()&&this.createListAllResults(),this.$app.resultListVoter.canOpen()&&this.createListResults()}},{key:"append",value:function(e){var t=this;e.forEach(function(e){t.hasOption(e)||t.appendElementToList(t.createResultItem(e))})}},{key:"hasOption",value:function(t){return Array.from(this.allListItems).find(function(e){return e.textContent===t.textContent})}},{key:"appendAddItemToList",value:function(){var e;this.hasAddNewItem||(e=elements.addItem,this.$navigation.isAddItem()&&e.classList.add(classnames.result_list_item_active),this.appendElementToList(e))}},{key:"appendElementToList",value:function(e){this.element.append(e)}},{key:"hasAddNewItem",get:function(){return this.element.querySelector("."+classnames.add_item)}},{key:"createResultItem",value:function(e){var t=elements.resultItem;return this.$navigation.isActive(e)&&t.classList.add(classnames.result_list_item_active),t.innerHTML=e.content,t}},{key:"isEmpty",value:function(e){return!e.querySelectorAll("".concat(i.selector," > .").concat(classnames.result_list_item)).length}},{key:"allListItems",get:function(){return this.element.getElementsByTagName("li")}},{key:"results",get:function(){var e;return this.$app.resultListVoter.canOpenAll()?null!==(e=this.$option.all)&&void 0!==e?e:[]:this.$app.resultListVoter.canOpen()?this.$textInput.hasMinLength?this.$option.startingWithInput:[]:void 0}},{key:"setResultBoxHeight",value:function(){var e=this.allListItems,t=0;if(5<e.length)for(var n=0;n<5;n++)t+=e.item(n).offsetHeight;this.element.style.height=t?t+"px":"auto"}},{key:"scrollToView",value:function(){var e=this.getActiveElement();e&&e.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth",boundary:this.element})}},{key:"getActiveElement",value:function(){var e=this.$navigation.item;return e?_classPrivateMethodGet(this,_findOptionElementByDataOption,_findOptionElementByDataOption2).call(this,e):null}}],[{key:"selector",get:function(){return".".concat(classnames.result_list)}}]),i}();function _clean2$2(){for(var e=this.allListItems,t=0,n=e.length;t!==n;++t)e[0].parentNode.removeChild(e[0])}function _findOptionElementByDataOption2(t){return"add"===t?this.element.querySelector(".".concat(classnames.add_item)):Array.from(this.allListItems).find(function(e){return(null==e?void 0:e.innerHTML)===(null==t?void 0:t.content)})}var _clean$1=new WeakSet,ResultList=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),e=n.call(this,t,e),_clean$1.add(_assertThisInitialized(e)),_defineProperty(_assertThisInitialized(e),"list",void 0),_defineProperty(_assertThisInitialized(e),"closeEvents",["widget_clicked_outside","input_pressed_esc","input_pressed_tab","window_blur"]),e.appendList(),e.registerEventListener(),e}return _createClass(i,[{key:"registerEventListener",value:function(){var t=this;this.closeEvents.forEach(function(e){t.$event.on(e,function(){t.closeResultBox()})}),this.$event.on("input_input_debounced",function(){t.$store.inputIsEmpty?t.closeResultBox():(t.list.createResultList(),t.createBox())}),this.$event.on("input_focus",function(){t.list.createResultList(),t.createBox()})}},{key:"createBox",value:function(){this.openResultBox(),this.list.setResultBoxHeight()}},{key:"openResultBox",value:function(){this.open||(this.element.style.display="block")}},{key:"open",get:function(){return"none"!==this.element.style.display}},{key:"closeResultBox",value:function(){_classPrivateMethodGet(this,_clean$1,_clean2$1).call(this),this.open&&(this.element.style.display="none"),this.$navigation.clear()}},{key:"appendList",value:function(){this.list=new ResultListList(this.element,this.$app)}},{key:"isOpen",value:function(e){return"block"===e.querySelector(i.selector).style.display}},{key:"destroy",value:function(){this.list.destroy()}}],[{key:"selector",get:function(){return".".concat(classnames.result_list_container)}}]),i}();function _clean2$1(){this.destroy(),this.appendList()}function debounce(i,s){var o;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(o),o=setTimeout(function(){clearTimeout(o),i.apply(void 0,t)},s)}}function getLastOfArray(e){return e[e.length-1]}function compareOptions(e,t){return e.value===t.value&&e.content===t.content}function merge(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var s=0,o=n;s<o.length;s++){var r,a=o[s];for(r in a)null!=a[r]&&(e[r]=replaceValue(e[r],a[r]))}return e}function replaceValue(n,e){return Array.isArray(n)&&Array.isArray(e)?e.map(function(e,t){return replaceValue(n[t],e)}):isObject(n)&&isObject(e)?merge(n,e):e}function isObject(e){return e&&e.constructor===Object}var TextInput=function(){_inherits(s,Component);var i=_createSuper(s);function s(e,t){var n;return _classCallCheck(this,s),_defineProperty(_assertThisInitialized(n=i.call(this,t,e)),"resetValue",function(){n.element.value=null}),n.registerListeners(),n}return _createClass(s,[{key:"registerListeners",value:function(){var t=this;this.element.addEventListener("input",function(){t.refreshState(),t.adjustWidth()}),this.element.addEventListener("keydown",function(e){"Enter"===e.key&&t.enterKeyEvent(e),"Escape"===e.key&&t.escapeKeyEvent(e),"Backspace"===e.key&&t.backspaceKeyEvent(e),"Tab"===e.key&&t.$event.emit("input_pressed_tab"),t.$navigation.events.handle(e)}),this.element.addEventListener("input",debounce(function(e){t.$event.emit("input_input_debounced",e)},250)),this.element.addEventListener("focus",function(){t.$event.emit("input_focus")}),this.element.addEventListener("blur",function(e){t.$event.emit("input_blur",e)}),this.$event.on("input_cleared",this.resetValue)}},{key:"length",get:function(){var e;return null===(e=this.$store.input)||void 0===e?void 0:e.length}},{key:"hasMinLength",get:function(){return 2<=this.length}},{key:"adjustWidth",value:function(){this.element.style.width="".concat(this.length?this.length+1:1,"ch")}},{key:"refreshState",value:function(){this.$store.input=this.element.value}},{key:"limit",value:function(e){this.$app.optionVoter.canAdd()||e.preventDefault()}},{key:"clear",value:function(){this.$store.input=null,this.$event.emit("input_cleared")}},{key:"enterKeyEvent",value:function(e){e.preventDefault(),(this.hasMinLength||this.$app.optionVoter.canAdd())&&this.$option.choose()}},{key:"escapeKeyEvent",value:function(){this.$event.emit("input_pressed_esc")}},{key:"backspaceKeyEvent",value:function(e){this.$store.inputIsEmpty&&!this.$option.isListEmpty&&(e.preventDefault(),this.$option.unselect(getLastOfArray(this.$option.selected)))}},{key:"isFocussed",get:function(){return document.activeElement.classList.contains(classnames.input)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"destroy",value:function(){this.$event.off("input_cleared",this.resetValue)}}],[{key:"selector",get:function(){return"."+classnames.input}}]),s}(),TagList=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=n.call(this,t,e)),"textInput",void 0),e.appendTextInput(),e.registerEventListeners(),e}return _createClass(i,[{key:"appendTextInput",value:function(){this.textInput=new TextInput(elements.textInput,this.$app),this.element.append(this.textInput.element)}},{key:"registerEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){t.clickedOnRemoveButton(e.target)&&(e.preventDefault(),t.$option.unselect(t.$option.findByTextContent(t.findClickedTag(e).innerHTML)))})}},{key:"clickedOnRemoveButton",value:function(e){return!!e.matches("button."+classnames.remove_button)||(!!e.matches("svg."+classnames.remove_button_svg)||!!e.matches("path"))}},{key:"remove",value:function(){this.textInput.destroy(),this.element.remove()}},{key:"findClickedTag",value:function(e){return e.target.closest("."+classnames.item).querySelector("."+classnames.item_text_span)}}],[{key:"create",value:function(e,t){var n=elements.list;return e.selected.forEach(function(e){return n.append(elements.getItem(e.content))}),new i(n,t)}},{key:"selector",get:function(){return"."+classnames.list}}]),i}(),_focusInput=new WeakSet,Widget=function(){_inherits(s,Component);var i=_createSuper(s);function s(e,t){var n;return _classCallCheck(this,s),n=i.call(this,t,elements.widget),_focusInput.add(_assertThisInitialized(n)),_defineProperty(_assertThisInitialized(n),"initialElement",void 0),_defineProperty(_assertThisInitialized(n),"tagList",void 0),_defineProperty(_assertThisInitialized(n),"resultList",void 0),n.initialElement=new InitialElement(e,t),n.resultList=new ResultList(n.element.querySelector("."+classnames.result_list_container),t),n.tagList=new TagList(n.element.querySelector("."+classnames.list),t),n.initialElement.attachWidget(n.element),n.registerListeners(),n}return _createClass(s,[{key:"registerListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){t.$app.inputVoter.shouldFocusOnWidgetClick(e)&&_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)}),this.$event.on("option_chosen",function(){t.update(!1),_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)}),this.$event.on("option_unselected",function(){t.update(!1),_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)})}},{key:"update",value:function(e){this.appendNewSelectOptions(),this.initialElement.update(e),this.updateTagList(),this.closeResultListBox(),this.clearTextInput(),this.limit(),this.updateConfigOptions()}},{key:"appendNewSelectOptions",value:function(){var t=this;this.$option.all.forEach(function(e){t.$option.isNew(e)&&t.initialElement.appendOption(e)}),this.initialElement.clean()}},{key:"updateTagList",value:function(){this.tagList.remove(),this.tagList=TagList.create(this.$option,this.$app),this.element.append(this.tagList.element)}},{key:"closeResultListBox",value:function(){this.resultList.closeResultBox()}},{key:"clearTextInput",value:function(){this.tagList.textInput.clear()}},{key:"limit",value:function(){this.$app.optionVoter.canAdd()?this.tagList.textInput.element.maxLength=524288:this.tagList.textInput.element.maxLength=0}},{key:"updateConfigOptions",value:function(){this.$config.resolveEnabled()}},{key:"disable",value:function(){this.element.classList.add("disabled"),this.tagList.textInput.element.tabIndex=-1}},{key:"enable",value:function(){this.element.classList.remove("disabled"),this.tagList.textInput.element.tabIndex=0}},{key:"destroy",value:function(){this.tagList.remove(),this.resultList.destroy(),this.element.remove()}}],[{key:"selector",get:function(){return".".concat(classnames.widget)}}]),s}();function _focusInput2(){this.tagList.textInput.focus()}var Event$1=function(){function e(){_classCallCheck(this,e),_defineProperty(this,"subscribers",{})}return _createClass(e,[{key:"on",value:function(e,t){Array.isArray(this.subscribers[e])||(this.subscribers[e]=[]),this.subscribers[e].push(t)}},{key:"off",value:function(e,t){this.subscribers[e]=t?this.subscribers[e].filter(function(e){return e!==t}):[]}},{key:"emit",value:function(e,t){Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach(function(e){e(t)})}}]),e}(),Config=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(e=n.call(this,e,void 0)),"options",{enabled:!0,limit:null,openOnFocus:!0}),t&&(e.options=merge(e.options,t)),e}return _createClass(i,[{key:"resolveEnabled",value:function(){this.options.enabled&&this.$widget.enable(),this.options.enabled||this.$widget.disable()}}]),i}(),_clean=new WeakSet,Option=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),e=t.call(this,e,void 0),_clean.add(_assertThisInitialized(e)),_defineProperty(_assertThisInitialized(e),"options",void 0),e}return _createClass(n,[{key:"all",get:function(){var t=this;return this.options.filter(function(e){return!!e.content&&!t.isSelected(e)})}},{key:"startingWithInput",get:function(){var t=this;return this.options.filter(function(e){return e.content.includes(t.$store.input)&&!e.selected})}},{key:"equalToInput",get:function(){var t=this;return this.options.find(function(e){return e.content===t.$store.input})}},{key:"selected",get:function(){return this.options.filter(function(e){return e.selected}).sort(function(e,t){return e.selected-t.selected})}},{key:"isSelected",value:function(e){e=this.findByTextContent(e.content);return e&&e.selected}},{key:"findByTextContent",value:function(t){return this.options.find(function(e){return e.content===t})}},{key:"findByOptionElement",value:function(t){return this.options.find(function(e){return null===t.value?e.content===t.innerHTML:t.value.startsWith("__new_option__")?null===e.value&&e.content===t.innerHTML:e.value===t.value&&e.content===t.innerHTML})}},{key:"choose",value:function(e){e?this.select(e):this.$navigation.item?this.selectNavigationItem():this.selectInputValue(),this.$event.emit("option_chosen",e)}},{key:"append",value:function(e){if(!e){e=this.options.push(this.getModel())-1;return this.options[e]}}},{key:"getModel",value:function(e){return{value:e?e.value:null,content:e?e.innerHTML:this.$store.input,selected:this.decide(e),timestamp:e&&this.decide(e)?Date.now():null}}},{key:"select",value:function(t){this.options.map(function(e){e.content===t.content&&(e.selected=!0,e.timestamp=Date.now())})}},{key:"unselect",value:function(t){this.options.map(function(e){e.content===t.content&&(e.selected=!1)}),null===t.value&&this.removeAllUnselectedNew(),this.$event.emit("option_unselected"),_classPrivateMethodGet(this,_clean,_clean2).call(this)}},{key:"decide",value:function(e){var t=!1;if(e){if(!e.value&&!e.content)return!1;t=e.selected}return t}},{key:"isNew",value:function(t){return!this.$store.initialData.find(function(e){return compareOptions(e,t)})}},{key:"isListEmpty",get:function(){return!this.selected.length}},{key:"selectNavigationItem",value:function(){"add"===this.$navigation.item?this.selectInputValue():this.select(this.$navigation.item)}},{key:"selectInputValue",value:function(){this.select(this.append())}},{key:"allTaken",get:function(){var e;return!!this.$config.options.limit&&!(this.$app.config.options.limit>(null===(e=this.selected)||void 0===e?void 0:e.length))}},{key:"removeAllUnselectedNew",value:function(){this.options=this.options.filter(function(e){return e.value||e.selected})}}]),n}();function _clean2(){var t=this;this.options=this.options.filter(function(e){return!t.isNew(e)||e.selected})}var Store=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(e=t.call(this,e)),"input",null),_defineProperty(_assertThisInitialized(e),"initialData",[]),_defineProperty(_assertThisInitialized(e),"options",new Option(e.$app)),e}return _createClass(n,[{key:"inputIsEmpty",get:function(){var e;return!this.input||(null===(e=this.input)||void 0===e?void 0:e.length)<=0}}]),n}(),NavigationEvents=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"handle",value:function(e){"ArrowDown"===e.key&&(e.preventDefault(),this.arrowDownEvent(e)),"ArrowUp"===e.key&&(e.preventDefault(),this.arrowUpEvent(e))}},{key:"arrowDownEvent",value:function(e){this.isNavigationEnabled(e)&&this.$navigation.down()}},{key:"arrowUpEvent",value:function(e){this.isNavigationEnabled(e)&&this.$navigation.up()}},{key:"isNavigationEnabled",value:function(e){e=this.getWidgetFromEvent(e);return this.$app.widget.resultList.isOpen(e)&&!this.$app.widget.resultList.list.isEmpty(e)}},{key:"getWidgetFromEvent",value:function(e){return e.target.closest(Widget.selector)}}]),n}(),Navigation=function(){_inherits(i,Component);var n=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(t=n.call(this,e)),"item",""),t.events=new NavigationEvents(e),t}return _createClass(i,[{key:"up",value:function(){var e,t=this.$app.widget.resultList.list.results;this.selectedItem?(e=t.indexOf(this.selectedItem),"add"===this.selectedItem?this.selectedItem=t[t.length-1]:(e<=t.length-1&&(this.selectedItem=t[e-1]),t[e-1]||(this.$app.resultListVoter.canOpenAll()?this.selectedItem=t[t.length-1]:this.selectedItem="add"))):this.$app.resultListVoter.canOpenAll()?this.selectedItem=t[t.length-1]:this.selectedItem="add",this.$event.emit("navigation_action","up")}},{key:"down",value:function(){var e,t=this.$app.widget.resultList.list.results;this.selectedItem?"add"!==this.selectedItem?(e=t.indexOf(this.selectedItem),t.length>e+1&&(this.selectedItem=t[e+1]),t.length===e+1&&(this.$app.resultListVoter.canOpenAll()?this.selectedItem=t[0]:this.selectedItem="add")):this.selectedItem=t[0]:t.length?this.selectedItem=t[0]:this.selectedItem="add",this.$event.emit("navigation_action","down")}},{key:"clear",value:function(){this.selectedItem=""}},{key:"isActive",value:function(e){return e===this.selectedItem}},{key:"isAddItem",value:function(){return"add"===this.selectedItem}},{key:"selectedItem",get:function(){return this.item},set:function(e){this.item=e}}]),i}(),ResultListVoter=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,void 0)}return _createClass(n,[{key:"canOpenAll",value:function(){return this.$store.inputIsEmpty&&this.$app.optionVoter.canAdd()}},{key:"canOpen",value:function(){return!this.$store.inputIsEmpty&&this.$app.optionVoter.canAdd()}}]),n}(),OptionVoter=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,void 0)}return _createClass(n,[{key:"canAdd",value:function(){return!this.$app.store.options.allTaken}}]),n}(),InputVoter=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"shouldFocusOnWidgetClick",value:function(e){return!e.target.classList.contains(classnames.result_list_item)&&(!!this.$config.options.enabled&&!e.target.closest(TagList.selector))}}]),n}(),Choosy=function(){function i(e,t){var n=this;_classCallCheck(this,i),_defineProperty(this,"widget",void 0),_defineProperty(this,"config",void 0),_defineProperty(this,"clickedOutsideOfWidgetEvent",function(e){n.widget.element.contains(e.target)||n.isClickOnTagList(e)||n.event.emit("widget_clicked_outside")}),_defineProperty(this,"windowBlurEvent",function(){n.event.emit("window_blur")}),this.store=new Store(this),this.event=new Event$1,this.widget=new Widget(e,this),this.config=new Config(this,t),this.navigation=new Navigation(this),this.resultListVoter=new ResultListVoter(this),this.optionVoter=new OptionVoter(this),this.inputVoter=new InputVoter(this),(this.widget.initialElement.element.__x=this).initializeData(),this.registerEventListener(),this.resolveOptions(),this.widget.update(!1)}return _createClass(i,[{key:"registerEventListener",value:function(){document.addEventListener("click",this.clickedOutsideOfWidgetEvent),window.addEventListener("blur",this.windowBlurEvent)}},{key:"removeEventListeners",value:function(){document.removeEventListener("click",this.clickedOutsideOfWidgetEvent),window.removeEventListener("blur",this.windowBlurEvent)}},{key:"isClickOnTagList",value:function(e){return!!e.target.closest(TagList.selector)}},{key:"initializeData",value:function(){this.store.options.options=Array.from(this.store.initialData)}},{key:"resolveOptions",value:function(){this.widget.initialElement.isMultiple||(this.config.options.limit=1)}},{key:"disable",value:function(){this.config.options.enabled=!1,this.widget.disable()}},{key:"enable",value:function(){this.config.options.enabled=!0,this.widget.enable()}},{key:"clear",value:function(){this.widget.destroy(),this.removeEventListeners(),this.store=void 0,this.event=void 0,this.config=void 0,this.navigation=void 0,this.resultListVoter=void 0,this.optionVoter=void 0,this.inputVoter=void 0,this.widget.initialElement.element.__x=void 0}}]),i}();export default Choosy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3N5Lm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NsYXNzbmFtZXMuanMiLCIuLi9zcmMvZWxlbWVudHMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9Db21wb25lbnQuanMiLCIuLi9zcmMvY29tcG9uZW50cy9Jbml0aWFsRWxlbWVudC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1Jlc3VsdExpc3RMaXN0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUmVzdWx0TGlzdC5qcyIsIi4uL3NyYy91dGlsLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGV4dElucHV0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGFnTGlzdC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1dpZGdldC5qcyIsIi4uL3NyYy9ldmVudC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0NvbmZpZy5qcyIsIi4uL3NyYy9vcHRpb24uanMiLCIuLi9zcmMvc3RvcmUuanMiLCIuLi9zcmMvZXZlbnRzL25hdmlnYXRpb25FdmVudHMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwiLi4vc3JjL3ZvdGVyL1Jlc3VsdExpc3RWb3Rlci5qcyIsIi4uL3NyYy92b3Rlci9PcHRpb25Wb3Rlci5qcyIsIi4uL3NyYy92b3Rlci9JbnB1dFZvdGVyLmpzIiwiLi4vc3JjL2Nob29zeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgd2lkZ2V0OiAnY2hvb3N5LXdpZGdldCcsXG4gICAgaW5wdXQ6ICdjaG9vc3ktaW5wdXQnLFxuICAgIGxpc3Q6ICdjaG9vc3ktbGlzdCcsXG4gICAgaXRlbTogJ2Nob29zeS1pdGVtJyxcbiAgICBpdGVtX3RleHRfc3BhbjogJ2Nob29zeS1pdGVtLXRleHQtc3BhbicsXG4gICAgcmVtb3ZlX2J1dHRvbjogJ2Nob29zeS1yZW1vdmUtYnV0dG9uJyxcbiAgICByZW1vdmVfYnV0dG9uX3N2ZzogJ2Nob29zeS1yZW1vdmUtYnV0dG9uLXN2ZycsXG4gICAgcmVzdWx0X2xpc3RfY29udGFpbmVyOiAnY2hvb3N5LXJlc3VsdC1saXN0LWNvbnRhaW5lcicsXG4gICAgcmVzdWx0X2xpc3Q6ICdjaG9vc3ktcmVzdWx0LWxpc3QnLFxuICAgIHJlc3VsdF9saXN0X2l0ZW06ICdjaG9vc3ktcmVzdWx0LWl0ZW0nLFxuICAgIHJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlOiAnYWN0aXZlJyxcbiAgICBhZGRfaXRlbTogJ2Nob29zeS1hZGQtaXRlbSdcbn0iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi9jbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGdldCB0ZXh0SW5wdXQoKSB7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZSgnaW5wdXQnLCAndGV4dCcsIFtjbGFzc25hbWVzLmlucHV0XSlcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSAnMWNoJ1xuXG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH0sXG5cbiAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMud2lkZ2V0XSlcbiAgICAgICAgd2lkZ2V0LmFwcGVuZCh0aGlzLmxpc3QpXG4gICAgICAgIC8vIHdpZGdldC5hcHBlbmQodGhpcy50ZXh0SW5wdXQpXG5cbiAgICAgICAgd2lkZ2V0LmFwcGVuZCh0aGlzLnJlc3VsdExpc3QpXG4gICAgICAgIHJldHVybiB3aWRnZXRcbiAgICB9LFxuXG4gICAgZ2V0IGxpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMubGlzdF0pXG4gICAgfSxcblxuICAgIGdldCByZW1vdmVCdXR0b24oKSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuY3JlYXRlKCdidXR0b24nLCBudWxsLCBbY2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uXSlcbiAgICAgICAgYnRuLmFwcGVuZCh0aGlzLnJlbW92ZVNWRylcbiAgICAgICAgcmV0dXJuIGJ0blxuICAgIH0sXG5cbiAgICBnZXQgcmVtb3ZlU1ZHKCkge1xuXG4gICAgICAgIGNvbnN0IHN2ZyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cIiR7Y2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uX3N2Z31cIj5cbiAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0nZXZlbm9kZCdcbiAgICAgICAgICAgICAgICAgIGQ9J00xNS43OCAxNC4zNmExIDEgMCAwIDEtMS40MiAxLjQybC0yLjgyLTIuODMtMi44MyAyLjgzYTEgMSAwIDEgMS0xLjQyLTEuNDJsMi44My0yLjgyTDcuMyA4LjdhMSAxIDAgMCAxIDEuNDItMS40MmwyLjgzIDIuODMgMi44Mi0yLjgzYTEgMSAwIDAgMSAxLjQyIDEuNDJsLTIuODMgMi44MyAyLjgzIDIuODJ6Jz48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5gLCAndGV4dC9odG1sJyk7XG5cbiAgICAgICAgcmV0dXJuIHN2Zy5ib2R5LmZpcnN0Q2hpbGRcblxuICAgIH0sXG5cbiAgICBnZXQgcmVzdWx0TGlzdCgpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuY3JlYXRlKCdkaXYnLCBudWxsLCBbY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9jb250YWluZXJdKVxuICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcblxuICAgICAgICAvLyB3cmFwcGVyLmFwcGVuZCh0aGlzLnJlc3VsdExpc3RMaXN0KVxuXG4gICAgICAgIHJldHVybiB3cmFwcGVyXG4gICAgfSxcblxuICAgIGdldCByZXN1bHRMaXN0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKCd1bCcsIG51bGwsIFtjbGFzc25hbWVzLnJlc3VsdF9saXN0XSlcbiAgICB9LFxuXG4gICAgZ2V0IHJlc3VsdEl0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgnbGknLCBudWxsLCBbY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtXSlcbiAgICB9LFxuXG4gICAgZ2V0IGFkZEl0ZW0oKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnJlc3VsdEl0ZW1cbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZXMuYWRkX2l0ZW0pXG4gICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gJ0FkZCBuZXcnXG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9LFxuXG4gICAgZ2V0IHNlbGVjdE9wdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKCdvcHRpb24nLCBudWxsKVxuICAgIH0sXG5cbiAgICBnZXRJdGVtKHRleHQpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY3JlYXRlKCdkaXYnLCBudWxsLCBbY2xhc3NuYW1lcy5pdGVtXSlcbiAgICAgICAgaXRlbS5hcHBlbmQodGhpcy5nZXRJdGVtVGV4dFNwYW4odGV4dCkpXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRoaXMucmVtb3ZlQnV0dG9uKVxuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfSxcblxuICAgIGdldEl0ZW1UZXh0U3Bhbih0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLmNyZWF0ZSgnc3BhbicsIG51bGwsIFtjbGFzc25hbWVzLml0ZW1fdGV4dF9zcGFuXSlcbiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSB0ZXh0XG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfSxcblxuICAgIGNyZWF0ZSh0YWdOYW1lLCB0eXBlID0gbnVsbCwgY2xhc3NlcyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpXG5cbiAgICAgICAgaWYgKHR5cGUpXG4gICAgICAgICAgICBlbGVtZW50LnR5cGUgPSB0eXBlXG5cbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQobmFtZSlcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxufSIsIi8qKlxuICogQGNsYXNzIENvbXBvbmVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICogQHBhcmFtIHtFbGVtZW50fHVuZGVmaW5lZH0gZWxlbWVudFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCwgZWxlbWVudCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2hvb3N5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kYXBwID0gYXBwXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RvcmV9XG4gICAgICovXG4gICAgZ2V0ICRzdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFwcC5zdG9yZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge05hdmlnYXRpb259XG4gICAgICovXG4gICAgZ2V0ICRuYXZpZ2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLm5hdmlnYXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtFdmVudH1cbiAgICAgKi9cbiAgICBnZXQgJGV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLmV2ZW50XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T3B0aW9ufVxuICAgICAqL1xuICAgIGdldCAkb3B0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLnN0b3JlLm9wdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtUZXh0SW5wdXR9XG4gICAgICovXG4gICAgZ2V0ICR0ZXh0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRhcHAud2lkZ2V0LnRhZ0xpc3QudGV4dElucHV0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7V2lkZ2V0fVxuICAgICAqL1xuICAgIGdldCAkd2lkZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYXBwLndpZGdldFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cbiAgICAgKi9cbiAgICBnZXQgJGNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFwcC5jb25maWdcbiAgICB9XG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5pdGlhbEVsZW1lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Nob29zeX0gYXBwXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgZWxlbWVudClcblxuICAgICAgICB0aGlzLnN0b3JlSW5pdGlhbERhdGEoKVxuICAgICAgICB0aGlzLmhpZGUoKVxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgfVxuXG4gICAgYXR0YWNoV2lkZ2V0KHdpZGdldCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5hcHBlbmQod2lkZ2V0KVxuICAgIH1cblxuICAgIHN0b3JlSW5pdGlhbERhdGEoKSB7XG4gICAgICAgIHRoaXMuJGFwcC5zdG9yZS5pbml0aWFsRGF0YSA9IEFycmF5LmZyb20odGhpcy5nZXRBbGxPcHRpb25zKVxuICAgICAgICAgICAgLm1hcChvcHRpb24gPT4gdGhpcy4kc3RvcmUub3B0aW9ucy5nZXRNb2RlbChvcHRpb24pKVxuICAgIH1cblxuICAgIGdldCBnZXRBbGxPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykpXG4gICAgfVxuXG4gICAgYXBwZW5kT3B0aW9uKG9wdGlvbikge1xuICAgICAgICBjb25zdCBuZXdPcHRpb24gPSBlbGVtZW50cy5zZWxlY3RPcHRpb25cbiAgICAgICAgbmV3T3B0aW9uLnZhbHVlID0gJ19fbmV3X29wdGlvbl9fJyArIG9wdGlvbi5jb250ZW50XG4gICAgICAgIG5ld09wdGlvbi5pbm5lckhUTUwgPSBvcHRpb24uY29udGVudFxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQobmV3T3B0aW9uKVxuICAgICAgICByZXR1cm4gbmV3T3B0aW9uXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG5cbiAgICAgICAgdGhpcy4kYXBwLmV2ZW50Lm9uKCdvcHRpb25fY2hvc2VuJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGFwcC5ldmVudC5vbignb3B0aW9uX3Vuc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlKHRyaWdnZXJDaGFuZ2VFdmVudCkge1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKS5mb3JFYWNoKG9wdGlvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5vcHRpb25zLmZpbmRCeU9wdGlvbkVsZW1lbnQob3B0aW9uKT8uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCA/PyB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VFdmVudCgpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHRyaWdnZXJDaGFuZ2VFdmVudCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSlcbiAgICB9XG5cbiAgICBnZXQgaXNNdWx0aXBsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5tdWx0aXBsZVxuICAgIH1cblxuICAgIHVwZGF0ZU9wdGlvbnNEYXRhKCkge1xuICAgICAgICB0aGlzLnN0b3JlSW5pdGlhbERhdGEoKVxuICAgICAgICB0aGlzLiRvcHRpb24ub3B0aW9ucyA9IEFycmF5LmZyb20odGhpcy5nZXRBbGxPcHRpb25zKVxuICAgICAgICAgICAgLm1hcChvcHRpb24gPT4gdGhpcy4kc3RvcmUub3B0aW9ucy5nZXRNb2RlbChvcHRpb24pKVxuXG4gICAgICAgIHRoaXMuJHdpZGdldC51cGRhdGUoZmFsc2UpXG4gICAgfVxuXG4gICAgY2xlYW4oKSB7XG4gICAgICAgIHRoaXMuZ2V0QWxsT3B0aW9ucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5pc09wdGlvbk5ldyhlbGVtZW50KSAmJiAhdGhpcy5pc1NlbGVjdGVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlzT3B0aW9uTmV3KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWUuc3RhcnRzV2l0aCgnX19uZXdfb3B0aW9uX18nKVxuICAgIH1cblxuICAgIGlzU2VsZWN0ZWQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLiRvcHRpb24uc2VsZWN0ZWQuZmluZChvcHRpb24gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudGV4dENvbnRlbnQgPT09IG9wdGlvbi5jb250ZW50XG4gICAgICAgIH0pXG4gICAgfVxuXG59IiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cbi8qKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdExpc3RMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdEJveFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXN1bHRCb3gsIGFwcCkge1xuICAgICAgICBzdXBlcihhcHAsIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGUocmVzdWx0Qm94KVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpXG5cbiAgICB9XG5cbiAgICBjcmVhdGUocmVzdWx0Qm94KSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbGVtZW50cy5yZXN1bHRMaXN0TGlzdFxuICAgICAgICByZXN1bHRCb3guYXBwZW5kKGxpc3QpXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGxpc3RcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKClcblxuICAgICAgICB0aGlzLiRldmVudC5vZmYoJ25hdmlnYXRpb25fYWN0aW9uJylcblxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RBbmRTY3JvbGwoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVzdWx0TGlzdCgpXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9WaWV3KClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICAgIHRoaXMuY2hvb3NlTGlzdGVuZXIoKVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCduYXZpZ2F0aW9uX2FjdGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlzdEFuZFNjcm9sbCgpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY2hvb3NlTGlzdGVuZXIoKSB7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoYGxpLiR7Y2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtfTpub3QoLiR7Y2xhc3NuYW1lcy5hZGRfaXRlbX0pYCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNob29zZShldmVudC50YXJnZXQuaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJ2xpLicgKyBjbGFzc25hbWVzLmFkZF9pdGVtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGNob29zZSh2YWx1ZSkge1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmNob29zZShcbiAgICAgICAgICAgICAgICB0aGlzLiRvcHRpb24uZmluZEJ5VGV4dENvbnRlbnQodmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy4kb3B0aW9uLmVxdWFsVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmNob29zZSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVMaXN0UmVzdWx0cygpIHtcblxuICAgICAgICB0aGlzLiNjbGVhbigpXG5cbiAgICAgICAgdGhpcy5hcHBlbmQoXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICghdGhpcy4kb3B0aW9uLmVxdWFsVG9JbnB1dCAmJiB0aGlzLiR0ZXh0SW5wdXQuaGFzTWluTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEFkZEl0ZW1Ub0xpc3QoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdEFsbFJlc3VsdHMoKSB7XG5cbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKFxuICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmFsbFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0TGlzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuJGFwcC5yZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMaXN0QWxsUmVzdWx0cygpXG5cbiAgICAgICAgaWYgKHRoaXMuJGFwcC5yZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbigpKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMaXN0UmVzdWx0cygpXG4gICAgfVxuXG4gICAgYXBwZW5kKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc09wdGlvbihvcHRpb24pKVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICB0aGlzLmFwcGVuZEVsZW1lbnRUb0xpc3QodGhpcy5jcmVhdGVSZXN1bHRJdGVtKG9wdGlvbikpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaGFzT3B0aW9uKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFsbExpc3RJdGVtcylcbiAgICAgICAgICAgIC5maW5kKHJlc3VsdCA9PiByZXN1bHQudGV4dENvbnRlbnQgPT09IG9wdGlvbi50ZXh0Q29udGVudClcbiAgICB9XG5cbiAgICBhcHBlbmRBZGRJdGVtVG9MaXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQWRkTmV3SXRlbSkge1xuXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHMuYWRkSXRlbVxuXG4gICAgICAgICAgICBpZiAodGhpcy4kbmF2aWdhdGlvbi5pc0FkZEl0ZW0oKSlcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtX2FjdGl2ZSlcblxuICAgICAgICAgICAgdGhpcy5hcHBlbmRFbGVtZW50VG9MaXN0KGVsZW1lbnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRFbGVtZW50VG9MaXN0KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZChlbGVtZW50KVxuICAgIH1cblxuICAgIGdldCBoYXNBZGROZXdJdGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5hZGRfaXRlbSlcbiAgICB9XG5cbiAgICBjcmVhdGVSZXN1bHRJdGVtKG9wdGlvbikge1xuXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBlbGVtZW50cy5yZXN1bHRJdGVtXG5cbiAgICAgICAgaWYgKHRoaXMuJG5hdmlnYXRpb24uaXNBY3RpdmUob3B0aW9uKSlcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlKVxuXG4gICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gb3B0aW9uLmNvbnRlbnRcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9XG5cbiAgICBpc0VtcHR5KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gIXdpZGdldC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgYCR7UmVzdWx0TGlzdExpc3Quc2VsZWN0b3J9ID4gLiR7Y2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtfWBcbiAgICAgICAgKS5sZW5ndGhcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gYC4ke2NsYXNzbmFtZXMucmVzdWx0X2xpc3R9YFxuICAgIH1cblxuICAgIGdldCBhbGxMaXN0SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJylcbiAgICB9XG5cbiAgICAjY2xlYW4oKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5hbGxMaXN0SXRlbXNcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbm9kZXMubGVuZ3RoOyBpICE9PSBsZW47ICsraSkge1xuICAgICAgICAgICAgbm9kZXNbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcmVzdWx0cygpIHtcblxuICAgICAgICBpZiAodGhpcy4kYXBwLnJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9uLmFsbCA/PyBbXVxuXG4gICAgICAgIGlmICh0aGlzLiRhcHAucmVzdWx0TGlzdFZvdGVyLmNhbk9wZW4oKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR0ZXh0SW5wdXQuaGFzTWluTGVuZ3RoID8gdGhpcy4kb3B0aW9uLnN0YXJ0aW5nV2l0aElucHV0IDogW11cblxuICAgIH1cblxuICAgIHNldFJlc3VsdEJveEhlaWdodCgpIHtcblxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuYWxsTGlzdEl0ZW1zXG5cbiAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IGl0ZW1zLmxlbmd0aFxuICAgICAgICBsZXQgcmVzdWx0ID0gMFxuXG4gICAgICAgIGlmICh0b3RhbEl0ZW1zID4gNSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gaXRlbXMuaXRlbShpKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSByZXN1bHQgPyByZXN1bHQgKyAncHgnIDogJ2F1dG8nXG4gICAgfVxuXG4gICAgc2Nyb2xsVG9WaWV3KCkge1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmdldEFjdGl2ZUVsZW1lbnQoKVxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgYm91bmRhcnk6IHRoaXMuZWxlbWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBY3RpdmVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLiRuYXZpZ2F0aW9uLml0ZW1cblxuICAgICAgICBpZiAoIW9wdGlvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuI2ZpbmRPcHRpb25FbGVtZW50QnlEYXRhT3B0aW9uKG9wdGlvbilcblxuICAgIH1cblxuICAgICNmaW5kT3B0aW9uRWxlbWVudEJ5RGF0YU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ2FkZCcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzbmFtZXMuYWRkX2l0ZW19YClcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpLmZpbmQob3B0aW9uRWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudD8uaW5uZXJIVE1MID09PSBvcHRpb24/LmNvbnRlbnRcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cbiIsImltcG9ydCBSZXN1bHRMaXN0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0TGlzdFwiO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cblxuLyoqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0TGlzdCBleHRlbmRzIENvbXBvbmVudHtcblxuICAgIGxpc3RcblxuICAgIGNsb3NlRXZlbnRzID0gW1xuICAgICAgICAnd2lkZ2V0X2NsaWNrZWRfb3V0c2lkZScsXG4gICAgICAgICdpbnB1dF9wcmVzc2VkX2VzYycsXG4gICAgICAgICdpbnB1dF9wcmVzc2VkX3RhYicsXG4gICAgICAgICd3aW5kb3dfYmx1cidcbiAgICBdXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtDaG9vc3l9IGFwcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGFwcCkge1xuICAgICAgICBzdXBlcihhcHAsIGVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kTGlzdCgpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXIoKSB7XG5cbiAgICAgICAgdGhpcy5jbG9zZUV2ZW50cy5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRldmVudC5vbihldmVudE5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUmVzdWx0Qm94KClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZXZlbnQub24oJ2lucHV0X2lucHV0X2RlYm91bmNlZCcsICgpID0+IHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmlucHV0SXNFbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VSZXN1bHRCb3goKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxpc3QuY3JlYXRlUmVzdWx0TGlzdCgpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCdpbnB1dF9mb2N1cycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5jcmVhdGVSZXN1bHRMaXN0KClcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBjcmVhdGVCb3goKSB7XG4gICAgICAgIHRoaXMub3BlblJlc3VsdEJveCgpXG4gICAgICAgIHRoaXMubGlzdC5zZXRSZXN1bHRCb3hIZWlnaHQoKVxuICAgIH1cblxuICAgIG9wZW5SZXN1bHRCb3goKSB7XG4gICAgICAgIGlmICghdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBvcGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJ1xuICAgIH1cblxuICAgIGNsb3NlUmVzdWx0Qm94KCkge1xuICAgICAgICB0aGlzLiNjbGVhbigpXG5cbiAgICAgICAgaWYgKHRoaXMub3BlbilcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cbiAgICAgICAgdGhpcy4kbmF2aWdhdGlvbi5jbGVhcigpXG4gICAgfVxuXG4gICAgI2NsZWFuKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmFwcGVuZExpc3QoKVxuICAgIH1cblxuICAgIGFwcGVuZExpc3QoKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IG5ldyBSZXN1bHRMaXN0TGlzdCh0aGlzLmVsZW1lbnQsIHRoaXMuJGFwcClcbiAgICB9XG5cbiAgICBpc09wZW4od2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB3aWRnZXQucXVlcnlTZWxlY3RvcihSZXN1bHRMaXN0LnNlbGVjdG9yKS5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2NvbnRhaW5lcn1gXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5saXN0LmRlc3Ryb3koKVxuICAgIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgICAgZnVuYyguLi5hcmdzKVxuICAgICAgICB9O1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdE9mQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVPcHRpb25zKGZpcnN0T3B0aW9uLCBzZWNvbmRPcHRpb24pIHtcbiAgICByZXR1cm4gKGZpcnN0T3B0aW9uLnZhbHVlID09PSBzZWNvbmRPcHRpb24udmFsdWUpICYmIChmaXJzdE9wdGlvbi5jb250ZW50ID09PSBzZWNvbmRPcHRpb24uY29udGVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZyb21Ob2RlTGlzdChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoZWxlbWVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKG9iaiwgLi4uc291cmNlcykge1xuICAgIGZvciAobGV0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2Vba2V5XSA9PSBudWxsKSBjb250aW51ZVxuICAgICAgICAgICAgb2JqW2tleV0gPSByZXBsYWNlVmFsdWUob2JqW2tleV0sIHNvdXJjZVtrZXldKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9ialxufVxuXG5mdW5jdGlvbiByZXBsYWNlVmFsdWUodmFsdWUsIG5ld1ZhbHVlKSB7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlLm1hcCgodmFsLCBpKSA9PiByZXBsYWNlVmFsdWUodmFsdWVbaV0sIHZhbCkpXG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSAmJiBpc09iamVjdChuZXdWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlKHZhbHVlLCBuZXdWYWx1ZSlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3VmFsdWVcbn1cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuaW1wb3J0IHtkZWJvdW5jZSwgZ2V0TGFzdE9mQXJyYXl9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi4vY2xhc3NuYW1lc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtDaG9vc3l9IGFwcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGFwcCkge1xuICAgICAgICBzdXBlcihhcHAsIGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3RhdGUoKVxuICAgICAgICAgICAgdGhpcy5hZGp1c3RXaWR0aCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlcktleUV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXNjYXBlS2V5RXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrc3BhY2VLZXlFdmVudChldmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdpbnB1dF9wcmVzc2VkX3RhYicpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJG5hdmlnYXRpb24uZXZlbnRzLmhhbmRsZShldmVudClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLFxuICAgICAgICAgICAgZGVib3VuY2UoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ2lucHV0X2lucHV0X2RlYm91bmNlZCcsIGV2ZW50KVxuICAgICAgICAgICAgfSwgMjUwKVxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZXZlbnQuZW1pdCgnaW5wdXRfZm9jdXMnKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdpbnB1dF9ibHVyJywgZXZlbnQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZXZlbnQub24oJ2lucHV0X2NsZWFyZWQnLCB0aGlzLnJlc2V0VmFsdWUpXG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmlucHV0Py5sZW5ndGhcbiAgICB9XG5cbiAgICBnZXQgaGFzTWluTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPj0gMlxuICAgIH1cblxuICAgIGFkanVzdFdpZHRoKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHt0aGlzLmxlbmd0aCA/IHRoaXMubGVuZ3RoICsgMSA6IDF9Y2hgXG4gICAgfVxuXG4gICAgcmVmcmVzaFN0YXRlKCkge1xuICAgICAgICB0aGlzLiRzdG9yZS5pbnB1dCA9IHRoaXMuZWxlbWVudC52YWx1ZVxuICAgIH1cblxuICAgIGxpbWl0KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiAnLicgKyBjbGFzc25hbWVzLmlucHV0XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuJHN0b3JlLmlucHV0ID0gbnVsbFxuICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdpbnB1dF9jbGVhcmVkJylcbiAgICB9XG5cbiAgICBlbnRlcktleUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiAodGhpcy5oYXNNaW5MZW5ndGggfHwgdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpKVxuICAgICAgICAgICAgdGhpcy4kb3B0aW9uLmNob29zZSgpXG4gICAgfVxuXG4gICAgZXNjYXBlS2V5RXZlbnQoKSB7XG4gICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ2lucHV0X3ByZXNzZWRfZXNjJylcbiAgICB9XG5cbiAgICBiYWNrc3BhY2VLZXlFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuJHN0b3JlLmlucHV0SXNFbXB0eSB8fCB0aGlzLiRvcHRpb24uaXNMaXN0RW1wdHkpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHRoaXMuJG9wdGlvbi51bnNlbGVjdChnZXRMYXN0T2ZBcnJheSh0aGlzLiRvcHRpb24uc2VsZWN0ZWQpKVxuICAgIH1cblxuICAgIGdldCBpc0ZvY3Vzc2VkKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NuYW1lcy5pbnB1dClcbiAgICB9XG5cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRm9jdXNzZWQpXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZm9jdXMoKVxuICAgIH1cblxuICAgIHJlc2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IG51bGxcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLiRldmVudC5vZmYoJ2lucHV0X2NsZWFyZWQnLCB0aGlzLnJlc2V0VmFsdWUpXG4gICAgfVxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gXCIuL1RleHRJbnB1dFwiO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFnTGlzdCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgICB0ZXh0SW5wdXRcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50PX0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwLCBlbGVtZW50KVxuXG4gICAgICAgIHRoaXMuYXBwZW5kVGV4dElucHV0KCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpXG4gICAgfVxuXG4gICAgYXBwZW5kVGV4dElucHV0KCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dCA9IG5ldyBUZXh0SW5wdXQoZWxlbWVudHMudGV4dElucHV0LCB0aGlzLiRhcHApXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQodGhpcy50ZXh0SW5wdXQuZWxlbWVudClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrZWRPblJlbW92ZUJ1dHRvbihldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICAgICAgdGhpcy4kb3B0aW9uLnVuc2VsZWN0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRvcHRpb24uZmluZEJ5VGV4dENvbnRlbnQodGhpcy5maW5kQ2xpY2tlZFRhZyhldmVudCkuaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbGlja2VkT25SZW1vdmVCdXR0b24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQubWF0Y2hlcygnYnV0dG9uLicgKyBjbGFzc25hbWVzLnJlbW92ZV9idXR0b24pKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJ3N2Zy4nICsgY2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uX3N2ZykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAhIXRhcmdldC5tYXRjaGVzKCdwYXRoJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09wdGlvbn0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKiBAcmV0dXJucyB7VGFnTGlzdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICBjb25zdCBsaXN0ID0gZWxlbWVudHMubGlzdFxuXG4gICAgICAgIG9wdGlvbnMuc2VsZWN0ZWQuZm9yRWFjaChpdGVtID0+IGxpc3QuYXBwZW5kKGVsZW1lbnRzLmdldEl0ZW0oaXRlbS5jb250ZW50KSkpXG5cbiAgICAgICAgcmV0dXJuIG5ldyBUYWdMaXN0KGxpc3QsIGFwcClcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMudGV4dElucHV0LmRlc3Ryb3koKVxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKClcbiAgICB9XG5cbiAgICBmaW5kQ2xpY2tlZFRhZyhldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy4nICsgY2xhc3NuYW1lcy5pdGVtKVxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5pdGVtX3RleHRfc3BhbilcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gJy4nICsgY2xhc3NuYW1lcy5saXN0XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4vLi4vZWxlbWVudHNcIjtcbmltcG9ydCBJbml0aWFsRWxlbWVudCBmcm9tIFwiLi9Jbml0aWFsRWxlbWVudFwiO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBSZXN1bHRMaXN0IGZyb20gXCIuL1Jlc3VsdExpc3RcIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuL1RhZ0xpc3RcIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBXaWRnZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgaW5pdGlhbEVsZW1lbnRcblxuICAgIHRhZ0xpc3RcbiAgICByZXN1bHRMaXN0XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Q2hvb3N5fSBhcHBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwLCBlbGVtZW50cy53aWRnZXQpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbEVsZW1lbnQgPSBuZXcgSW5pdGlhbEVsZW1lbnQoZWxlbWVudCwgYXBwKVxuXG4gICAgICAgIHRoaXMucmVzdWx0TGlzdCA9IG5ldyBSZXN1bHRMaXN0KHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyKSwgYXBwKVxuICAgICAgICB0aGlzLnRhZ0xpc3QgPSBuZXcgVGFnTGlzdCh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc25hbWVzLmxpc3QpLCBhcHApXG5cbiAgICAgICAgdGhpcy5pbml0aWFsRWxlbWVudC5hdHRhY2hXaWRnZXQodGhpcy5lbGVtZW50KVxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICByZWdpc3Rlckxpc3RlbmVycygpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGFwcC5pbnB1dFZvdGVyLnNob3VsZEZvY3VzT25XaWRnZXRDbGljayhldmVudCkgJiYgdGhpcy4jZm9jdXNJbnB1dCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZXZlbnQub24oJ29wdGlvbl9jaG9zZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShmYWxzZSlcbiAgICAgICAgICAgIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuJGV2ZW50Lm9uKCdvcHRpb25fdW5zZWxlY3RlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGZhbHNlKVxuICAgICAgICAgICAgdGhpcy4jZm9jdXNJbnB1dCgpXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICAjZm9jdXNJbnB1dCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5mb2N1cygpXG4gICAgfVxuXG4gICAgdXBkYXRlKHRyaWdnZXJDaGFuZ2VFdmVudCkge1xuICAgICAgICB0aGlzLmFwcGVuZE5ld1NlbGVjdE9wdGlvbnMoKVxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LnVwZGF0ZSh0cmlnZ2VyQ2hhbmdlRXZlbnQpXG4gICAgICAgIHRoaXMudXBkYXRlVGFnTGlzdCgpXG4gICAgICAgIHRoaXMuY2xvc2VSZXN1bHRMaXN0Qm94KClcbiAgICAgICAgdGhpcy5jbGVhclRleHRJbnB1dCgpXG4gICAgICAgIHRoaXMubGltaXQoKVxuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZ09wdGlvbnMoKVxuICAgIH1cblxuICAgIGFwcGVuZE5ld1NlbGVjdE9wdGlvbnMoKSB7XG5cbiAgICAgICAgdGhpcy4kb3B0aW9uLmFsbC5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kb3B0aW9uLmlzTmV3KG9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LmFwcGVuZE9wdGlvbihvcHRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5pbml0aWFsRWxlbWVudC5jbGVhbigpXG4gICAgfVxuXG4gICAgdXBkYXRlVGFnTGlzdCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnJlbW92ZSgpXG4gICAgICAgIHRoaXMudGFnTGlzdCA9IFRhZ0xpc3QuY3JlYXRlKHRoaXMuJG9wdGlvbiwgdGhpcy4kYXBwKVxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKHRoaXMudGFnTGlzdC5lbGVtZW50KVxuICAgIH1cblxuICAgIGNsb3NlUmVzdWx0TGlzdEJveCgpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRMaXN0LmNsb3NlUmVzdWx0Qm94KClcbiAgICB9XG5cbiAgICBjbGVhclRleHRJbnB1dCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5jbGVhcigpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLndpZGdldH1gXG4gICAgfVxuXG4gICAgbGltaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnRhZ0xpc3QudGV4dElucHV0LmVsZW1lbnQubWF4TGVuZ3RoID0gMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5lbGVtZW50Lm1heExlbmd0aCA9IDUyNDI4OFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ29uZmlnT3B0aW9ucygpIHtcbiAgICAgICAgdGhpcy4kY29uZmlnLnJlc29sdmVFbmFibGVkKClcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKVxuICAgICAgICB0aGlzLnRhZ0xpc3QudGV4dElucHV0LmVsZW1lbnQudGFiSW5kZXggPSAtMVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcbiAgICAgICAgdGhpcy50YWdMaXN0LnRleHRJbnB1dC5lbGVtZW50LnRhYkluZGV4ID0gMFxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudGFnTGlzdC5yZW1vdmUoKVxuICAgICAgICB0aGlzLnJlc3VsdExpc3QuZGVzdHJveSgpXG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKVxuICAgIH1cblxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50IHtcbiAgICBzdWJzY3JpYmVycyA9IHt9XG5cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKVxuICAgIH1cblxuICAgIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMpW2V2ZW50TmFtZV0gPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0uZmlsdGVyKGV2ZW50ID0+IGV2ZW50ICE9PSBjYWxsYmFjaylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMpW2V2ZW50TmFtZV0gPSBbXVxuICAgIH1cblxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0pKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuaW1wb3J0IHttZXJnZX0gZnJvbSBcIi4uL3V0aWxcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWcgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDaG9vc3l9IGFwcFxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgdW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gbWVyZ2UodGhpcy5vcHRpb25zLCBvcHRpb25zKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3tvcGVuT25Gb2N1czogYm9vbGVhbiwgbGltaXQ6IG51bGx8bnVtYmVyLCBlbmFibGVkOiBib29sZWFufX1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGxpbWl0OiBudWxsLFxuICAgICAgICBvcGVuT25Gb2N1czogdHJ1ZVxuICAgIH1cblxuICAgIHJlc29sdmVFbmFibGVkKCkge1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlZClcbiAgICAgICAgICAgIHRoaXMuJHdpZGdldC5lbmFibGUoKVxuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmVuYWJsZWQpXG4gICAgICAgICAgICB0aGlzLiR3aWRnZXQuZGlzYWJsZSgpXG5cbiAgICB9XG5cbn0iLCJpbXBvcnQge2NvbXBhcmVPcHRpb25zfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL2NvbXBvbmVudHMvQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgICBvcHRpb25zXG5cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwLCB1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIGdldCBhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gISFvcHRpb24uY29udGVudCAmJiAhdGhpcy5pc1NlbGVjdGVkKG9wdGlvbilcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXQgc3RhcnRpbmdXaXRoSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY29udGVudC5pbmNsdWRlcyh0aGlzLiRzdG9yZS5pbnB1dCkgJiYgIW9wdGlvbi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICBnZXQgZXF1YWxUb0lucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQob3B0aW9uID0+IG9wdGlvbi5jb250ZW50ID09PSB0aGlzLiRzdG9yZS5pbnB1dClcbiAgICB9XG5cbiAgICBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgIC5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnNlbGVjdGVkIC0gYi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1NlbGVjdGVkKG9wdGlvbikge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5maW5kQnlUZXh0Q29udGVudChvcHRpb24uY29udGVudClcbiAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5zZWxlY3RlZFxuICAgIH1cblxuICAgIGZpbmRCeVRleHRDb250ZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmluZChvcHRpb24gPT4gb3B0aW9uLmNvbnRlbnQgPT09IHZhbHVlKVxuICAgIH1cblxuICAgIGZpbmRCeU9wdGlvbkVsZW1lbnQob3B0aW9uRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQob3B0aW9uID0+IHtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbkVsZW1lbnQudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuXG4gICAgICAgICAgICBpZiAob3B0aW9uRWxlbWVudC52YWx1ZS5zdGFydHNXaXRoKCdfX25ld19vcHRpb25fXycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZSA9PT0gbnVsbCAmJiBvcHRpb24uY29udGVudCA9PT0gb3B0aW9uRWxlbWVudC5pbm5lckhUTUxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZSA9PT0gb3B0aW9uRWxlbWVudC52YWx1ZSAmJiBvcHRpb24uY29udGVudCA9PT0gb3B0aW9uRWxlbWVudC5pbm5lckhUTUxcbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGNob29zZShvcHRpb24pIHtcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdChvcHRpb24pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kbmF2aWdhdGlvbi5pdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROYXZpZ2F0aW9uSXRlbSgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SW5wdXRWYWx1ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRldmVudC5lbWl0KCdvcHRpb25fY2hvc2VuJywgb3B0aW9uKVxuICAgIH1cblxuICAgIGFwcGVuZChvcHRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdG9yZUluZGV4ID0gdGhpcy5vcHRpb25zLnB1c2godGhpcy5nZXRNb2RlbCgpKSAtIDFcblxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3N0b3JlSW5kZXhdXG4gICAgfVxuXG4gICAgZ2V0TW9kZWwob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uID8gb3B0aW9uLnZhbHVlIDogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvbiA/IG9wdGlvbi5pbm5lckhUTUwgOiB0aGlzLiRzdG9yZS5pbnB1dCxcbiAgICAgICAgICAgIHNlbGVjdGVkOiB0aGlzLmRlY2lkZShvcHRpb24pLFxuICAgICAgICAgICAgdGltZXN0YW1wOiAob3B0aW9uICYmIHRoaXMuZGVjaWRlKG9wdGlvbikpID8gRGF0ZS5ub3coKSA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdChvcHRpb24pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNvbnRlbnQgIT09IG9wdGlvbi5jb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgaXRlbS50aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdW5zZWxlY3Qob3B0aW9uKSB7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1hcChpdGVtID0+IHtcblxuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGVudCAhPT0gb3B0aW9uLmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChvcHRpb24udmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsVW5zZWxlY3RlZE5ldygpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZXZlbnQuZW1pdCgnb3B0aW9uX3Vuc2VsZWN0ZWQnKVxuICAgICAgICB0aGlzLiNjbGVhbigpXG4gICAgfVxuXG4gICAgZGVjaWRlKG9wdGlvbikge1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBmYWxzZVxuXG4gICAgICAgIGlmIChvcHRpb24pIHtcblxuICAgICAgICAgICAgaWYgKCFvcHRpb24udmFsdWUgJiYgIW9wdGlvbi5jb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgICAgICBzZWxlY3RlZCA9IG9wdGlvbi5zZWxlY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkXG4gICAgfVxuXG4gICAgaXNOZXcob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy4kc3RvcmUuaW5pdGlhbERhdGEuZmluZChpdGVtID0+IGNvbXBhcmVPcHRpb25zKGl0ZW0sIG9wdGlvbikpXG4gICAgfVxuXG4gICAgI2NsZWFuKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTmV3KGl0ZW0pIHx8IGl0ZW0uc2VsZWN0ZWRcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXQgaXNMaXN0RW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5zZWxlY3RlZC5sZW5ndGhcbiAgICB9XG5cbiAgICBzZWxlY3ROYXZpZ2F0aW9uSXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuJG5hdmlnYXRpb24uaXRlbSA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SW5wdXRWYWx1ZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLiRuYXZpZ2F0aW9uLml0ZW0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RJbnB1dFZhbHVlKCkge1xuICAgICAgICB0aGlzLnNlbGVjdChcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKClcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBhbGxUYWtlbigpIHtcblxuICAgICAgICBpZiAoIXRoaXMuJGNvbmZpZy5vcHRpb25zLmxpbWl0KSByZXR1cm4gZmFsc2VcblxuICAgICAgICByZXR1cm4gISh0aGlzLiRhcHAuY29uZmlnLm9wdGlvbnMubGltaXQgPiB0aGlzLnNlbGVjdGVkPy5sZW5ndGgpXG4gICAgfVxuXG4gICAgcmVtb3ZlQWxsVW5zZWxlY3RlZE5ldygpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5vcHRpb25zLmZpbHRlcihpdGVtID0+IGl0ZW0udmFsdWUgfHwgaXRlbS5zZWxlY3RlZClcbiAgICB9XG5cbn0iLCJpbXBvcnQgT3B0aW9uIGZyb20gXCIuL29wdGlvblwiO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9jb21wb25lbnRzL0NvbXBvbmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yZSBleHRlbmRzIENvbXBvbmVudHtcblxuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgIH1cblxuICAgIGlucHV0ID0gbnVsbFxuXG4gICAgaW5pdGlhbERhdGEgPSBbXVxuXG4gICAgb3B0aW9ucyA9IG5ldyBPcHRpb24odGhpcy4kYXBwKVxuXG4gICAgZ2V0IGlucHV0SXNFbXB0eSgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0Py5sZW5ndGggPD0gMFxuICAgIH1cbn0iLCJpbXBvcnQge1dpZGdldH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvV2lkZ2V0XCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9jb21wb25lbnRzL0NvbXBvbmVudFwiO1xuXG4vKipcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uRXZlbnRzIGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgfVxuXG4gICAgaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB0aGlzLmFycm93RG93bkV2ZW50KGV2ZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB0aGlzLmFycm93VXBFdmVudChldmVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFycm93RG93bkV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzTmF2aWdhdGlvbkVuYWJsZWQoZXZlbnQpKSB0aGlzLiRuYXZpZ2F0aW9uLmRvd24oKVxuICAgIH1cblxuICAgIGFycm93VXBFdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc05hdmlnYXRpb25FbmFibGVkKGV2ZW50KSkgdGhpcy4kbmF2aWdhdGlvbi51cCgpXG4gICAgfVxuXG4gICAgaXNOYXZpZ2F0aW9uRW5hYmxlZChldmVudCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmdldFdpZGdldEZyb21FdmVudChldmVudClcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFwcC53aWRnZXQucmVzdWx0TGlzdC5pc09wZW4od2lkZ2V0KSAmJiAhdGhpcy4kYXBwLndpZGdldC5yZXN1bHRMaXN0Lmxpc3QuaXNFbXB0eSh3aWRnZXQpXG4gICAgfVxuXG4gICAgZ2V0V2lkZ2V0RnJvbUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50YXJnZXQuY2xvc2VzdChXaWRnZXQuc2VsZWN0b3IpXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuaW1wb3J0IE5hdmlnYXRpb25FdmVudHMgZnJvbSBcIi4uL2V2ZW50cy9uYXZpZ2F0aW9uRXZlbnRzXCI7XG5cbi8qKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBDb21wb25lbnR7XG5cbiAgICBpdGVtID0gJydcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDaG9vc3l9IGFwcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IE5hdmlnYXRpb25FdmVudHMoYXBwKVxuICAgIH1cblxuICAgIHVwKCkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy4kYXBwLndpZGdldC5yZXN1bHRMaXN0Lmxpc3QucmVzdWx0c1xuXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kYXBwLnJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICdhZGQnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdHMuaW5kZXhPZih0aGlzLnNlbGVjdGVkSXRlbSlcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtID09PSAnYWRkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDw9IHJlc3VsdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbaW5kZXggLSAxXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0c1tpbmRleCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy4kYXBwLnJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gJ2FkZCdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ3VwJylcbiAgICB9XG5cbiAgICBkb3duKCkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy4kYXBwLndpZGdldC5yZXN1bHRMaXN0Lmxpc3QucmVzdWx0c1xuXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEl0ZW0pIHtcblxuICAgICAgICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gJ2FkZCdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzWzBdXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtICE9PSAnYWRkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcmVzdWx0cy5pbmRleE9mKHRoaXMuc2VsZWN0ZWRJdGVtKVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gaW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tpbmRleCArIDFdXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRhcHAucmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzWzBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuJGV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ2Rvd24nKVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICcnXG4gICAgfVxuXG4gICAgaXNBY3RpdmUob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24gPT09IHRoaXMuc2VsZWN0ZWRJdGVtXG4gICAgfVxuXG4gICAgaXNBZGRJdGVtKCkge1xuICAgICAgICByZXR1cm4gJ2FkZCcgPT09IHRoaXMuc2VsZWN0ZWRJdGVtXG4gICAgfVxuXG4gICAgZ2V0IHNlbGVjdGVkSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbVxuICAgIH1cblxuICAgIHNldCBzZWxlY3RlZEl0ZW0oaXRlbSkge1xuICAgICAgICB0aGlzLml0ZW0gPSBpdGVtXG4gICAgfVxuXG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi4vY29tcG9uZW50cy9Db21wb25lbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0TGlzdFZvdGVyIGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgdW5kZWZpbmVkKVxuICAgIH1cblxuICAgIGNhbk9wZW5BbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5pbnB1dElzRW1wdHkgJiYgdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpXG4gICAgfVxuXG4gICAgY2FuT3BlbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLiRzdG9yZS5pbnB1dElzRW1wdHkgJiYgdGhpcy4kYXBwLm9wdGlvblZvdGVyLmNhbkFkZCgpXG4gICAgfVxufSIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvblZvdGVyIGV4dGVuZHMgQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBjYW5BZGQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy4kYXBwLnN0b3JlLm9wdGlvbnMuYWxsVGFrZW5cbiAgICB9XG59IiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1RhZ0xpc3RcIjtcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0Vm90ZXIgZXh0ZW5kcyBDb21wb25lbnR7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICB9XG5cbiAgICBzaG91bGRGb2N1c09uV2lkZ2V0Q2xpY2soZXZlbnQpIHtcblxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgaWYgKCF0aGlzLiRjb25maWcub3B0aW9ucy5lbmFibGVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgcmV0dXJuICFldmVudC50YXJnZXQuY2xvc2VzdChUYWdMaXN0LnNlbGVjdG9yKTtcblxuICAgIH1cblxufSIsImltcG9ydCB7V2lkZ2V0fSBmcm9tIFwiLi9jb21wb25lbnRzL1dpZGdldFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuL2V2ZW50XCI7XG5pbXBvcnQgVGFnTGlzdCBmcm9tIFwiLi9jb21wb25lbnRzL1RhZ0xpc3RcIjtcbmltcG9ydCAnLi9zdHlsZS9jaG9vc3kuY3NzJ1xuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9jb21wb25lbnRzL0NvbmZpZ1wiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuL3N0b3JlXCI7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25cIjtcbmltcG9ydCBSZXN1bHRMaXN0Vm90ZXIgZnJvbSBcIi4vdm90ZXIvUmVzdWx0TGlzdFZvdGVyXCI7XG5pbXBvcnQgT3B0aW9uVm90ZXIgZnJvbSBcIi4vdm90ZXIvT3B0aW9uVm90ZXJcIjtcbmltcG9ydCBJbnB1dFZvdGVyIGZyb20gXCIuL3ZvdGVyL0lucHV0Vm90ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hvb3N5IHtcblxuICAgIHdpZGdldFxuICAgIGNvbmZpZ1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTdG9yZSh0aGlzKVxuICAgICAgICB0aGlzLmV2ZW50ID0gbmV3IEV2ZW50KClcbiAgICAgICAgdGhpcy53aWRnZXQgPSBuZXcgV2lkZ2V0KGVsZW1lbnQsIHRoaXMpXG4gICAgICAgIHRoaXMuY29uZmlnID0gbmV3IENvbmZpZyh0aGlzLCBjb25maWcpXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHRoaXMpXG5cbiAgICAgICAgdGhpcy5yZXN1bHRMaXN0Vm90ZXIgPSBuZXcgUmVzdWx0TGlzdFZvdGVyKHRoaXMpXG4gICAgICAgIHRoaXMub3B0aW9uVm90ZXIgPSBuZXcgT3B0aW9uVm90ZXIodGhpcylcbiAgICAgICAgdGhpcy5pbnB1dFZvdGVyID0gbmV3IElucHV0Vm90ZXIodGhpcylcblxuICAgICAgICB0aGlzLndpZGdldC5pbml0aWFsRWxlbWVudC5lbGVtZW50Ll9feCA9IHRoaXNcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKClcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKVxuICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKClcbiAgICAgICAgdGhpcy53aWRnZXQudXBkYXRlKGZhbHNlKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudClcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLndpbmRvd0JsdXJFdmVudClcbiAgICB9XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudClcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLndpbmRvd0JsdXJFdmVudClcbiAgICB9XG5cbiAgICBjbGlja2VkT3V0c2lkZU9mV2lkZ2V0RXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0LmVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fCB0aGlzLmlzQ2xpY2tPblRhZ0xpc3QoZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5ldmVudC5lbWl0KCd3aWRnZXRfY2xpY2tlZF9vdXRzaWRlJylcbiAgICB9XG5cbiAgICB3aW5kb3dCbHVyRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXZlbnQuZW1pdCgnd2luZG93X2JsdXInKVxuICAgIH1cblxuICAgIGlzQ2xpY2tPblRhZ0xpc3QoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuICEhZXZlbnQudGFyZ2V0LmNsb3Nlc3QoVGFnTGlzdC5zZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgICAgIHRoaXMuc3RvcmUub3B0aW9ucy5vcHRpb25zID0gQXJyYXkuZnJvbSh0aGlzLnN0b3JlLmluaXRpYWxEYXRhKVxuICAgIH1cblxuICAgIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMud2lkZ2V0LmluaXRpYWxFbGVtZW50LmlzTXVsdGlwbGUpXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vcHRpb25zLmxpbWl0ID0gMVxuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMuZW5hYmxlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMud2lkZ2V0LmRpc2FibGUoKVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5jb25maWcub3B0aW9ucy5lbmFibGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLndpZGdldC5lbmFibGUoKVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLndpZGdldC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXG4gICAgICAgIHRoaXMuc3RvcmUgPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5ldmVudCA9IHVuZGVmaW5lZFxuICAgICAgICB0aGlzLmNvbmZpZyA9IHVuZGVmaW5lZFxuICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5yZXN1bHRMaXN0Vm90ZXIgPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5vcHRpb25Wb3RlciA9IHVuZGVmaW5lZFxuICAgICAgICB0aGlzLmlucHV0Vm90ZXIgPSB1bmRlZmluZWRcblxuICAgICAgICB0aGlzLndpZGdldC5pbml0aWFsRWxlbWVudC5lbGVtZW50Ll9feCA9IHVuZGVmaW5lZFxuICAgIH1cbn0iXSwibmFtZXMiOlsid2lkZ2V0IiwiaW5wdXQiLCJsaXN0IiwiaXRlbSIsIml0ZW1fdGV4dF9zcGFuIiwicmVtb3ZlX2J1dHRvbiIsInJlbW92ZV9idXR0b25fc3ZnIiwicmVzdWx0X2xpc3RfY29udGFpbmVyIiwicmVzdWx0X2xpc3QiLCJyZXN1bHRfbGlzdF9pdGVtIiwicmVzdWx0X2xpc3RfaXRlbV9hY3RpdmUiLCJhZGRfaXRlbSIsInRoaXMiLCJjcmVhdGUiLCJjbGFzc25hbWVzIiwic3R5bGUiLCJ3aWR0aCIsImFwcGVuZCIsInJlc3VsdExpc3QiLCJidG4iLCJyZW1vdmVTVkciLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJib2R5IiwiZmlyc3RDaGlsZCIsIndyYXBwZXIiLCJkaXNwbGF5IiwicmVzdWx0SXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImdldEl0ZW0iLCJ0ZXh0IiwiZ2V0SXRlbVRleHRTcGFuIiwicmVtb3ZlQnV0dG9uIiwic3BhbiIsInRhZ05hbWUiLCJ0eXBlIiwiY2xhc3NlcyIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJmb3JFYWNoIiwibmFtZSIsIkNvbXBvbmVudCIsImFwcCIsIiRhcHAiLCJzdG9yZSIsIm5hdmlnYXRpb24iLCJldmVudCIsIm9wdGlvbnMiLCJ0YWdMaXN0IiwidGV4dElucHV0IiwiY29uZmlnIiwiSW5pdGlhbEVsZW1lbnQiLCJzdG9yZUluaXRpYWxEYXRhIiwiaGlkZSIsInJlZ2lzdGVyTGlzdGVuZXJzIiwicGFyZW50RWxlbWVudCIsImluaXRpYWxEYXRhIiwiQXJyYXkiLCJmcm9tIiwiZ2V0QWxsT3B0aW9ucyIsIm1hcCIsIm9wdGlvbiIsIl90aGlzMiIsIiRzdG9yZSIsImdldE1vZGVsIiwicXVlcnlTZWxlY3RvckFsbCIsIm5ld09wdGlvbiIsImVsZW1lbnRzIiwic2VsZWN0T3B0aW9uIiwidmFsdWUiLCJjb250ZW50Iiwib24iLCJfdGhpczMiLCJ1cGRhdGUiLCJ0cmlnZ2VyQ2hhbmdlRXZlbnQiLCJfdGhpczQiLCJmaW5kQnlPcHRpb25FbGVtZW50IiwiX3RoaXM0JCRzdG9yZSRvcHRpb25zIiwic2VsZWN0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJtdWx0aXBsZSIsIiRvcHRpb24iLCJfdGhpczUiLCIkd2lkZ2V0IiwiX3RoaXM2IiwiaXNPcHRpb25OZXciLCJpc1NlbGVjdGVkIiwicmVtb3ZlIiwic3RhcnRzV2l0aCIsImZpbmQiLCJ0ZXh0Q29udGVudCIsIlJlc3VsdExpc3RMaXN0IiwicmVzdWx0Qm94IiwidW5kZWZpbmVkIiwicmVnaXN0ZXJFdmVudExpc3RlbmVyIiwicmVzdWx0TGlzdExpc3QiLCIkZXZlbnQiLCJvZmYiLCJjcmVhdGVSZXN1bHRMaXN0Iiwic2Nyb2xsVG9WaWV3IiwiY2hvb3NlTGlzdGVuZXIiLCJjcmVhdGVMaXN0QW5kU2Nyb2xsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIm1hdGNoZXMiLCJjaG9vc2UiLCJmaW5kQnlUZXh0Q29udGVudCIsImVxdWFsVG9JbnB1dCIsInJlc3VsdHMiLCIkdGV4dElucHV0IiwiaGFzTWluTGVuZ3RoIiwiYXBwZW5kQWRkSXRlbVRvTGlzdCIsImFsbCIsInJlc3VsdExpc3RWb3RlciIsImNhbk9wZW5BbGwiLCJjcmVhdGVMaXN0QWxsUmVzdWx0cyIsImNhbk9wZW4iLCJjcmVhdGVMaXN0UmVzdWx0cyIsImhhc09wdGlvbiIsImFwcGVuZEVsZW1lbnRUb0xpc3QiLCJjcmVhdGVSZXN1bHRJdGVtIiwiYWxsTGlzdEl0ZW1zIiwicmVzdWx0IiwiaGFzQWRkTmV3SXRlbSIsImFkZEl0ZW0iLCIkbmF2aWdhdGlvbiIsImlzQWRkSXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJpc0FjdGl2ZSIsInNlbGVjdG9yIiwibGVuZ3RoIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdGFydGluZ1dpdGhJbnB1dCIsIml0ZW1zIiwiaSIsIm9mZnNldEhlaWdodCIsImhlaWdodCIsImFjdGl2ZUVsZW1lbnQiLCJnZXRBY3RpdmVFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImlubGluZSIsImJlaGF2aW9yIiwiYm91bmRhcnkiLCJub2RlcyIsImxlbiIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9wdGlvbkVsZW1lbnQiLCJSZXN1bHRMaXN0IiwiYXBwZW5kTGlzdCIsImNsb3NlRXZlbnRzIiwiZXZlbnROYW1lIiwiY2xvc2VSZXN1bHRCb3giLCJpbnB1dElzRW1wdHkiLCJjcmVhdGVCb3giLCJvcGVuUmVzdWx0Qm94Iiwic2V0UmVzdWx0Qm94SGVpZ2h0Iiwib3BlbiIsImNsZWFyIiwiZGVzdHJveSIsImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJnZXRMYXN0T2ZBcnJheSIsImFycmF5IiwiY29tcGFyZU9wdGlvbnMiLCJmaXJzdE9wdGlvbiIsInNlY29uZE9wdGlvbiIsIm1lcmdlIiwib2JqIiwic291cmNlcyIsImtleSIsInNvdXJjZSIsInJlcGxhY2VWYWx1ZSIsIm5ld1ZhbHVlIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiY29uc3RydWN0b3IiLCJPYmplY3QiLCJUZXh0SW5wdXQiLCJyZWZyZXNoU3RhdGUiLCJhZGp1c3RXaWR0aCIsImVudGVyS2V5RXZlbnQiLCJlc2NhcGVLZXlFdmVudCIsImJhY2tzcGFjZUtleUV2ZW50IiwiZW1pdCIsImV2ZW50cyIsImhhbmRsZSIsInJlc2V0VmFsdWUiLCJfdGhpcyQkc3RvcmUkaW5wdXQiLCJvcHRpb25Wb3RlciIsImNhbkFkZCIsInByZXZlbnREZWZhdWx0IiwiaXNMaXN0RW1wdHkiLCJ1bnNlbGVjdCIsImNvbnRhaW5zIiwiaXNGb2N1c3NlZCIsImZvY3VzIiwiVGFnTGlzdCIsImFwcGVuZFRleHRJbnB1dCIsInJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMiLCJjbGlja2VkT25SZW1vdmVCdXR0b24iLCJmaW5kQ2xpY2tlZFRhZyIsImNsb3Nlc3QiLCJXaWRnZXQiLCJpbml0aWFsRWxlbWVudCIsIl90aGlzIiwiYXR0YWNoV2lkZ2V0IiwiaW5wdXRWb3RlciIsInNob3VsZEZvY3VzT25XaWRnZXRDbGljayIsImFwcGVuZE5ld1NlbGVjdE9wdGlvbnMiLCJ1cGRhdGVUYWdMaXN0IiwiY2xvc2VSZXN1bHRMaXN0Qm94IiwiY2xlYXJUZXh0SW5wdXQiLCJsaW1pdCIsInVwZGF0ZUNvbmZpZ09wdGlvbnMiLCJpc05ldyIsImFwcGVuZE9wdGlvbiIsImNsZWFuIiwibWF4TGVuZ3RoIiwiJGNvbmZpZyIsInJlc29sdmVFbmFibGVkIiwidGFiSW5kZXgiLCJjYWxsYmFjayIsInN1YnNjcmliZXJzIiwicHVzaCIsImZpbHRlciIsImRhdGEiLCJDb25maWciLCJlbmFibGVkIiwib3Blbk9uRm9jdXMiLCJlbmFibGUiLCJkaXNhYmxlIiwiT3B0aW9uIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsImIiLCJzZWxlY3QiLCJzZWxlY3ROYXZpZ2F0aW9uSXRlbSIsInNlbGVjdElucHV0VmFsdWUiLCJzdG9yZUluZGV4IiwiZGVjaWRlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInJlbW92ZUFsbFVuc2VsZWN0ZWROZXciLCJfdGhpcyRzZWxlY3RlZCIsIlN0b3JlIiwiTmF2aWdhdGlvbkV2ZW50cyIsImFycm93RG93bkV2ZW50IiwiYXJyb3dVcEV2ZW50IiwiaXNOYXZpZ2F0aW9uRW5hYmxlZCIsImRvd24iLCJ1cCIsImdldFdpZGdldEZyb21FdmVudCIsImlzT3BlbiIsImlzRW1wdHkiLCJOYXZpZ2F0aW9uIiwiaW5kZXgiLCJzZWxlY3RlZEl0ZW0iLCJpbmRleE9mIiwiUmVzdWx0TGlzdFZvdGVyIiwiT3B0aW9uVm90ZXIiLCJhbGxUYWtlbiIsIklucHV0Vm90ZXIiLCJDaG9vc3kiLCJpc0NsaWNrT25UYWdMaXN0IiwiX194IiwiaW5pdGlhbGl6ZURhdGEiLCJyZXNvbHZlT3B0aW9ucyIsImNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudCIsIndpbmRvdyIsIndpbmRvd0JsdXJFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc011bHRpcGxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiXSwibWFwcGluZ3MiOiI2NkRBQUEsZUFBZSxDQUNYQSxPQUFRLGdCQUNSQyxNQUFPLGVBQ1BDLEtBQU0sY0FDTkMsS0FBTSxjQUNOQyxlQUFnQix3QkFDaEJDLGNBQWUsdUJBQ2ZDLGtCQUFtQiwyQkFDbkJDLHNCQUF1QiwrQkFDdkJDLFlBQWEscUJBQ2JDLGlC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
