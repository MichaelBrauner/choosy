function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _classStaticPrivateMethodGet(e,t,n){if(e!==t)throw new TypeError("Private static access of wrong provenance");return n}function _classPrivateMethodGet(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var classnames={widget:"choosy-widget",input:"choosy-input",list:"choosy-list",item:"choosy-item",item_text_span:"choosy-item-text-span",remove_button:"choosy-remove-button",remove_button_svg:"choosy-remove-button-svg",result_list_container:"choosy-result-list-container",result_list:"choosy-result-list",result_list_item:"choosy-result-item",result_list_item_active:"active",add_item:"choosy-add-item"},elements={get textInput(){var e=this.create("input","text",[classnames.input]);return e.style.width="1ch",e},get widget(){var e=this.create("div",null,[classnames.widget]);return e.append(this.list),e.append(this.resultList),e},get list(){return this.create("div",null,[classnames.list])},get removeButton(){var e=this.create("button",null,[classnames.remove_button]);return e.append(this.removeSVG),e},get removeSVG(){return(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill=\"currentColor\" class=\"".concat(classnames.remove_button_svg,"\">\n            <path fill-rule='evenodd'\n                  d='M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z'></path>\n            </svg>"),"text/html").body.firstChild},get resultList(){var e=this.create("div",null,[classnames.result_list_container]);return e.style.display="none",e},get resultListList(){return this.create("ul",null,[classnames.result_list])},get resultItem(){return this.create("li",null,[classnames.result_list_item])},get addItem(){var e=this.resultItem;return e.classList.add(classnames.add_item),e.innerHTML="Add new",e},get selectOption(){return this.create("option",null)},getItem:function(e){var t=this.create("div",null,[classnames.item]);return t.append(this.getItemTextSpan(e)),t.append(this.removeButton),t},getItemTextSpan:function(e){var t=this.create("span",null,[classnames.item_text_span]);return t.innerHTML=e,t},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);return t&&(i.type=t),n.forEach(function(e){i.classList.add(e)}),i}},Component=function e(t){_classCallCheck(this,e),_defineProperty(this,"element",void 0),this.element=t},Event={subscribers:{},on:function(e,t){Array.isArray(this.subscribers[e])||(this.subscribers[e]=[]),this.subscribers[e].push(t)},off:function(e,t){this.subscribers[e]=t?this.subscribers[e].filter(function(e){return e!==t}):[]},emit:function(e,t){Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach(function(e){e(t)})}};function debounce(i,s){var o;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(o),o=setTimeout(function(){clearTimeout(o),i.apply(void 0,t)},s)}}function getLastOfArray(e){return e[e.length-1]}function compareOptions(e,t){return e.value===t.value&&e.content===t.content}var OptionVoter={canAdd:function(){return!Option.allTaken}},ResultListVoter={canOpenAll:function(){return Store.inputIsEmpty&&OptionVoter.canAdd()},canOpen:function(){return!Store.inputIsEmpty&&OptionVoter.canAdd()}},_clean=new WeakSet,ResultList=function(){function t(e){_classCallCheck(this,t),_clean.add(this),_defineProperty(this,"element",void 0),_defineProperty(this,"list",void 0),_defineProperty(this,"closeEvents",["widget_clicked_outside","input_pressed_esc","input_pressed_tab","window_blur"]),this.element=e,this.appendList(),this.registerEventListener()}return _createClass(t,[{key:"registerEventListener",value:function(){var t=this;this.closeEvents.forEach(function(e){Event.on(e,function(){t.closeResultBox()})}),Event.on("input_input_debounced",function(){Store.inputIsEmpty?t.closeResultBox():(t.list.createResultList(),t.createBox())}),Event.on("input_focus",function(){t.list.createResultList(),t.createBox()})}},{key:"createBox",value:function(){this.openResultBox(),this.list.setResultBoxHeight()}},{key:"openResultBox",value:function(){this.open||(this.element.style.display="block")}},{key:"open",get:function(){return"none"!==this.element.style.display}},{key:"closeResultBox",value:function(){_classPrivateMethodGet(this,_clean,_clean2).call(this),this.open&&(this.element.style.display="none"),Navigation.clear()}},{key:"appendList",value:function(){this.list=new ResultListList(this.element)}}],[{key:"isOpen",value:function(e){return"block"===e.querySelector(t.selector).style.display}},{key:"selector",get:function(){return".".concat(classnames.result_list_container)}}]),t}(),_clean2=function(){this.list.destroy(),this.appendList()},navigationEvents={handle:function(e){"ArrowDown"===e.key&&(e.preventDefault(),this.arrowDownEvent(e)),"ArrowUp"===e.key&&(e.preventDefault(),this.arrowUpEvent(e))},arrowDownEvent:function(e){this.isNavigationEnabled(e)&&Navigation.down()},arrowUpEvent:function(e){this.isNavigationEnabled(e)&&Navigation.up()},isNavigationEnabled:function(e){e=this.getWidgetFromEvent(e);return ResultList.isOpen(e)&&!ResultListList.isEmpty(e)},getWidgetFromEvent:function(e){return e.target.closest(Widget.selector)}},TextInput=function(){_inherits(i,Component);var n=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),_defineProperty(_assertThisInitialized(t=n.call(this,e)),"resetValue",function(){t.element.value=null}),t.registerListeners(),t}return _createClass(i,[{key:"registerListeners",value:function(){var t=this;this.element.addEventListener("input",function(){t.refreshState(),t.adjustWidth()}),this.element.addEventListener("keydown",function(e){"Enter"===e.key&&t.enterKeyEvent(e),"Escape"===e.key&&t.escapeKeyEvent(e),"Backspace"===e.key&&t.backspaceKeyEvent(e),"Tab"===e.key&&Event.emit("input_pressed_tab"),navigationEvents.handle(e)}),this.element.addEventListener("input",debounce(function(e){Event.emit("input_input_debounced",e)},250)),this.element.addEventListener("focus",function(){Event.emit("input_focus")}),this.element.addEventListener("blur",function(e){Event.emit("input_blur",e)}),Event.on("input_cleared",this.resetValue)}},{key:"adjustWidth",value:function(){this.element.style.width="".concat(i.length?i.length+1:1,"ch")}},{key:"refreshState",value:function(){Store.input=this.element.value}},{key:"limit",value:function(e){OptionVoter.canAdd()||e.preventDefault()}},{key:"enterKeyEvent",value:function(e){e.preventDefault(),(i.hasMinLength||OptionVoter.canAdd())&&Option.choose()}},{key:"escapeKeyEvent",value:function(){Event.emit("input_pressed_esc")}},{key:"backspaceKeyEvent",value:function(e){Store.inputIsEmpty&&!Option.isListEmpty&&(e.preventDefault(),Option.unselect(getLastOfArray(Option.selected)))}},{key:"isFocussed",get:function(){return document.activeElement.classList.contains(classnames.input)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"destroy",value:function(){Event.off("input_cleared",this.resetValue)}}],[{key:"length",get:function(){var e;return null===(e=Store.input)||void 0===e?void 0:e.length}},{key:"hasMinLength",get:function(){return 2<=i.length}},{key:"selector",get:function(){return"."+classnames.input}},{key:"clear",value:function(){Store.input=null,Event.emit("input_cleared")}}]),i}(),_clean$1=new WeakSet,_findOptionElementByDataOption=new WeakSet,ResultListList=function(){function t(e){_classCallCheck(this,t),_findOptionElementByDataOption.add(this),_clean$1.add(this),_defineProperty(this,"element",void 0),this.create(e),this.registerEventListener()}return _createClass(t,[{key:"create",value:function(e){var t=elements.resultListList;e.append(t),this.element=t}},{key:"destroy",value:function(){this.element.remove(),Event.off("navigation_action")}},{key:"createListAndScroll",value:function(){this.createResultList(),this.scrollToView()}},{key:"registerEventListener",value:function(){var e=this;this.chooseListener(),Event.on("navigation_action",function(){e.createListAndScroll()})}},{key:"chooseListener",value:function(){var t=this;this.element.addEventListener("click",function(e){e.target.matches("li.".concat(classnames.result_list_item,":not(.").concat(classnames.add_item,")"))?t.choose(e.target.innerHTML):e.target.matches("li."+classnames.add_item)&&t.choose()})}},{key:"choose",value:function(e){e?Option.choose(Option.findByTextContent(e)):Option.equalToInput||Option.choose()}},{key:"createListResults",value:function(){_classPrivateMethodGet(this,_clean$1,_clean2$1).call(this),this.append(t.results),!Option.equalToInput&&TextInput.hasMinLength&&this.appendAddItemToList()}},{key:"createListAllResults",value:function(){_classPrivateMethodGet(this,_clean$1,_clean2$1).call(this),this.append(Option.all)}},{key:"createResultList",value:function(){ResultListVoter.canOpenAll()&&this.createListAllResults(),ResultListVoter.canOpen()&&this.createListResults()}},{key:"append",value:function(e){var t=this;e.forEach(function(e){t.hasOption(e)||t.appendElementToList(t.createResultItem(e))})}},{key:"hasOption",value:function(t){return Array.from(this.allListItems).find(function(e){return e.textContent===t.textContent})}},{key:"appendAddItemToList",value:function(){var e;this.hasAddNewItem||(e=elements.addItem,Navigation.isAddItem()&&e.classList.add(classnames.result_list_item_active),this.appendElementToList(e))}},{key:"appendElementToList",value:function(e){this.element.append(e)}},{key:"hasAddNewItem",get:function(){return this.element.querySelector("."+classnames.add_item)}},{key:"createResultItem",value:function(e){var t=elements.resultItem;return Navigation.isActive(e)&&t.classList.add(classnames.result_list_item_active),t.innerHTML=e.content,t}},{key:"allListItems",get:function(){return this.element.getElementsByTagName("li")}},{key:"setResultBoxHeight",value:function(){var e=this.allListItems,t=0;if(5<e.length)for(var n=0;n<5;n++)t+=e.item(n).offsetHeight;this.element.style.height=t?t+"px":"auto"}},{key:"scrollToView",value:function(){var e=this.getActiveElement();e&&e.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth",boundary:this.element})}},{key:"getActiveElement",value:function(){var e=Navigation.item;return e?_classPrivateMethodGet(this,_findOptionElementByDataOption,_findOptionElementByDataOption2).call(this,e):null}}],[{key:"isEmpty",value:function(e){return!e.querySelectorAll("".concat(t.selector," > .").concat(classnames.result_list_item)).length}},{key:"selector",get:function(){return".".concat(classnames.result_list)}},{key:"results",get:function(){var e;return ResultListVoter.canOpenAll()?null!==(e=Option.all)&&void 0!==e?e:[]:ResultListVoter.canOpen()?TextInput.hasMinLength?Option.startingWithInput:[]:void 0}}]),t}(),_clean2$1=function(){for(var e=this.allListItems,t=0,n=e.length;t!==n;++t)e[0].parentNode.removeChild(e[0])},_findOptionElementByDataOption2=function(t){return"add"===t?this.element.querySelector(".".concat(classnames.add_item)):Array.from(this.allListItems).find(function(e){return(null==e?void 0:e.innerHTML)===(null==t?void 0:t.content)})},Navigation={item:"",up:function(){var e,t=ResultListList.results;this.selectedItem?(e=t.indexOf(this.selectedItem),"add"===this.selectedItem?this.selectedItem=t[t.length-1]:(e<=t.length-1&&(this.selectedItem=t[e-1]),t[e-1]||(ResultListVoter.canOpenAll()?this.selectedItem=t[t.length-1]:this.selectedItem="add"))):ResultListVoter.canOpenAll()?this.selectedItem=t[t.length-1]:this.selectedItem="add",Event.emit("navigation_action","up")},down:function(){var e,t=ResultListList.results;this.selectedItem?"add"!==this.selectedItem?(e=t.indexOf(this.selectedItem),t.length>e+1&&(this.selectedItem=t[e+1]),t.length===e+1&&(ResultListVoter.canOpenAll()?this.selectedItem=t[0]:this.selectedItem="add")):this.selectedItem=t[0]:t.length?this.selectedItem=t[0]:this.selectedItem="add",Event.emit("navigation_action","down")},clear:function(){this.selectedItem=""},isActive:function(e){return e===this.selectedItem},isAddItem:function(){return"add"===this.selectedItem},get selectedItem(){return this.item},set selectedItem(e){this.item=e}},Config={textInput:{limit:null},resultList:{openOnFocus:!0}},Option=function(){function n(){_classCallCheck(this,n),_defineProperty(this,"all",void 0)}return _createClass(n,null,[{key:"all",get:function(){return Store.options.all.filter(function(e){return!!e.content})}},{key:"startingWithInput",get:function(){return n.all.filter(function(e){return e.content.includes(Store.input)&&!e.selected})}},{key:"equalToInput",get:function(){return n.all.find(function(e){return e.content===Store.input})}},{key:"selected",get:function(){return n.all.filter(function(e){return e.selected}).sort(function(e,t){return e.selected-t.selected})}},{key:"findByTextContent",value:function(t){return n.all.find(function(e){return e.content===t})}},{key:"findByOptionElement",value:function(t){return n.all.find(function(e){return(null===t.value||e.value===t.value)&&e.content===t.innerHTML})}},{key:"choose",value:function(e){e?n.select(e):Navigation.item?n.selectNavigationItem():n.selectInputValue(),Event.emit("option_chosen")}},{key:"append",value:function(e){if(!e){e=Store.options.all.push(n.getModel())-1;return Store.options.all[e]}}},{key:"getModel",value:function(e){return{value:e?e.value:null,content:e?e.innerHTML:Store.input,selected:n.decide(e),timestamp:e&&n.decide(e)?Date.now():null}}},{key:"select",value:function(t){Store.options.all.map(function(e){e.content===t.content&&(e.selected=!0,e.timestamp=Date.now)})}},{key:"unselect",value:function(t){Store.options.all.map(function(e){e.content===t.content&&(e.selected=!1)}),Event.emit("option_unselected"),_classStaticPrivateMethodGet(this,n,_clean$2).call(this)}},{key:"decide",value:function(e){var t=!1;if(e){if(!e.value&&!e.content)return!1;t=e.selected}return t}},{key:"isNew",value:function(t){return!Store.initialData.find(function(e){return compareOptions(e,t)})}},{key:"isListEmpty",get:function(){return!n.selected.length}},{key:"selectNavigationItem",value:function(){"add"===Navigation.item?n.selectInputValue():n.select(Navigation.item)}},{key:"selectInputValue",value:function(){n.select(n.append())}},{key:"allTaken",get:function(){var e;return!(Config.textInput.limit>(null===(e=n.selected)||void 0===e?void 0:e.length))}}]),n}(),_clean$2=function(){Store.options.all=Store.options.all.filter(function(e){return!Option.isNew(e)})},Store={input:null,initialData:[],options:new Option,get inputIsEmpty(){var e;return!this.input||(null===(e=this.input)||void 0===e?void 0:e.length)<=0}},InitialElement=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),(e=t.call(this,e)).storeInitialData(),e.hide(),e.registerListeners(),e}return _createClass(n,[{key:"hide",value:function(){this.element.style.display="none"}},{key:"attachWidget",value:function(e){this.element.parentElement.append(e)}},{key:"storeInitialData",value:function(){Store.initialData=Array.from(this.getAllOptions).map(function(e){return Option.getModel(e)})}},{key:"getAllOptions",get:function(){return Array.from(this.element.querySelectorAll("option"))}},{key:"appendOption",value:function(e){var t=elements.selectOption;return t.value="__new_option__",t.innerHTML=e.content,this.element.append(t),t}},{key:"registerListeners",value:function(){var e=this;Event.on("option_chosen",function(){e.update()}),Event.on("option_unselected",function(){e.update()})}},{key:"update",value:function(){this.element.querySelectorAll("option").forEach(function(e){var t;null!==(t=Option.findByOptionElement(e))&&void 0!==t&&t.selected?e.selected="selected":e.selected=!1})}},{key:"isMultiple",get:function(){return this.element.multiple}}]),n}(),TagList=function(){_inherits(n,Component);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(e=t.call(this,e)),"textInput",void 0),e.appendTextInput(),e.registerEventListeners(),e}return _createClass(n,[{key:"appendTextInput",value:function(){this.textInput=new TextInput(elements.textInput),this.element.append(this.textInput.element)}},{key:"registerEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){t.clickedOnRemoveButton(e.target)&&(e.preventDefault(),Option.unselect(Option.findByTextContent(t.findClickedTag(e).innerHTML)))})}},{key:"clickedOnRemoveButton",value:function(e){return!!e.matches("button."+classnames.remove_button)||(!!e.matches("svg."+classnames.remove_button_svg)||!!e.matches("path"))}},{key:"remove",value:function(){this.textInput.destroy(),this.element.remove()}},{key:"findClickedTag",value:function(e){return e.target.closest("."+classnames.item).querySelector("."+classnames.item_text_span)}}],[{key:"create",value:function(){var t=elements.list;return Option.selected.forEach(function(e){return t.append(elements.getItem(e.content))}),new n(t)}},{key:"selector",get:function(){return"."+classnames.list}}]),n}(),InputVoter={shouldFocusAfterEvent:function(e){return!e.target.classList.contains(classnames.result_list_item)&&!e.target.closest(TagList.selector)}},_focusInput=new WeakSet,Widget=function(){function t(e){_classCallCheck(this,t),_focusInput.add(this),_defineProperty(this,"initialElement",void 0),_defineProperty(this,"element",void 0),_defineProperty(this,"tagList",void 0),_defineProperty(this,"resultList",void 0),_defineProperty(this,"navigation",void 0),_defineProperty(this,"store",Store),this.initialElement=new InitialElement(e),this.element=elements.widget,this.resultList=new ResultList(this.element.querySelector("."+classnames.result_list_container)),this.tagList=new TagList(this.element.querySelector("."+classnames.list)),this.initialElement.attachWidget(this.element),this.navigation=Navigation,this.registerListeners()}return _createClass(t,[{key:"registerListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){InputVoter.shouldFocusAfterEvent(e)&&_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)}),Event.on("option_chosen",function(){t.update(),_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)}),Event.on("option_unselected",function(){t.update(),_classPrivateMethodGet(t,_focusInput,_focusInput2).call(t)})}},{key:"update",value:function(){this.appendNewSelectOptions(),this.updateTagList(),this.closeResultListBox(),this.clearTextInput(),this.limit()}},{key:"appendNewSelectOptions",value:function(){var t=this;Store.options.all.forEach(function(e){Option.isNew(e)&&t.initialElement.appendOption(e)})}},{key:"updateTagList",value:function(){this.tagList.remove(),this.tagList=TagList.create(),this.element.append(this.tagList.element)}},{key:"closeResultListBox",value:function(){this.resultList.closeResultBox()}},{key:"clearTextInput",value:function(){TextInput.clear()}},{key:"limit",value:function(){OptionVoter.canAdd()?this.tagList.textInput.element.maxLength=524288:this.tagList.textInput.element.maxLength=0}}],[{key:"selector",get:function(){return".".concat(classnames.widget)}}]),t}(),_focusInput2=function(){this.tagList.textInput.focus()},Choosy=function(){function t(e){_classCallCheck(this,t),_defineProperty(this,"widget",void 0),_defineProperty(this,"config",void 0),this.widget=new Widget(e),this.config=Config,this.initializeData(),this.registerEventListener(),this.resolveOptions()}return _createClass(t,[{key:"registerEventListener",value:function(){this.clickedOutsideOfWidgetEvent(),this.windowBlurEvent()}},{key:"clickedOutsideOfWidgetEvent",value:function(){var t=this;document.addEventListener("click",function(e){t.widget.element.contains(e.target)||t.isClickOnTagList(e)||Event.emit("widget_clicked_outside")})}},{key:"windowBlurEvent",value:function(){window.addEventListener("blur",function(){Event.emit("window_blur")})}},{key:"isClickOnTagList",value:function(e){return!!e.target.closest(TagList.selector)}},{key:"initializeData",value:function(){Store.options.all=Array.from(Store.initialData)}},{key:"resolveOptions",value:function(){this.widget.initialElement.isMultiple||(Config.textInput.limit=1)}}]),t}();export{Choosy};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3N5Lm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NsYXNzbmFtZXMuanMiLCIuLi9zcmMvZWxlbWVudHMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9Db21wb25lbnQuanMiLCIuLi9zcmMvZXZlbnQuanMiLCIuLi9zcmMvdXRpbC5qcyIsIi4uL3NyYy92b3Rlci9PcHRpb25Wb3Rlci5qcyIsIi4uL3NyYy92b3Rlci9SZXN1bHRMaXN0Vm90ZXIuanMiLCIuLi9zcmMvY29tcG9uZW50cy9SZXN1bHRMaXN0LmpzIiwiLi4vc3JjL2V2ZW50cy9uYXZpZ2F0aW9uRXZlbnRzLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGV4dElucHV0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUmVzdWx0TGlzdExpc3QuanMiLCIuLi9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29uZmlnLmpzIiwiLi4vc3JjL29wdGlvbi5qcyIsIi4uL3NyYy9zdG9yZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0luaXRpYWxFbGVtZW50LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGFnTGlzdC5qcyIsIi4uL3NyYy92b3Rlci9JbnB1dFZvdGVyLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvV2lkZ2V0LmpzIiwiLi4vc3JjL2Nob29zeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgd2lkZ2V0OiAnY2hvb3N5LXdpZGdldCcsXG4gICAgaW5wdXQ6ICdjaG9vc3ktaW5wdXQnLFxuICAgIGxpc3Q6ICdjaG9vc3ktbGlzdCcsXG4gICAgaXRlbTogJ2Nob29zeS1pdGVtJyxcbiAgICBpdGVtX3RleHRfc3BhbjogJ2Nob29zeS1pdGVtLXRleHQtc3BhbicsXG4gICAgcmVtb3ZlX2J1dHRvbjogJ2Nob29zeS1yZW1vdmUtYnV0dG9uJyxcbiAgICByZW1vdmVfYnV0dG9uX3N2ZzogJ2Nob29zeS1yZW1vdmUtYnV0dG9uLXN2ZycsXG4gICAgcmVzdWx0X2xpc3RfY29udGFpbmVyOiAnY2hvb3N5LXJlc3VsdC1saXN0LWNvbnRhaW5lcicsXG4gICAgcmVzdWx0X2xpc3Q6ICdjaG9vc3ktcmVzdWx0LWxpc3QnLFxuICAgIHJlc3VsdF9saXN0X2l0ZW06ICdjaG9vc3ktcmVzdWx0LWl0ZW0nLFxuICAgIHJlc3VsdF9saXN0X2l0ZW1fYWN0aXZlOiAnYWN0aXZlJyxcbiAgICBhZGRfaXRlbTogJ2Nob29zeS1hZGQtaXRlbSdcbn0iLCJpbXBvcnQgY2xhc3NuYW1lcyBmcm9tIFwiLi9jbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGdldCB0ZXh0SW5wdXQoKSB7XG5cbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZSgnaW5wdXQnLCAndGV4dCcsIFtjbGFzc25hbWVzLmlucHV0XSlcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSAnMWNoJ1xuXG4gICAgICAgIHJldHVybiBpbnB1dFxuICAgIH0sXG5cbiAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMud2lkZ2V0XSlcbiAgICAgICAgd2lkZ2V0LmFwcGVuZCh0aGlzLmxpc3QpXG4gICAgICAgIC8vIHdpZGdldC5hcHBlbmQodGhpcy50ZXh0SW5wdXQpXG4gICAgICAgIHdpZGdldC5hcHBlbmQodGhpcy5yZXN1bHRMaXN0KVxuICAgICAgICByZXR1cm4gd2lkZ2V0XG4gICAgfSxcblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2RpdicsIG51bGwsIFtjbGFzc25hbWVzLmxpc3RdKVxuICAgIH0sXG5cbiAgICBnZXQgcmVtb3ZlQnV0dG9uKCkge1xuICAgICAgICBjb25zdCBidG4gPSB0aGlzLmNyZWF0ZSgnYnV0dG9uJywgbnVsbCwgW2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl0pXG4gICAgICAgIGJ0bi5hcHBlbmQodGhpcy5yZW1vdmVTVkcpXG4gICAgICAgIHJldHVybiBidG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlbW92ZVNWRygpIHtcblxuICAgICAgICBjb25zdCBzdmcgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCIke2NsYXNzbmFtZXMucmVtb3ZlX2J1dHRvbl9zdmd9XCI+XG4gICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnXG4gICAgICAgICAgICAgICAgICBkPSdNMTUuNzggMTQuMzZhMSAxIDAgMCAxLTEuNDIgMS40MmwtMi44Mi0yLjgzLTIuODMgMi44M2ExIDEgMCAxIDEtMS40Mi0xLjQybDIuODMtMi44Mkw3LjMgOC43YTEgMSAwIDAgMSAxLjQyLTEuNDJsMi44MyAyLjgzIDIuODItMi44M2ExIDEgMCAwIDEgMS40MiAxLjQybC0yLjgzIDIuODMgMi44MyAyLjgyeic+PC9wYXRoPlxuICAgICAgICAgICAgPC9zdmc+YCwgJ3RleHQvaHRtbCcpO1xuXG4gICAgICAgIHJldHVybiBzdmcuYm9keS5maXJzdENoaWxkXG5cbiAgICB9LFxuXG4gICAgZ2V0IHJlc3VsdExpc3QoKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyXSlcbiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cbiAgICAgICAgLy8gd3JhcHBlci5hcHBlbmQodGhpcy5yZXN1bHRMaXN0TGlzdClcblxuICAgICAgICByZXR1cm4gd3JhcHBlclxuICAgIH0sXG5cbiAgICBnZXQgcmVzdWx0TGlzdExpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgndWwnLCBudWxsLCBbY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF0pXG4gICAgfSxcblxuICAgIGdldCByZXN1bHRJdGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoJ2xpJywgbnVsbCwgW2NsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV0pXG4gICAgfSxcblxuICAgIGdldCBhZGRJdGVtKCkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5yZXN1bHRJdGVtXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc25hbWVzLmFkZF9pdGVtKVxuICAgICAgICBpdGVtLmlubmVySFRNTCA9ICdBZGQgbmV3J1xuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfSxcblxuICAgIGdldCBzZWxlY3RPcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSgnb3B0aW9uJywgbnVsbClcbiAgICB9LFxuXG4gICAgZ2V0SXRlbSh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNyZWF0ZSgnZGl2JywgbnVsbCwgW2NsYXNzbmFtZXMuaXRlbV0pXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRoaXMuZ2V0SXRlbVRleHRTcGFuKHRleHQpKVxuICAgICAgICBpdGVtLmFwcGVuZCh0aGlzLnJlbW92ZUJ1dHRvbilcblxuICAgICAgICByZXR1cm4gaXRlbVxuICAgIH0sXG5cbiAgICBnZXRJdGVtVGV4dFNwYW4odGV4dCkge1xuICAgICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGUoJ3NwYW4nLCBudWxsLCBbY2xhc3NuYW1lcy5pdGVtX3RleHRfc3Bhbl0pXG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICByZXR1cm4gc3BhblxuICAgIH0sXG5cbiAgICBjcmVhdGUodGFnTmFtZSwgdHlwZSA9IG51bGwsIGNsYXNzZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgZWxlbWVudC50eXBlID0gdHlwZVxuXG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xuICAgIGVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIH1cbn0iLCJjb25zdCBFdmVudCA9IHtcbiAgICBzdWJzY3JpYmVyczoge30sXG5cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSgodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5zdWJzY3JpYmVycylbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKVxuICAgIH0sXG5cbiAgICBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLmZpbHRlcihldmVudCA9PiBldmVudCAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdID0gW11cbiAgICB9LFxuXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgICh0aGlzLnN1YnNjcmliZXJzKVtldmVudE5hbWVdLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhkYXRhKVxuICAgICAgICB9KVxuICAgIH0sXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnQiLCJleHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgICAgZnVuYyguLi5hcmdzKVxuICAgICAgICB9O1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdE9mQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0xXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZU9wdGlvbnMoZmlyc3RPcHRpb24sIHNlY29uZE9wdGlvbikge1xuICAgIHJldHVybiAoZmlyc3RPcHRpb24udmFsdWUgPT09IHNlY29uZE9wdGlvbi52YWx1ZSkgJiYgKGZpcnN0T3B0aW9uLmNvbnRlbnQgPT09IHNlY29uZE9wdGlvbi5jb250ZW50KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRnJvbU5vZGVMaXN0KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChlbGVtZW50KVxufSIsImltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY2FuQWRkKCl7XG4gICAgICAgIHJldHVybiAhT3B0aW9uLmFsbFRha2VuXG4gICAgfVxufSIsImltcG9ydCBTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcbmltcG9ydCBPcHRpb25Wb3RlciBmcm9tIFwiLi9PcHRpb25Wb3RlclwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBjYW5PcGVuQWxsKCkge1xuICAgICAgICByZXR1cm4gU3RvcmUuaW5wdXRJc0VtcHR5ICYmIE9wdGlvblZvdGVyLmNhbkFkZCgpXG4gICAgfSxcblxuICAgIGNhbk9wZW4oKSB7XG4gICAgICAgIHJldHVybiAhU3RvcmUuaW5wdXRJc0VtcHR5ICYmIE9wdGlvblZvdGVyLmNhbkFkZCgpXG4gICAgfVxuXG59IiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiXG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgUmVzdWx0TGlzdExpc3QgZnJvbSBcIi4vUmVzdWx0TGlzdExpc3RcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9OYXZpZ2F0aW9uXCI7XG5pbXBvcnQgUmVzdWx0TGlzdFZvdGVyIGZyb20gXCIuLi92b3Rlci9SZXN1bHRMaXN0Vm90ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0TGlzdCB7XG5cbiAgICBlbGVtZW50XG4gICAgbGlzdFxuXG4gICAgY2xvc2VFdmVudHMgPSBbXG4gICAgICAgICd3aWRnZXRfY2xpY2tlZF9vdXRzaWRlJyxcbiAgICAgICAgJ2lucHV0X3ByZXNzZWRfZXNjJyxcbiAgICAgICAgJ2lucHV0X3ByZXNzZWRfdGFiJyxcbiAgICAgICAgJ3dpbmRvd19ibHVyJ1xuICAgIF1cblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICB0aGlzLmFwcGVuZExpc3QoKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkge1xuXG4gICAgICAgIHRoaXMuY2xvc2VFdmVudHMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgRXZlbnQub24oZXZlbnROYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVJlc3VsdEJveCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIEV2ZW50Lm9uKCdpbnB1dF9pbnB1dF9kZWJvdW5jZWQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChTdG9yZS5pbnB1dElzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUmVzdWx0Qm94KClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saXN0LmNyZWF0ZVJlc3VsdExpc3QoKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignaW5wdXRfZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuY3JlYXRlUmVzdWx0TGlzdCgpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY3JlYXRlQm94KCkge1xuICAgICAgICB0aGlzLm9wZW5SZXN1bHRCb3goKVxuICAgICAgICB0aGlzLmxpc3Quc2V0UmVzdWx0Qm94SGVpZ2h0KClcbiAgICB9XG5cbiAgICBvcGVuUmVzdWx0Qm94KCkge1xuICAgICAgICBpZiAoIXRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSdcbiAgICB9XG5cbiAgICBjbG9zZVJlc3VsdEJveCgpIHtcbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIGlmICh0aGlzLm9wZW4pXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICBOYXZpZ2F0aW9uLmNsZWFyKClcbiAgICB9XG5cbiAgICAjY2xlYW4oKSB7XG4gICAgICAgIHRoaXMubGlzdC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5hcHBlbmRMaXN0KClcbiAgICB9XG5cbiAgICBhcHBlbmRMaXN0KCkge1xuICAgICAgICB0aGlzLmxpc3QgPSBuZXcgUmVzdWx0TGlzdExpc3QodGhpcy5lbGVtZW50KVxuICAgIH1cblxuICAgIHN0YXRpYyBpc09wZW4od2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB3aWRnZXQucXVlcnlTZWxlY3RvcihSZXN1bHRMaXN0LnNlbGVjdG9yKS5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2NvbnRhaW5lcn1gXG4gICAgfVxufSIsImltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL05hdmlnYXRpb25cIjtcbmltcG9ydCBSZXN1bHRMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1Jlc3VsdExpc3RcIjtcbmltcG9ydCBSZXN1bHRMaXN0TGlzdCBmcm9tIFwiLi4vY29tcG9uZW50cy9SZXN1bHRMaXN0TGlzdFwiO1xuaW1wb3J0IHtXaWRnZXR9IGZyb20gXCIuLi9jb21wb25lbnRzL1dpZGdldFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMuYXJyb3dEb3duRXZlbnQoZXZlbnQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMuYXJyb3dVcEV2ZW50KGV2ZW50KVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGFycm93RG93bkV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzTmF2aWdhdGlvbkVuYWJsZWQoZXZlbnQpKSBOYXZpZ2F0aW9uLmRvd24oKVxuICAgIH0sXG5cbiAgICBhcnJvd1VwRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNOYXZpZ2F0aW9uRW5hYmxlZChldmVudCkpIE5hdmlnYXRpb24udXAoKVxuICAgIH0sXG5cbiAgICBpc05hdmlnYXRpb25FbmFibGVkKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZGdldCA9IHRoaXMuZ2V0V2lkZ2V0RnJvbUV2ZW50KGV2ZW50KVxuICAgICAgICByZXR1cm4gUmVzdWx0TGlzdC5pc09wZW4od2lkZ2V0KSAmJiAhUmVzdWx0TGlzdExpc3QuaXNFbXB0eSh3aWRnZXQpXG4gICAgfSxcblxuICAgIGdldFdpZGdldEZyb21FdmVudChldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoV2lkZ2V0LnNlbGVjdG9yKVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCB7ZGVib3VuY2UsIGdldExhc3RPZkFycmF5fSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9zdG9yZVwiO1xuaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi4vb3B0aW9uXCI7XG5pbXBvcnQgbmF2aWdhdGlvbkV2ZW50cyBmcm9tIFwiLi4vZXZlbnRzL25hdmlnYXRpb25FdmVudHNcIjtcbmltcG9ydCBPcHRpb25Wb3RlciBmcm9tIFwiLi4vdm90ZXIvT3B0aW9uVm90ZXJcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRJbnB1dCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3RhdGUoKVxuICAgICAgICAgICAgdGhpcy5hZGp1c3RXaWR0aCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlcktleUV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXNjYXBlS2V5RXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrc3BhY2VLZXlFdmVudChldmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcbiAgICAgICAgICAgICAgICBFdmVudC5lbWl0KCdpbnB1dF9wcmVzc2VkX3RhYicpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5hdmlnYXRpb25FdmVudHMuaGFuZGxlKGV2ZW50KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsXG4gICAgICAgICAgICBkZWJvdW5jZShldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgRXZlbnQuZW1pdCgnaW5wdXRfaW5wdXRfZGVib3VuY2VkJywgZXZlbnQpXG4gICAgICAgICAgICB9LCAyNTApXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBFdmVudC5lbWl0KCdpbnB1dF9mb2N1cycpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ2lucHV0X2JsdXInLCBldmVudClcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignaW5wdXRfY2xlYXJlZCcsIHRoaXMucmVzZXRWYWx1ZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JlLmlucHV0Py5sZW5ndGhcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGhhc01pbkxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIFRleHRJbnB1dC5sZW5ndGggPj0gMlxuICAgIH1cblxuICAgIGFkanVzdFdpZHRoKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtUZXh0SW5wdXQubGVuZ3RoID8gVGV4dElucHV0Lmxlbmd0aCArIDEgOiAxfWNoYFxuICAgIH1cblxuICAgIHJlZnJlc2hTdGF0ZSgpIHtcbiAgICAgICAgU3RvcmUuaW5wdXQgPSB0aGlzLmVsZW1lbnQudmFsdWVcbiAgICB9XG5cbiAgICBsaW1pdChldmVudCkge1xuICAgICAgICBpZiAoIU9wdGlvblZvdGVyLmNhbkFkZCgpKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiAnLicgKyBjbGFzc25hbWVzLmlucHV0XG4gICAgfVxuXG4gICAgc3RhdGljIGNsZWFyKCkge1xuICAgICAgICBTdG9yZS5pbnB1dCA9IG51bGxcbiAgICAgICAgRXZlbnQuZW1pdCgnaW5wdXRfY2xlYXJlZCcpXG4gICAgfVxuXG4gICAgZW50ZXJLZXlFdmVudChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaWYgKFRleHRJbnB1dC5oYXNNaW5MZW5ndGggfHwgT3B0aW9uVm90ZXIuY2FuQWRkKCkpXG4gICAgICAgICAgICBPcHRpb24uY2hvb3NlKClcbiAgICB9XG5cbiAgICBlc2NhcGVLZXlFdmVudCgpIHtcbiAgICAgICAgRXZlbnQuZW1pdCgnaW5wdXRfcHJlc3NlZF9lc2MnKVxuICAgIH1cblxuICAgIGJhY2tzcGFjZUtleUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghU3RvcmUuaW5wdXRJc0VtcHR5IHx8IE9wdGlvbi5pc0xpc3RFbXB0eSlcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgT3B0aW9uLnVuc2VsZWN0KGdldExhc3RPZkFycmF5KE9wdGlvbi5zZWxlY3RlZCkpXG4gICAgfVxuXG4gICAgZ2V0IGlzRm9jdXNzZWQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc25hbWVzLmlucHV0KVxuICAgIH1cblxuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNGb2N1c3NlZClcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpXG4gICAgfVxuXG4gICAgcmVzZXRWYWx1ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnZhbHVlID0gbnVsbFxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIEV2ZW50Lm9mZignaW5wdXRfY2xlYXJlZCcsIHRoaXMucmVzZXRWYWx1ZSlcbiAgICB9XG59IiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBlbGVtZW50cyBmcm9tIFwiLi4vZWxlbWVudHNcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL05hdmlnYXRpb25cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vZXZlbnRcIjtcbmltcG9ydCBSZXN1bHRMaXN0Vm90ZXIgZnJvbSBcIi4uL3ZvdGVyL1Jlc3VsdExpc3RWb3RlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHRMaXN0TGlzdCB7XG5cblxuICAgIGVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKHJlc3VsdEJveCkge1xuICAgICAgICB0aGlzLmNyZWF0ZShyZXN1bHRCb3gpXG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKVxuICAgIH1cblxuICAgIGNyZWF0ZShyZXN1bHRCb3gpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVsZW1lbnRzLnJlc3VsdExpc3RMaXN0XG4gICAgICAgIHJlc3VsdEJveC5hcHBlbmQobGlzdClcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbGlzdFxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKVxuXG4gICAgICAgIEV2ZW50Lm9mZignbmF2aWdhdGlvbl9hY3Rpb24nKVxuXG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdEFuZFNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXN1bHRMaXN0KClcbiAgICAgICAgdGhpcy5zY3JvbGxUb1ZpZXcoKVxuICAgIH1cblxuICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5jaG9vc2VMaXN0ZW5lcigpXG5cbiAgICAgICAgRXZlbnQub24oJ25hdmlnYXRpb25fYWN0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMaXN0QW5kU2Nyb2xsKCk7XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBjaG9vc2VMaXN0ZW5lcigpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcyhgbGkuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW19Om5vdCguJHtjbGFzc25hbWVzLmFkZF9pdGVtfSlgKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlKGV2ZW50LnRhcmdldC5pbm5lckhUTUwpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcygnbGkuJyArIGNsYXNzbmFtZXMuYWRkX2l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY2hvb3NlKHZhbHVlKSB7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBPcHRpb24uY2hvb3NlKFxuICAgICAgICAgICAgICAgIE9wdGlvbi5maW5kQnlUZXh0Q29udGVudCh2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFPcHRpb24uZXF1YWxUb0lucHV0KSB7XG4gICAgICAgICAgICBPcHRpb24uY2hvb3NlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxpc3RSZXN1bHRzKCkge1xuXG4gICAgICAgIHRoaXMuI2NsZWFuKClcblxuICAgICAgICB0aGlzLmFwcGVuZChcbiAgICAgICAgICAgIFJlc3VsdExpc3RMaXN0LnJlc3VsdHNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICghT3B0aW9uLmVxdWFsVG9JbnB1dCAmJiBUZXh0SW5wdXQuaGFzTWluTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEFkZEl0ZW1Ub0xpc3QoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdEFsbFJlc3VsdHMoKSB7XG5cbiAgICAgICAgdGhpcy4jY2xlYW4oKVxuXG4gICAgICAgIHRoaXMuYXBwZW5kKFxuICAgICAgICAgICAgT3B0aW9uLmFsbFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0TGlzdCgpIHtcbiAgICAgICAgaWYgKFJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpc3RBbGxSZXN1bHRzKClcblxuICAgICAgICBpZiAoUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW4oKSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlzdFJlc3VsdHMoKVxuICAgIH1cblxuICAgIGFwcGVuZChvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPcHRpb24ob3B0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgdGhpcy5hcHBlbmRFbGVtZW50VG9MaXN0KHRoaXMuY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhhc09wdGlvbihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpXG4gICAgICAgICAgICAuZmluZChyZXN1bHQgPT4gcmVzdWx0LnRleHRDb250ZW50ID09PSBvcHRpb24udGV4dENvbnRlbnQpXG4gICAgfVxuXG4gICAgYXBwZW5kQWRkSXRlbVRvTGlzdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0FkZE5ld0l0ZW0pIHtcblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLmFkZEl0ZW1cblxuICAgICAgICAgICAgaWYgKE5hdmlnYXRpb24uaXNBZGRJdGVtKCkpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfaXRlbV9hY3RpdmUpXG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kRWxlbWVudFRvTGlzdChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoZWxlbWVudClcbiAgICB9XG5cbiAgICBnZXQgaGFzQWRkTmV3SXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuYWRkX2l0ZW0pXG4gICAgfVxuXG4gICAgY3JlYXRlUmVzdWx0SXRlbShvcHRpb24pIHtcblxuICAgICAgICBjb25zdCBpdGVtID0gZWxlbWVudHMucmVzdWx0SXRlbVxuXG4gICAgICAgIGlmIChOYXZpZ2F0aW9uLmlzQWN0aXZlKG9wdGlvbikpXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtX2FjdGl2ZSlcblxuICAgICAgICBpdGVtLmlubmVySFRNTCA9IG9wdGlvbi5jb250ZW50XG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgfVxuXG4gICAgc3RhdGljIGlzRW1wdHkod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiAhd2lkZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICBgJHtSZXN1bHRMaXN0TGlzdC5zZWxlY3Rvcn0gPiAuJHtjbGFzc25hbWVzLnJlc3VsdF9saXN0X2l0ZW19YFxuICAgICAgICApLmxlbmd0aFxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBgLiR7Y2xhc3NuYW1lcy5yZXN1bHRfbGlzdH1gXG4gICAgfVxuXG4gICAgZ2V0IGFsbExpc3RJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKVxuICAgIH1cblxuICAgICNjbGVhbigpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmFsbExpc3RJdGVtc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgIT09IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBub2Rlc1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcmVzdWx0cygpIHtcblxuICAgICAgICBpZiAoUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSlcbiAgICAgICAgICAgIHJldHVybiBPcHRpb24uYWxsID8/IFtdXG5cbiAgICAgICAgaWYgKFJlc3VsdExpc3RWb3Rlci5jYW5PcGVuKCkpXG4gICAgICAgICAgICByZXR1cm4gVGV4dElucHV0Lmhhc01pbkxlbmd0aCA/IE9wdGlvbi5zdGFydGluZ1dpdGhJbnB1dCA6IFtdXG5cblxuICAgIH1cblxuICAgIHNldFJlc3VsdEJveEhlaWdodCgpIHtcblxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuYWxsTGlzdEl0ZW1zXG5cbiAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IGl0ZW1zLmxlbmd0aFxuICAgICAgICBsZXQgcmVzdWx0ID0gMFxuXG4gICAgICAgIGlmICh0b3RhbEl0ZW1zID4gNSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gaXRlbXMuaXRlbShpKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSByZXN1bHQgPyByZXN1bHQgKyAncHgnIDogJ2F1dG8nXG4gICAgfVxuXG4gICAgc2Nyb2xsVG9WaWV3KCkge1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmdldEFjdGl2ZUVsZW1lbnQoKVxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0JyxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgYm91bmRhcnk6IHRoaXMuZWxlbWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBY3RpdmVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBOYXZpZ2F0aW9uLml0ZW1cblxuICAgICAgICBpZiAoIW9wdGlvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuI2ZpbmRPcHRpb25FbGVtZW50QnlEYXRhT3B0aW9uKG9wdGlvbilcblxuICAgIH1cblxuICAgICNmaW5kT3B0aW9uRWxlbWVudEJ5RGF0YU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ2FkZCcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzbmFtZXMuYWRkX2l0ZW19YClcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbGxMaXN0SXRlbXMpLmZpbmQob3B0aW9uRWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudD8uaW5uZXJIVE1MID09PSBvcHRpb24/LmNvbnRlbnRcbiAgICAgICAgfSlcbiAgICB9XG5cbn1cbiIsImltcG9ydCBSZXN1bHRMaXN0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0TGlzdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiO1xuaW1wb3J0IFJlc3VsdExpc3RWb3RlciBmcm9tIFwiLi4vdm90ZXIvUmVzdWx0TGlzdFZvdGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGl0ZW06ICcnLFxuXG4gICAgdXAoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHRMaXN0TGlzdC5yZXN1bHRzXG5cbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgaWYgKCFSZXN1bHRMaXN0Vm90ZXIuY2FuT3BlbkFsbCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHRzLmluZGV4T2YodGhpcy5zZWxlY3RlZEl0ZW0pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8PSByZXN1bHRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzW2luZGV4IC0gMV1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHNbaW5kZXggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVJlc3VsdExpc3RWb3Rlci5jYW5PcGVuQWxsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gJ2FkZCdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ3VwJylcbiAgICB9LFxuXG4gICAgZG93bigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFJlc3VsdExpc3RMaXN0LnJlc3VsdHNcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtKSB7XG5cbiAgICAgICAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9ICdhZGQnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSAhPT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdHMuaW5kZXhPZih0aGlzLnNlbGVjdGVkSXRlbSlcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IGluZGV4ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlc3VsdHNbaW5kZXggKyAxXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghUmVzdWx0TGlzdFZvdGVyLmNhbk9wZW5BbGwoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnYWRkJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSByZXN1bHRzWzBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIEV2ZW50LmVtaXQoJ25hdmlnYXRpb25fYWN0aW9uJywgJ2Rvd24nKVxuICAgIH0sXG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAnJ1xuICAgIH0sXG5cbiAgICBpc0FjdGl2ZShvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbiA9PT0gdGhpcy5zZWxlY3RlZEl0ZW1cbiAgICB9LFxuXG4gICAgaXNBZGRJdGVtKCkge1xuICAgICAgICByZXR1cm4gJ2FkZCcgPT09IHRoaXMuc2VsZWN0ZWRJdGVtXG4gICAgfSxcblxuICAgIGdldCBzZWxlY3RlZEl0ZW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1cbiAgICB9LFxuXG4gICAgc2V0IHNlbGVjdGVkSXRlbShpdGVtKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW1cbiAgICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgdGV4dElucHV0OiB7XG4gICAgICAgIGxpbWl0OiBudWxsXG4gICAgfSxcbiAgICByZXN1bHRMaXN0OiB7XG4gICAgICAgIG9wZW5PbkZvY3VzOiB0cnVlXG4gICAgfVxufSIsImltcG9ydCBTdG9yZSBmcm9tIFwiLi9zdG9yZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuL2V2ZW50XCI7XG5pbXBvcnQge2NvbXBhcmVPcHRpb25zfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25cIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4vY29tcG9uZW50cy9Db25maWdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3B0aW9uIHtcblxuICAgIGFsbFxuXG4gICAgc3RhdGljIGdldCBhbGwoKSB7XG4gICAgICAgIHJldHVybiBTdG9yZS5vcHRpb25zLmFsbC5maWx0ZXIob3B0aW9uID0+ICEhb3B0aW9uLmNvbnRlbnQpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzdGFydGluZ1dpdGhJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbi5hbGwuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uY29udGVudC5pbmNsdWRlcyhTdG9yZS5pbnB1dCkgJiYgIW9wdGlvbi5zZWxlY3RlZClcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVxdWFsVG9JbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbi5hbGwuZmluZChvcHRpb24gPT4gb3B0aW9uLmNvbnRlbnQgPT09IFN0b3JlLmlucHV0KVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsXG4gICAgICAgICAgICAuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5zZWxlY3RlZCAtIGIuc2VsZWN0ZWQpXG4gICAgfVxuXG4gICAgc3RhdGljIGZpbmRCeVRleHRDb250ZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsLmZpbmQob3B0aW9uID0+IG9wdGlvbi5jb250ZW50ID09PSB2YWx1ZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZmluZEJ5T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBPcHRpb24uYWxsLmZpbmQob3B0aW9uID0+IHtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbkVsZW1lbnQudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBvcHRpb25FbGVtZW50LnZhbHVlICYmIG9wdGlvbi5jb250ZW50ID09PSBvcHRpb25FbGVtZW50LmlubmVySFRNTFxuICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgc3RhdGljIGNob29zZShvcHRpb24pIHtcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICBPcHRpb24uc2VsZWN0KG9wdGlvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChOYXZpZ2F0aW9uLml0ZW0pIHtcbiAgICAgICAgICAgICAgICBPcHRpb24uc2VsZWN0TmF2aWdhdGlvbkl0ZW0oKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBPcHRpb24uc2VsZWN0SW5wdXRWYWx1ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudC5lbWl0KCdvcHRpb25fY2hvc2VuJylcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwZW5kKG9wdGlvbikge1xuXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RvcmVJbmRleCA9IFN0b3JlLm9wdGlvbnMuYWxsLnB1c2goT3B0aW9uLmdldE1vZGVsKCkpIC0gMVxuXG4gICAgICAgIHJldHVybiBTdG9yZS5vcHRpb25zLmFsbFtzdG9yZUluZGV4XVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRNb2RlbChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb24gPyBvcHRpb24udmFsdWUgOiBudWxsLFxuICAgICAgICAgICAgY29udGVudDogb3B0aW9uID8gb3B0aW9uLmlubmVySFRNTCA6IFN0b3JlLmlucHV0LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IE9wdGlvbi5kZWNpZGUob3B0aW9uKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKG9wdGlvbiAmJiBPcHRpb24uZGVjaWRlKG9wdGlvbikpID8gRGF0ZS5ub3coKSA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBzZWxlY3Qob3B0aW9uKSB7XG4gICAgICAgIFN0b3JlLm9wdGlvbnMuYWxsLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNvbnRlbnQgIT09IG9wdGlvbi5jb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgaXRlbS50aW1lc3RhbXAgPSBEYXRlLm5vd1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyB1bnNlbGVjdChvcHRpb24pIHtcblxuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb250ZW50ICE9PSBvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgRXZlbnQuZW1pdCgnb3B0aW9uX3Vuc2VsZWN0ZWQnKVxuICAgICAgICB0aGlzLiNjbGVhbigpXG4gICAgfVxuXG4gICAgc3RhdGljIGRlY2lkZShvcHRpb24pIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gZmFsc2VcblxuICAgICAgICBpZiAob3B0aW9uKSB7XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9uLnZhbHVlICYmICFvcHRpb24uY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBvcHRpb24uc2VsZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFxuICAgIH1cblxuICAgIHN0YXRpYyBpc05ldyhvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuICFTdG9yZS5pbml0aWFsRGF0YS5maW5kKGl0ZW0gPT4gY29tcGFyZU9wdGlvbnMoaXRlbSwgb3B0aW9uKSlcbiAgICB9XG5cbiAgICBzdGF0aWMgI2NsZWFuKCkge1xuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbCA9IFN0b3JlLm9wdGlvbnMuYWxsLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhT3B0aW9uLmlzTmV3KGl0ZW0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBpc0xpc3RFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICFPcHRpb24uc2VsZWN0ZWQubGVuZ3RoXG4gICAgfVxuXG4gICAgc3RhdGljIHNlbGVjdE5hdmlnYXRpb25JdGVtKCkge1xuICAgICAgICBpZiAoTmF2aWdhdGlvbi5pdGVtID09PSAnYWRkJykge1xuICAgICAgICAgICAgT3B0aW9uLnNlbGVjdElucHV0VmFsdWUoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT3B0aW9uLnNlbGVjdChOYXZpZ2F0aW9uLml0ZW0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2VsZWN0SW5wdXRWYWx1ZSgpIHtcbiAgICAgICAgT3B0aW9uLnNlbGVjdChcbiAgICAgICAgICAgIE9wdGlvbi5hcHBlbmQoKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBhbGxUYWtlbigpe1xuICAgICAgICByZXR1cm4gIShDb25maWcudGV4dElucHV0LmxpbWl0ID4gT3B0aW9uLnNlbGVjdGVkPy5sZW5ndGgpXG4gICAgfVxufSIsImltcG9ydCBPcHRpb24gZnJvbSBcIi4vb3B0aW9uXCI7XG5cbmNvbnN0IFN0b3JlID0ge1xuICAgIGlucHV0OiBudWxsLFxuICAgIGluaXRpYWxEYXRhOiBbXSxcbiAgICBvcHRpb25zOiBuZXcgT3B0aW9uKCksXG5cbiAgICBnZXQgaW5wdXRJc0VtcHR5KCkge1xuXG4gICAgICAgIGlmKCF0aGlzLmlucHV0KVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dD8ubGVuZ3RoIDw9IDBcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3JlIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IGVsZW1lbnRzIGZyb20gXCIuLi9lbGVtZW50c1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9ldmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWFsRWxlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5zdG9yZUluaXRpYWxEYXRhKClcbiAgICAgICAgdGhpcy5oaWRlKClcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIGF0dGFjaFdpZGdldCh3aWRnZXQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kKHdpZGdldClcbiAgICB9XG5cbiAgICBzdG9yZUluaXRpYWxEYXRhKCkge1xuICAgICAgICBTdG9yZS5pbml0aWFsRGF0YSA9IEFycmF5LmZyb20odGhpcy5nZXRBbGxPcHRpb25zKVxuICAgICAgICAgICAgLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9wdGlvbi5nZXRNb2RlbChvcHRpb24pXG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBnZXRBbGxPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykpXG4gICAgfVxuXG4gICAgYXBwZW5kT3B0aW9uKG9wdGlvbikge1xuICAgICAgICBjb25zdCBuZXdPcHRpb24gPSBlbGVtZW50cy5zZWxlY3RPcHRpb25cbiAgICAgICAgbmV3T3B0aW9uLnZhbHVlID0gJ19fbmV3X29wdGlvbl9fJ1xuICAgICAgICBuZXdPcHRpb24uaW5uZXJIVE1MID0gb3B0aW9uLmNvbnRlbnRcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKG5ld09wdGlvbilcbiAgICAgICAgcmV0dXJuIG5ld09wdGlvblxuICAgIH1cblxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICBFdmVudC5vbignb3B0aW9uX2Nob3NlbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignb3B0aW9uX3Vuc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJykuZm9yRWFjaChvcHRpb24gPT4ge1xuXG4gICAgICAgICAgICBpZiAoT3B0aW9uLmZpbmRCeU9wdGlvbkVsZW1lbnQob3B0aW9uKT8uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0IGlzTXVsdGlwbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubXVsdGlwbGVcbiAgICB9XG59IiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL29wdGlvblwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4uL2VsZW1lbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0xpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgdGV4dElucHV0XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICAgICAgdGhpcy5hcHBlbmRUZXh0SW5wdXQoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBhcHBlbmRUZXh0SW5wdXQoKSB7XG4gICAgICAgIHRoaXMudGV4dElucHV0ID0gbmV3IFRleHRJbnB1dChlbGVtZW50cy50ZXh0SW5wdXQpXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmQodGhpcy50ZXh0SW5wdXQuZWxlbWVudClcbiAgICB9XG5cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrZWRPblJlbW92ZUJ1dHRvbihldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICAgICAgT3B0aW9uLnVuc2VsZWN0KFxuICAgICAgICAgICAgICAgICAgICBPcHRpb24uZmluZEJ5VGV4dENvbnRlbnQodGhpcy5maW5kQ2xpY2tlZFRhZyhldmVudCkuaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbGlja2VkT25SZW1vdmVCdXR0b24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQubWF0Y2hlcygnYnV0dG9uLicgKyBjbGFzc25hbWVzLnJlbW92ZV9idXR0b24pKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoJ3N2Zy4nICsgY2xhc3NuYW1lcy5yZW1vdmVfYnV0dG9uX3N2ZykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAhIXRhcmdldC5tYXRjaGVzKCdwYXRoJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVsZW1lbnRzLmxpc3RcblxuICAgICAgICBPcHRpb24uc2VsZWN0ZWQuZm9yRWFjaChpdGVtID0+IGxpc3QuYXBwZW5kKGVsZW1lbnRzLmdldEl0ZW0oaXRlbS5jb250ZW50KSkpXG5cbiAgICAgICAgcmV0dXJuIG5ldyBUYWdMaXN0KGxpc3QpXG4gICAgfVxuXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpXG4gICAgfVxuXG4gICAgZmluZENsaWNrZWRUYWcoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuJyArIGNsYXNzbmFtZXMuaXRlbSlcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMuaXRlbV90ZXh0X3NwYW4pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuICcuJyArIGNsYXNzbmFtZXMubGlzdFxuICAgIH1cblxufVxuIiwiaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSBcIi4uL2NsYXNzbmFtZXNcIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1RhZ0xpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gICAgc2hvdWxkRm9jdXNBZnRlckV2ZW50KGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NuYW1lcy5yZXN1bHRfbGlzdF9pdGVtKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgIHJldHVybiAhZXZlbnQudGFyZ2V0LmNsb3Nlc3QoVGFnTGlzdC5zZWxlY3Rvcik7XG5cbiAgICB9XG5cbn0iLCJpbXBvcnQgZWxlbWVudHMgZnJvbSBcIi4vLi4vZWxlbWVudHNcIjtcbmltcG9ydCBJbml0aWFsRWxlbWVudCBmcm9tIFwiLi9Jbml0aWFsRWxlbWVudFwiO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tIFwiLi9UZXh0SW5wdXRcIjtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCIuLi9jbGFzc25hbWVzXCI7XG5pbXBvcnQgUmVzdWx0TGlzdCBmcm9tIFwiLi9SZXN1bHRMaXN0XCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL2V2ZW50XCI7XG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9vcHRpb25cIjtcbmltcG9ydCBUYWdMaXN0IGZyb20gXCIuL1RhZ0xpc3RcIjtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL05hdmlnYXRpb25cIjtcbmltcG9ydCBPcHRpb25Wb3RlciBmcm9tIFwiLi4vdm90ZXIvT3B0aW9uVm90ZXJcIjtcbmltcG9ydCBJbnB1dFZvdGVyIGZyb20gXCIuLi92b3Rlci9JbnB1dFZvdGVyXCJcblxuZXhwb3J0IGNsYXNzIFdpZGdldCB7XG5cbiAgICBpbml0aWFsRWxlbWVudFxuICAgIGVsZW1lbnRcblxuICAgIHRhZ0xpc3RcbiAgICByZXN1bHRMaXN0XG4gICAgbmF2aWdhdGlvblxuXG4gICAgc3RvcmUgPSBTdG9yZVxuXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbEVsZW1lbnQpIHtcblxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50ID0gbmV3IEluaXRpYWxFbGVtZW50KGluaXRpYWxFbGVtZW50KVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50cy53aWRnZXRcblxuICAgICAgICAvLyB0aGlzLnRleHRJbnB1dCA9IG5ldyBUZXh0SW5wdXQodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5pbnB1dCkpXG4gICAgICAgIHRoaXMucmVzdWx0TGlzdCA9IG5ldyBSZXN1bHRMaXN0KHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzbmFtZXMucmVzdWx0X2xpc3RfY29udGFpbmVyKSlcbiAgICAgICAgdGhpcy50YWdMaXN0ID0gbmV3IFRhZ0xpc3QodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NuYW1lcy5saXN0KSlcblxuICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LmF0dGFjaFdpZGdldCh0aGlzLmVsZW1lbnQpXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IE5hdmlnYXRpb25cblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICByZWdpc3Rlckxpc3RlbmVycygpIHtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIElucHV0Vm90ZXIuc2hvdWxkRm9jdXNBZnRlckV2ZW50KGV2ZW50KSAmJiB0aGlzLiNmb2N1c0lucHV0KClcbiAgICAgICAgfSlcblxuICAgICAgICBFdmVudC5vbignb3B0aW9uX2Nob3NlbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgICAgIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIEV2ZW50Lm9uKCdvcHRpb25fdW5zZWxlY3RlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgICAgIHRoaXMuI2ZvY3VzSW5wdXQoKVxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgI2ZvY3VzSW5wdXQoKSB7XG4gICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuZm9jdXMoKVxuICAgICAgICAvLyBFdmVudC5lbWl0KCdpbnB1dF9mb2N1cycpXG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFwcGVuZE5ld1NlbGVjdE9wdGlvbnMoKVxuICAgICAgICB0aGlzLnVwZGF0ZVRhZ0xpc3QoKVxuICAgICAgICB0aGlzLmNsb3NlUmVzdWx0TGlzdEJveCgpXG4gICAgICAgIHRoaXMuY2xlYXJUZXh0SW5wdXQoKVxuICAgICAgICB0aGlzLmxpbWl0KClcbiAgICB9XG5cbiAgICBhcHBlbmROZXdTZWxlY3RPcHRpb25zKCkge1xuICAgICAgICBTdG9yZS5vcHRpb25zLmFsbC5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoT3B0aW9uLmlzTmV3KG9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxFbGVtZW50LmFwcGVuZE9wdGlvbihvcHRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlVGFnTGlzdCgpIHtcbiAgICAgICAgdGhpcy50YWdMaXN0LnJlbW92ZSgpXG4gICAgICAgIHRoaXMudGFnTGlzdCA9IFRhZ0xpc3QuY3JlYXRlKClcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCh0aGlzLnRhZ0xpc3QuZWxlbWVudClcbiAgICB9XG5cbiAgICBjbG9zZVJlc3VsdExpc3RCb3goKSB7XG4gICAgICAgIHRoaXMucmVzdWx0TGlzdC5jbG9zZVJlc3VsdEJveCgpXG4gICAgfVxuXG4gICAgY2xlYXJUZXh0SW5wdXQoKSB7XG4gICAgICAgIFRleHRJbnB1dC5jbGVhcigpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGAuJHtjbGFzc25hbWVzLndpZGdldH1gXG4gICAgfVxuXG4gICAgbGltaXQoKSB7XG4gICAgICAgIGlmICghT3B0aW9uVm90ZXIuY2FuQWRkKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFnTGlzdC50ZXh0SW5wdXQuZWxlbWVudC5tYXhMZW5ndGggPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRhZ0xpc3QudGV4dElucHV0LmVsZW1lbnQubWF4TGVuZ3RoID0gNTI0Mjg4XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtXaWRnZXR9IGZyb20gXCIuL2NvbXBvbmVudHMvV2lkZ2V0XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vZXZlbnRcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi9zdG9yZVwiO1xuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi9jb21wb25lbnRzL0NvbmZpZ1wiO1xuaW1wb3J0IFRhZ0xpc3QgZnJvbSBcIi4vY29tcG9uZW50cy9UYWdMaXN0XCI7XG5pbXBvcnQgJy4vc3R5bGUvY2hvb3N5LmNzcydcblxuZXhwb3J0IGNsYXNzIENob29zeSB7XG5cbiAgICB3aWRnZXRcbiAgICBjb25maWdcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy53aWRnZXQgPSBuZXcgV2lkZ2V0KGVsZW1lbnQpXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ29uZmlnXG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKClcbiAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucygpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkge1xuICAgICAgICB0aGlzLmNsaWNrZWRPdXRzaWRlT2ZXaWRnZXRFdmVudCgpXG4gICAgICAgIHRoaXMud2luZG93Qmx1ckV2ZW50KClcbiAgICB9XG5cbiAgICBjbGlja2VkT3V0c2lkZU9mV2lkZ2V0RXZlbnQoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy53aWRnZXQuZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpIHx8IHRoaXMuaXNDbGlja09uVGFnTGlzdChldmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ3dpZGdldF9jbGlja2VkX291dHNpZGUnKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHdpbmRvd0JsdXJFdmVudCgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICBFdmVudC5lbWl0KCd3aW5kb3dfYmx1cicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaXNDbGlja09uVGFnTGlzdChldmVudCkge1xuICAgICAgICByZXR1cm4gISFldmVudC50YXJnZXQuY2xvc2VzdChUYWdMaXN0LnNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplRGF0YSgpIHtcbiAgICAgICAgU3RvcmUub3B0aW9ucy5hbGwgPSBBcnJheS5mcm9tKFN0b3JlLmluaXRpYWxEYXRhKVxuICAgIH1cblxuICAgIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMud2lkZ2V0LmluaXRpYWxFbGVtZW50LmlzTXVsdGlwbGUpXG4gICAgICAgICAgICBDb25maWcudGV4dElucHV0LmxpbWl0ID0gMVxuICAgIH1cbn0iXSwibmFtZXMiOlsid2lkZ2V0IiwiaW5wdXQiLCJsaXN0IiwiaXRlbSIsIml0ZW1fdGV4dF9zcGFuIiwicmVtb3ZlX2J1dHRvbiIsInJlbW92ZV9idXR0b25fc3ZnIiwicmVzdWx0X2xpc3RfY29udGFpbmVyIiwicmVzdWx0X2xpc3QiLCJyZXN1bHRfbGlzdF9pdGVtIiwicmVzdWx0X2xpc3RfaXRlbV9hY3RpdmUiLCJhZGRfaXRlbSIsInRoaXMiLCJjcmVhdGUiLCJjbGFzc25hbWVzIiwic3R5bGUiLCJ3aWR0aCIsImFwcGVuZCIsInJlc3VsdExpc3QiLCJidG4iLCJyZW1vdmVTVkciLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJib2R5IiwiZmlyc3RDaGlsZCIsIndyYXBwZXIiLCJkaXNwbGF5IiwicmVzdWx0SXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImdldEl0ZW0iLCJ0ZXh0IiwiZ2V0SXRlbVRleHRTcGFuIiwicmVtb3ZlQnV0dG9uIiwic3BhbiIsInRhZ05hbWUiLCJ0eXBlIiwiY2xhc3NlcyIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJmb3JFYWNoIiwibmFtZSIsIkNvbXBvbmVudCIsIkV2ZW50Iiwic3Vic2NyaWJlcnMiLCJvbiIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsIm9mZiIsImZpbHRlciIsImV2ZW50IiwiZW1pdCIsImRhdGEiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwidGltZW91dCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZ2V0TGFzdE9mQXJyYXkiLCJhcnJheSIsImxlbmd0aCIsImNvbXBhcmVPcHRpb25zIiwiZmlyc3RPcHRpb24iLCJzZWNvbmRPcHRpb24iLCJ2YWx1ZSIsImNvbnRlbnQiLCJjYW5BZGQiLCJPcHRpb24iLCJhbGxUYWtlbiIsImNhbk9wZW5BbGwiLCJTdG9yZSIsImlucHV0SXNFbXB0eSIsIk9wdGlvblZvdGVyIiwiY2FuT3BlbiIsIlJlc3VsdExpc3QiLCJhcHBlbmRMaXN0IiwicmVnaXN0ZXJFdmVudExpc3RlbmVyIiwiY2xvc2VFdmVudHMiLCJfdGhpcyIsImNsb3NlUmVzdWx0Qm94IiwiY3JlYXRlUmVzdWx0TGlzdCIsImNyZWF0ZUJveCIsIm9wZW5SZXN1bHRCb3giLCJzZXRSZXN1bHRCb3hIZWlnaHQiLCJvcGVuIiwiTmF2aWdhdGlvbiIsImNsZWFyIiwiUmVzdWx0TGlzdExpc3QiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0b3IiLCJkZXN0cm95IiwiaGFuZGxlIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJhcnJvd0Rvd25FdmVudCIsImFycm93VXBFdmVudCIsImlzTmF2aWdhdGlvbkVuYWJsZWQiLCJkb3duIiwidXAiLCJnZXRXaWRnZXRGcm9tRXZlbnQiLCJpc09wZW4iLCJpc0VtcHR5IiwidGFyZ2V0IiwiY2xvc2VzdCIsIldpZGdldCIsIlRleHRJbnB1dCIsInJlZ2lzdGVyTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsInJlZnJlc2hTdGF0ZSIsImFkanVzdFdpZHRoIiwiZW50ZXJLZXlFdmVudCIsImVzY2FwZUtleUV2ZW50IiwiYmFja3NwYWNlS2V5RXZlbnQiLCJuYXZpZ2F0aW9uRXZlbnRzIiwicmVzZXRWYWx1ZSIsImhhc01pbkxlbmd0aCIsImNob29zZSIsImlzTGlzdEVtcHR5IiwidW5zZWxlY3QiLCJzZWxlY3RlZCIsImFjdGl2ZUVsZW1lbnQiLCJjb250YWlucyIsImlzRm9jdXNzZWQiLCJmb2N1cyIsIl9TdG9yZSRpbnB1dCIsInJlc3VsdEJveCIsImVsZW1lbnRzIiwicmVzdWx0TGlzdExpc3QiLCJyZW1vdmUiLCJzY3JvbGxUb1ZpZXciLCJjaG9vc2VMaXN0ZW5lciIsImNyZWF0ZUxpc3RBbmRTY3JvbGwiLCJtYXRjaGVzIiwiZmluZEJ5VGV4dENvbnRlbnQiLCJlcXVhbFRvSW5wdXQiLCJyZXN1bHRzIiwiYXBwZW5kQWRkSXRlbVRvTGlzdCIsImFsbCIsIlJlc3VsdExpc3RWb3RlciIsImNyZWF0ZUxpc3RBbGxSZXN1bHRzIiwiY3JlYXRlTGlzdFJlc3VsdHMiLCJvcHRpb25zIiwib3B0aW9uIiwiX3RoaXMzIiwiaGFzT3B0aW9uIiwiYXBwZW5kRWxlbWVudFRvTGlzdCIsImNyZWF0ZVJlc3VsdEl0ZW0iLCJmcm9tIiwiYWxsTGlzdEl0ZW1zIiwiZmluZCIsInJlc3VsdCIsInRleHRDb250ZW50IiwiaGFzQWRkTmV3SXRlbSIsImFkZEl0ZW0iLCJpc0FkZEl0ZW0iLCJpc0FjdGl2ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaXRlbXMiLCJpIiwib2Zmc2V0SGVpZ2h0IiwiaGVpZ2h0IiwiZ2V0QWN0aXZlRWxlbWVudCIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJpbmxpbmUiLCJiZWhhdmlvciIsImJvdW5kYXJ5IiwicXVlcnlTZWxlY3RvckFsbCIsInN0YXJ0aW5nV2l0aElucHV0Iiwibm9kZXMiLCJsZW4iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJvcHRpb25FbGVtZW50IiwiaW5kZXgiLCJzZWxlY3RlZEl0ZW0iLCJpbmRleE9mIiwidGV4dElucHV0IiwibGltaXQiLCJvcGVuT25Gb2N1cyIsImluY2x1ZGVzIiwic29ydCIsImEiLCJiIiwic2VsZWN0Iiwic2VsZWN0TmF2aWdhdGlvbkl0ZW0iLCJzZWxlY3RJbnB1dFZhbHVlIiwic3RvcmVJbmRleCIsImdldE1vZGVsIiwiZGVjaWRlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm1hcCIsImluaXRpYWxEYXRhIiwiQ29uZmlnIiwiX09wdGlvbiRzZWxlY3RlZCIsImlzTmV3IiwiSW5pdGlhbEVsZW1lbnQiLCJzdG9yZUluaXRpYWxEYXRhIiwiaGlkZSIsInBhcmVudEVsZW1lbnQiLCJnZXRBbGxPcHRpb25zIiwibmV3T3B0aW9uIiwic2VsZWN0T3B0aW9uIiwidXBkYXRlIiwiZmluZEJ5T3B0aW9uRWxlbWVudCIsIl9PcHRpb24kZmluZEJ5T3B0aW9uRSIsIm11bHRpcGxlIiwiVGFnTGlzdCIsImFwcGVuZFRleHRJbnB1dCIsInJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMiLCJjbGlja2VkT25SZW1vdmVCdXR0b24iLCJmaW5kQ2xpY2tlZFRhZyIsInNob3VsZEZvY3VzQWZ0ZXJFdmVudCIsImluaXRpYWxFbGVtZW50IiwidGFnTGlzdCIsImF0dGFjaFdpZGdldCIsIm5hdmlnYXRpb24iLCJJbnB1dFZvdGVyIiwiYXBwZW5kTmV3U2VsZWN0T3B0aW9ucyIsInVwZGF0ZVRhZ0xpc3QiLCJjbG9zZVJlc3VsdExpc3RCb3giLCJjbGVhclRleHRJbnB1dCIsImFwcGVuZE9wdGlvbiIsIm1heExlbmd0aCIsIkNob29zeSIsImNvbmZpZyIsImluaXRpYWxpemVEYXRhIiwicmVzb2x2ZU9wdGlvbnMiLCJjbGlja2VkT3V0c2lkZU9mV2lkZ2V0RXZlbnQiLCJ3aW5kb3dCbHVyRXZlbnQiLCJpc0NsaWNrT25UYWdMaXN0Iiwid2luZG93IiwiaXNNdWx0aXBsZSJdLCJtYXBwaW5ncyI6IndpRUFBQSxlQUFlLENBQ1hBLE9BQVEsZ0JBQ1JDLE1BQU8sZUFDUEMsS0FBTSxjQUNOQyxLQUFNLGNBQ05DLGVBQWdCLHdCQUNoQkMsY0FBZSx1QkFDZkMsa0JBQW1CLDJCQUNuQkMsc0JBQXVCLCtCQUN2QkMsWUFBYSxxQkFDYkMsaUJBQWtCLHFCQUNsQkMsd0JBQXlCLFNBQ3pCQyxTQUFVLDRCQ1ZDLHFCQUlEVixFQUFRVyxLQUFLQyxPQUFPLFFBQVMsT0FBUSxDQUFDQyxXQUFXYixlQUN2REEsRUFBTWMsTUFBTUMsTUFBUSxNQUViZixvQkFJREQsRUFBU1ksS0FBS0MsT0FBTyxNQUFPLEtBQU0sQ0FBQ0MsV0FBV2QsZ0JBQ3BEQSxFQUFPaUIsT0FBT0wsS0FBS1YsTUFFbkJGLEVBQU9pQixPQUFPTCxLQUFLTSxZQUNabEIscUJBSUFZLEtBQUtDLE9BQU8sTUFBTyxLQUFNLENBQUNDLFdBQVdaLCtCQUl0Q2lCLEVBQU1QLEtBQUtDLE9BQU8sU0FBVSxLQUFNLENBQUNDLFdBQVdULHVCQUNwRGMsRUFBSUYsT0FBT0wsS0FBS1EsV0FDVEQsMEJBS0ssSUFBSUUsV0FBWUMsb0hBQTBHUixXQUFXUixpU0FHcEksYUFFRmlCLEtBQUtDLGlDQUtWQyxFQUFVYixLQUFLQyxPQUFPLE1BQU8sS0FBTSxDQUFDQyxXQUFXUCwrQkFDckRrQixFQUFRVixNQUFNVyxRQUFVLE9BSWpCRCwrQkFJQWIsS0FBS0MsT0FBTyxLQUFNLEtBQU0sQ0FBQ0MsV0FBV04sdUNBSXBDSSxLQUFLQyxPQUFPLEtBQU0sS0FBTSxDQUFDQyxXQUFXTCxzQ0FJckNOLEVBQU9TLEtBQUtlLGtCQUNsQnhCLEVBQUt5QixVQUFVQyxJQUFJZixXQUFXSCxVQUM5QlIsRUFBSzJCLFVBQVksVUFFVjNCLDZCQUlBUyxLQUFLQyxPQUFPLFNBQVUsT0FHakNrQixpQkFBUUMsT0FDRTdCLEVBQU9TLEtBQUtDLE9BQU8sTUFBTyxLQUFNLENBQUNDLFdBQVdYLGNBQ2xEQSxFQUFLYyxPQUFPTCxLQUFLcUIsZ0JBQWdCRCxJQUNqQzdCLEVBQUtjLE9BQU9MLEtBQUtzQixjQUVWL0IsR0FHWDhCLHlCQUFnQkQsT0FDTkcsRUFBT3ZCLEtBQUtDLE9BQU8sT0FBUSxLQUFNLENBQUNDLFdBQVdWLHdCQUNuRCtCLEVBQUtMLFVBQVlFLEVBQ1ZHLEdBR1h0QixnQkFBT3VCLE9BQVNDLHlEQUFPLEtBQU1DLHlEQUFVLEdBQzdCQyxFQUFVQyxTQUFTQyxjQUFjTCxVQUVuQ0MsSUFDQUUsRUFBUUYsS0FBT0EsR0FFbkJDLEVBQVFJLFFBQVEsU0FBQ0MsR0FDYkosRUFBUVgsVUFBVUMsSUFBSWMsS0FHbkJKLElDOUZNSyxVQUdqQixXQUFZTCx1RUFDSEEsUUFBVUEsR0NKakJNLE1BQVEsQ0FDVkMsWUFBYSxHQUViQyxZQUFHQyxFQUFXQyxHQUNMQyxNQUFNQyxRQUFTdkMsS0FBS2tDLFlBQWFFLFdBQzVCRixZQUFhRSxHQUFhLFNBRTlCRixZQUFhRSxHQUFXSSxLQUFLSCxJQUd2Q0ksYUFBSUwsRUFBV0MsUUFFREgsWUFBYUUsR0FEbkJDLEVBQ2dDckMsS0FBS2tDLFlBQVlFLEdBQVdNLE9BQU8sU0FBQUMsVUFBU0EsSUFBVU4sSUFJMUQsSUFHcENPLGNBQUtSLEVBQVdTLEdBQ1BQLE1BQU1DLFFBQVF2QyxLQUFLa0MsWUFBWUUsVUFHOUJGLFlBQWFFLEdBQVdOLFFBQVEsU0FBQ08sR0FDbkNBLEVBQVNRLE9DeEJkLFNBQVNDLFNBQVNDLEVBQU1DLE9BQ3ZCQyxTQUNHLHNDQUFhQywyQkFBQUEsa0JBS2hCQyxhQUFhRixHQUNiQSxFQUFVRyxXQUxJLFdBQ1ZELGFBQWFGLEdBQ2JGLGVBQVFHLElBR2dCRixJQUk3QixTQUFTSyxlQUFlQyxVQUNwQkEsRUFBTUEsRUFBTUMsT0FBUSxHQUd4QixTQUFTQyxlQUFlQyxFQUFhQyxVQUNoQ0QsRUFBWUUsUUFBVUQsRUFBYUMsT0FBV0YsRUFBWUcsVUFBWUYsRUFBYUUsUUNmL0YsZ0JBQWUsQ0FDWEMseUJBQ1lDLE9BQU9DLDJCQ0RSLENBRVhDLDZCQUNXQyxNQUFNQyxjQUFnQkMsWUFBWU4sVUFHN0NPLDBCQUNZSCxNQUFNQyxjQUFnQkMsWUFBWU4sOEJDSDdCUSxpQ0FZTDFDLDBKQVBFLENBQ1YseUJBQ0Esb0JBQ0Esb0JBQ0EscUJBSUtBLFFBQVVBLE9BQ1YyQyxrQkFDQUMsa0ZBR1QsMkJBRVNDLFlBQVkxQyxRQUFRLFNBQUFNLEdBQ3JCSCxNQUFNRSxHQUFHQyxFQUFXLFdBQ2hCcUMsRUFBS0MscUJBSWJ6QyxNQUFNRSxHQUFHLHdCQUF5QixXQUUxQjhCLE1BQU1DLGFBQ05PLEVBQUtDLGtCQUlURCxFQUFLbkYsS0FBS3FGLG1CQUNWRixFQUFLRyxlQUdUM0MsTUFBTUUsR0FBRyxjQUFlLFdBQ3BCc0MsRUFBS25GLEtBQUtxRixtQkFDVkYsRUFBS0csdUNBS2IsZ0JBQ1NDLHFCQUNBdkYsS0FBS3dGLGtEQUdkLFdBQ1M5RSxLQUFLK0UsWUFDRHBELFFBQVF4QixNQUFNVyxRQUFVLDJCQUlyQyxpQkFDMEMsU0FBL0JkLEtBQUsyQixRQUFReEIsTUFBTVcsc0NBRzlCLGtFQUdRZCxLQUFLK0UsT0FDTC9FLEtBQUsyQixRQUFReEIsTUFBTVcsUUFBVSxRQUNqQ2tFLFdBQVdDLGtDQVFmLGdCQUNTM0YsS0FBTyxJQUFJNEYsZUFBZWxGLEtBQUsyQixpQ0FHeEMsU0FBY3ZDLFNBQ3lELFVBQTVEQSxFQUFPK0YsY0FBY2QsRUFBV2UsVUFBVWpGLE1BQU1XLDhCQUczRCw0QkFDZVosV0FBV1Asd0RBYmpCTCxLQUFLK0YsZUFDTGYsK0JDdkVFLENBRVhnQixnQkFBTzNDLEdBQ2UsY0FBZEEsRUFBTTRDLE1BQ041QyxFQUFNNkMsc0JBQ0RDLGVBQWU5QyxJQUdOLFlBQWRBLEVBQU00QyxNQUNONUMsRUFBTTZDLHNCQUNERSxhQUFhL0MsS0FJMUI4Qyx3QkFBZTlDLEdBQ1AzQyxLQUFLMkYsb0JBQW9CaEQsSUFBUXFDLFdBQVdZLFFBR3BERixzQkFBYS9DLEdBQ0wzQyxLQUFLMkYsb0JBQW9CaEQsSUFBUXFDLFdBQVdhLE1BR3BERiw2QkFBb0JoRCxHQUNWdkQsRUFBU1ksS0FBSzhGLG1CQUFtQm5ELFVBQ2hDMEIsV0FBVzBCLE9BQU8zRyxLQUFZOEYsZUFBZWMsUUFBUTVHLElBR2hFMEcsNEJBQW1CbkQsVUFDUkEsRUFBTXNELE9BQU9DLFFBQVFDLE9BQU9mLFlDeEJ0QmdCLGlDQUFrQnBFLDRDQUV2QkwsNkZBQ0ZBLGlCQTJHRyxhQUNKQSxRQUFRZ0MsTUFBUSxTQTFHaEIwQyw0RUFHVCwyQkFFUzFFLFFBQVEyRSxpQkFBaUIsUUFBUyxXQUNuQ0MsRUFBS0MsZUFDTEQsRUFBS0UscUJBR0o5RSxRQUFRMkUsaUJBQWlCLFVBQVcsU0FBQTNELEdBQ25CLFVBQWRBLEVBQU00QyxLQUNOZ0IsRUFBS0csY0FBYy9ELEdBR0wsV0FBZEEsRUFBTTRDLEtBQ05nQixFQUFLSSxlQUFlaEUsR0FHTixjQUFkQSxFQUFNNEMsS0FDTmdCLEVBQUtLLGtCQUFrQmpFLEdBR1QsUUFBZEEsRUFBTTRDLEtBQ050RCxNQUFNVyxLQUFLLHFCQUdmaUUsaUJBQWlCdkIsT0FBTzNDLFVBR3ZCaEIsUUFBUTJFLGlCQUFpQixRQUMxQnhELFNBQVMsU0FBQUgsR0FDTFYsTUFBTVcsS0FBSyx3QkFBeUJELElBQ3JDLFdBR0ZoQixRQUFRMkUsaUJBQWlCLFFBQVMsV0FDbkNyRSxNQUFNVyxLQUFLLHNCQUdWakIsUUFBUTJFLGlCQUFpQixPQUFRLFNBQUMzRCxHQUNuQ1YsTUFBTVcsS0FBSyxhQUFjRCxLQUc3QlYsTUFBTUUsR0FBRyxnQkFBaUJuQyxLQUFLOEcsdUNBV25DLGdCQUNTbkYsUUFBUXhCLE1BQU1DLGdCQUFXZ0csRUFBVTdDLE9BQVM2QyxFQUFVN0MsT0FBUyxFQUFJLG9DQUc1RSxXQUNJVSxNQUFNNUUsTUFBUVcsS0FBSzJCLFFBQVFnQywyQkFHL0IsU0FBTWhCLEdBQ0d3QixZQUFZTixVQUNibEIsRUFBTTZDLDhDQVlkLFNBQWM3QyxHQUNWQSxFQUFNNkMsa0JBRUZZLEVBQVVXLGNBQWdCNUMsWUFBWU4sV0FDdENDLE9BQU9rRCx1Q0FHZixXQUNJL0UsTUFBTVcsS0FBSyxzREFHZixTQUFrQkQsR0FDVHNCLE1BQU1DLGVBQWdCSixPQUFPbUQsY0FHbEN0RSxFQUFNNkMsaUJBQ04xQixPQUFPb0QsU0FBUzdELGVBQWVTLE9BQU9xRCxvQ0FHMUMsa0JBQ1d2RixTQUFTd0YsY0FBY3BHLFVBQVVxRyxTQUFTbkgsV0FBV2IsNEJBR2hFLFdBQ1NXLEtBQUtzSCxZQUNOdEgsS0FBSzJCLFFBQVE0RiwrQkFPckIsV0FDSXRGLE1BQU1RLElBQUksZ0JBQWlCekMsS0FBSzhHLGtDQS9EcEMsa0NBQ1c3QyxNQUFNNUUsMEJBQU5tSSxFQUFhakUsaUNBR3hCLGtCQUMrQixHQUFwQjZDLEVBQVU3Qyw2QkFnQnJCLGlCQUNXLElBQU1yRCxXQUFXYiwyQkFHNUIsV0FDSTRFLE1BQU01RSxNQUFRLEtBQ2Q0QyxNQUFNVyxLQUFLLDBGQ2hGRXNDLHFDQUtMdUMsbUlBQ0h4SCxPQUFPd0gsUUFFUGxELG1FQUdULFNBQU9rRCxPQUNHbkksRUFBT29JLFNBQVNDLGVBQ3RCRixFQUFVcEgsT0FBT2YsUUFDWnFDLFFBQVVyQyx5QkFHbkIsZ0JBQ1NxQyxRQUFRaUcsU0FFYjNGLE1BQU1RLElBQUksd0RBSWQsZ0JBQ1NrQyx3QkFDQWtELG9EQUdULDJCQUNTQyxpQkFFTDdGLE1BQU1FLEdBQUcsb0JBQXFCLFdBQzFCc0MsRUFBS3NELHNEQUtiLDJCQUVTcEcsUUFBUTJFLGlCQUFpQixRQUFTLFNBQUEzRCxHQUUvQkEsRUFBTXNELE9BQU8rQixxQkFBYzlILFdBQVdMLGtDQUF5QkssV0FBV0gsZUFDMUV3RyxFQUFLUyxPQUFPckUsRUFBTXNELE9BQU8vRSxXQUl6QnlCLEVBQU1zRCxPQUFPK0IsUUFBUSxNQUFROUgsV0FBV0gsV0FDeEN3RyxFQUFLUyxpQ0FPakIsU0FBT3JELEdBRUNBLEVBQ0FHLE9BQU9rRCxPQUNIbEQsT0FBT21FLGtCQUFrQnRFLElBSzVCRyxPQUFPb0UsY0FDUnBFLE9BQU9rRCwwQ0FJZiwyRUFJUzNHLE9BQ0Q2RSxFQUFlaUQsVUFHZHJFLE9BQU9vRSxjQUFnQjlCLFVBQVVXLG1CQUM3QnFCLDBEQUliLDJFQUlTL0gsT0FDRHlELE9BQU91RSxxQ0FJZixXQUNRQyxnQkFBZ0J0RSxjQUNoQmhFLEtBQUt1SSx1QkFFTEQsZ0JBQWdCbEUsV0FDaEJwRSxLQUFLd0ksMENBR2IsU0FBT0MsY0FDSEEsRUFBUTNHLFFBQVEsU0FBQTRHLEdBRVJDLEVBQUtDLFVBQVVGLElBR25CQyxFQUFLRSxvQkFBb0JGLEVBQUtHLGlCQUFpQkosK0JBSXZELFNBQVVBLFVBQ0NwRyxNQUFNeUcsS0FBSy9JLEtBQUtnSixjQUNsQkMsS0FBSyxTQUFBQyxVQUFVQSxFQUFPQyxjQUFnQlQsRUFBT1MsaURBR3RELGVBR2N4SCxFQUZMM0IsS0FBS29KLGdCQUVBekgsRUFBVStGLFNBQVMyQixRQUVyQnJFLFdBQVdzRSxhQUNYM0gsRUFBUVgsVUFBVUMsSUFBSWYsV0FBV0osOEJBRWhDK0ksb0JBQW9CbEgsdUNBSWpDLFNBQW9CQSxRQUNYQSxRQUFRdEIsT0FBT3NCLDhCQUd4QixrQkFDVzNCLEtBQUsyQixRQUFRd0QsY0FBYyxJQUFNakYsV0FBV0gsMENBR3ZELFNBQWlCMkksT0FFUG5KLEVBQU9tSSxTQUFTM0csa0JBRWxCaUUsV0FBV3VFLFNBQVNiLElBQ3BCbkosRUFBS3lCLFVBQVVDLElBQUlmLFdBQVdKLHlCQUVsQ1AsRUFBSzJCLFVBQVl3SCxFQUFPOUUsUUFDakJyRSw0QkFhWCxrQkFDV1MsS0FBSzJCLFFBQVE2SCxxQkFBcUIsd0NBc0I3QyxlQUVVQyxFQUFRekosS0FBS2dKLGFBR2ZFLEVBQVMsS0FFSSxFQUhFTyxFQUFNbEcsV0FJaEIsSUFBSW1HLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNuQlIsR0FBVU8sRUFBTWxLLEtBQUttSyxHQUFHQyxrQkFJM0JoSSxRQUFReEIsTUFBTXlKLE9BQVNWLEVBQVNBLEVBQVMsS0FBTyxtQ0FHekQsZUFFVTlCLEVBQWdCcEgsS0FBSzZKLG1CQUN2QnpDLEdBQ0FBLEVBQWMwQyxlQUFlLENBQ3pCQyxNQUFPLFVBQ1BDLE9BQVEsVUFDUkMsU0FBVSxTQUNWQyxTQUFVbEssS0FBSzJCLDBDQUszQixlQUNVK0csRUFBUzFELFdBQVd6RixZQUVyQm1KLHlCQUdFMUksMEVBQUFBLEtBQW9DMEksR0FGaEMsOEJBbEVmLFNBQWV0SixVQUNIQSxFQUFPK0ssMkJBQ1JqRixFQUFlRSx3QkFBZWxGLFdBQVdMLG1CQUM5QzBELDZCQUdOLDRCQUNlckQsV0FBV04sa0NBZTFCLHdCQUVRMEksZ0JBQWdCdEUsdUJBQ1RGLE9BQU91RSxtQkFBTyxHQUVyQkMsZ0JBQWdCbEUsVUFDVGdDLFVBQVVXLGFBQWVqRCxPQUFPc0csa0JBQW9CLGdEQWJ6REMsRUFBUXJLLEtBQUtnSixhQUVWVSxFQUFJLEVBQUdZLEVBQU1ELEVBQU05RyxPQUFRbUcsSUFBTVksSUFBT1osRUFDN0NXLEVBQU0sR0FBR0UsV0FBV0MsWUFBWUgsRUFBTSw4Q0FzRGYzQixTQUNaLFFBQVhBLEVBQ08xSSxLQUFLMkIsUUFBUXdELHlCQUFrQmpGLFdBQVdILFdBQzlDdUMsTUFBTXlHLEtBQUsvSSxLQUFLZ0osY0FBY0MsS0FBSyxTQUFBd0IsVUFDL0JBLE1BQUFBLFNBQUFBLEVBQWV2SixjQUFjd0gsTUFBQUEsU0FBQUEsRUFBUTlFLHVCQ2pPekMsQ0FFWHJFLEtBQU0sR0FFTnNHLGtCQVVjNkUsRUFUSnZDLEVBQVVqRCxlQUFlaUQsUUFFMUJuSSxLQUFLMkssY0FPQUQsRUFBUXZDLEVBQVF5QyxRQUFRNUssS0FBSzJLLGNBRVQsUUFBdEIzSyxLQUFLMkssa0JBQ0FBLGFBQWV4QyxFQUFRQSxFQUFRNUUsT0FBUyxJQUd6Q21ILEdBQVN2QyxFQUFRNUUsT0FBUyxTQUNyQm9ILGFBQWV4QyxFQUFRdUMsRUFBUSxJQUduQ3ZDLEVBQVF1QyxFQUFRLEtBQ1pwQyxnQkFBZ0J0RSxrQkFHWjJHLGFBQWV4QyxFQUFRQSxFQUFRNUUsT0FBUyxRQUZ4Q29ILGFBQWUsU0FsQjNCckMsZ0JBQWdCdEUsa0JBR1oyRyxhQUFleEMsRUFBUUEsRUFBUTVFLE9BQVMsUUFGeENvSCxhQUFlLE1BMEI1QjFJLE1BQU1XLEtBQUssb0JBQXFCLE9BR3BDZ0Qsb0JBY2tCOEUsRUFiUnZDLEVBQVVqRCxlQUFlaUQsUUFFMUJuSSxLQUFLMkssYUFVb0IsUUFBdEIzSyxLQUFLMkssY0FDQ0QsRUFBUXZDLEVBQVF5QyxRQUFRNUssS0FBSzJLLGNBRS9CeEMsRUFBUTVFLE9BQVNtSCxFQUFRLFNBQ3BCQyxhQUFleEMsRUFBUXVDLEVBQVEsSUFHcEN2QyxFQUFRNUUsU0FBV21ILEVBQVEsSUFDdEJwQyxnQkFBZ0J0RSxrQkFHWjJHLGFBQWV4QyxFQUFRLFFBRnZCd0MsYUFBZSxhQU12QkEsYUFBZXhDLEVBQVEsR0F2QjNCQSxFQUFRNUUsWUFHSm9ILGFBQWV4QyxFQUFRLFFBRnZCd0MsYUFBZSxNQTRCNUIxSSxNQUFNVyxLQUFLLG9CQUFxQixTQUdwQ3FDLHNCQUNTMEYsYUFBZSxJQUd4QnBCLGtCQUFTYixVQUNFQSxJQUFXMUksS0FBSzJLLGNBRzNCckIsMkJBQ1csUUFBVXRKLEtBQUsySyx3Q0FJZjNLLEtBQUtULHVCQUdDQSxRQUNSQSxLQUFPQSxXQ2hHTCxDQUNYc0wsVUFBVyxDQUNQQyxNQUFPLE1BRVh4SyxXQUFZLENBQ1J5SyxhQUFhLElDQ0FqSCxxSUFJakIsa0JBQ1dHLE1BQU13RSxRQUFRSixJQUFJM0YsT0FBTyxTQUFBZ0csV0FBWUEsRUFBTzlFLHlDQUd2RCxrQkFDV0UsRUFBT3VFLElBQUkzRixPQUFPLFNBQUFnRyxVQUFVQSxFQUFPOUUsUUFBUW9ILFNBQVMvRyxNQUFNNUUsU0FBV3FKLEVBQU92QixxQ0FHdkYsa0JBQ1dyRCxFQUFPdUUsSUFBSVksS0FBSyxTQUFBUCxVQUFVQSxFQUFPOUUsVUFBWUssTUFBTTVFLDhCQUc5RCxrQkFDV3lFLEVBQU91RSxJQUNUM0YsT0FBTyxTQUFBZ0csVUFBVUEsRUFBT3ZCLFdBQ3hCOEQsS0FBSyxTQUFDQyxFQUFHQyxVQUFNRCxFQUFFL0QsU0FBV2dFLEVBQUVoRSw0Q0FHdkMsU0FBeUJ4RCxVQUNkRyxFQUFPdUUsSUFBSVksS0FBSyxTQUFBUCxVQUFVQSxFQUFPOUUsVUFBWUQsdUNBR3hELFNBQTJCOEcsVUFDaEIzRyxFQUFPdUUsSUFBSVksS0FBSyxTQUFBUCxVQUVTLE9BQXhCK0IsRUFBYzlHLE9BR1grRSxFQUFPL0UsUUFBVThHLEVBQWM5RyxRQUYzQitFLEVBQU85RSxVQUFZNkcsRUFBY3ZKLGtDQU9wRCxTQUFjd0gsR0FFTkEsRUFDQTVFLEVBQU9zSCxPQUFPMUMsR0FFVjFELFdBQVd6RixLQUNYdUUsRUFBT3VILHVCQUVQdkgsRUFBT3dILG1CQUlmckosTUFBTVcsS0FBSyx1Q0FHZixTQUFjOEYsT0FFTkEsR0FJRTZDLEVBQWF0SCxNQUFNd0UsUUFBUUosSUFBSTdGLEtBQUtzQixFQUFPMEgsWUFBYyxTQUV4RHZILE1BQU13RSxRQUFRSixJQUFJa0QsNEJBRzdCLFNBQWdCN0MsU0FDTCxDQUNIL0UsTUFBTytFLEVBQVNBLEVBQU8vRSxNQUFRLEtBQy9CQyxRQUFTOEUsRUFBU0EsRUFBT3hILFVBQVkrQyxNQUFNNUUsTUFDM0M4SCxTQUFVckQsRUFBTzJILE9BQU8vQyxHQUN4QmdELFVBQVloRCxHQUFVNUUsRUFBTzJILE9BQU8vQyxHQUFXaUQsS0FBS0MsTUFBUSw0QkFJcEUsU0FBY2xELEdBQ1Z6RSxNQUFNd0UsUUFBUUosSUFBSXdELElBQUksU0FBQXRNLEdBQ2RBLEVBQUtxRSxVQUFZOEUsRUFBTzlFLFVBRzVCckUsRUFBSzRILFVBQVcsRUFDaEI1SCxFQUFLbU0sVUFBWUMsS0FBS0MsK0JBSTlCLFNBQWdCbEQsR0FFWnpFLE1BQU13RSxRQUFRSixJQUFJd0QsSUFBSSxTQUFBdE0sR0FDZEEsRUFBS3FFLFVBQVk4RSxFQUFPOUUsVUFHNUJyRSxFQUFLNEgsVUFBVyxLQUdwQmxGLE1BQU1XLEtBQUssdURBM0ZFa0IsNkNBK0ZqQixTQUFjNEUsT0FDTnZCLEdBQVcsS0FFWHVCLEVBQVEsS0FFSEEsRUFBTy9FLFFBQVUrRSxFQUFPOUUsUUFDekIsT0FBTyxFQUVYdUQsRUFBV3VCLEVBQU92QixnQkFHZkEsdUJBR1gsU0FBYXVCLFVBQ0R6RSxNQUFNNkgsWUFBWTdDLEtBQUssU0FBQTFKLFVBQVFpRSxlQUFlakUsRUFBTW1KLDhCQVNoRSxrQkFDWTVFLEVBQU9xRCxTQUFTNUQsMkNBRzVCLFdBQzRCLFFBQXBCeUIsV0FBV3pGLEtBQ1h1RSxFQUFPd0gsbUJBRVB4SCxFQUFPc0gsT0FBT3BHLFdBQVd6RixzQ0FJakMsV0FDSXVFLEVBQU9zSCxPQUNIdEgsRUFBT3pELGdDQUlmLHlCQUNhMEwsT0FBT2xCLFVBQVVDLGlCQUFRaEgsRUFBT3FELDZCQUFQNkUsRUFBaUJ6SSxzQ0F4Qm5EVSxNQUFNd0UsUUFBUUosSUFBTXBFLE1BQU13RSxRQUFRSixJQUFJM0YsT0FBTyxTQUFBbkQsVUFDakN1RSxPQUFPbUksTUFBTTFNLE1DdkgzQjBFLE1BQVEsQ0FDVjVFLE1BQU8sS0FDUHlNLFlBQWEsR0FDYnJELFFBQVMsSUFBSTNFLHVDQUlMOUQsS0FBS1gsdUJBR0dBLDRCQUFPa0UsU0FBVSxJQ05oQjJJLHNDQUF1QmxLLDRDQUU1QkwsaURBQ0ZBLElBRUR3SyxxQkFDQUMsU0FFQS9GLCtEQUdULGdCQUNTMUUsUUFBUXhCLE1BQU1XLFFBQVUsbUNBR2pDLFNBQWExQixRQUNKdUMsUUFBUTBLLGNBQWNoTSxPQUFPakIsbUNBR3RDLFdBQ0k2RSxNQUFNNkgsWUFBY3hKLE1BQU15RyxLQUFLL0ksS0FBS3NNLGVBQy9CVCxJQUFJLFNBQUNuRCxVQUNLNUUsT0FBTzBILFNBQVM5QyxnQ0FJbkMsa0JBQ1dwRyxNQUFNeUcsS0FBSy9JLEtBQUsyQixRQUFRd0ksaUJBQWlCLHVDQUdwRCxTQUFhekIsT0FDSDZELEVBQVk3RSxTQUFTOEUsb0JBQzNCRCxFQUFVNUksTUFBUSxpQkFDbEI0SSxFQUFVckwsVUFBWXdILEVBQU85RSxhQUV4QmpDLFFBQVF0QixPQUFPa00sR0FDYkEsbUNBR1gsc0JBQ0l0SyxNQUFNRSxHQUFHLGdCQUFpQixXQUN0Qm9FLEVBQUtrRyxXQUdUeEssTUFBTUUsR0FBRyxvQkFBcUIsV0FDMUJvRSxFQUFLa0csaUNBSWIsZ0JBQ1M5SyxRQUFRd0ksaUJBQWlCLFVBQVVySSxRQUFRLFNBQUE0RyxtQkFFeEM1RSxPQUFPNEksb0JBQW9CaEUsaUJBQTNCaUUsRUFBb0N4RixTQUNwQ3VCLEVBQU92QixTQUFXLFdBSXRCdUIsRUFBT3ZCLFVBQVcsNEJBSTFCLGtCQUNXbkgsS0FBSzJCLFFBQVFpTCxrQkM5RFBDLCtCQUFnQjdLLDRDQUlyQkwsdUZBQ0ZBLDBCQUVEbUwsb0JBQ0FDLCtFQUdULGdCQUNTbEMsVUFBWSxJQUFJekUsVUFBVXNCLFNBQVNtRCxnQkFDbkNsSixRQUFRdEIsT0FBT0wsS0FBSzZLLFVBQVVsSiwrQ0FHdkMsMkJBQ1NBLFFBQVEyRSxpQkFBaUIsUUFBUyxTQUFBM0QsR0FFL0I0RCxFQUFLeUcsc0JBQXNCckssRUFBTXNELFVBQ2pDdEQsRUFBTTZDLGlCQUVOMUIsT0FBT29ELFNBQ0hwRCxPQUFPbUUsa0JBQWtCMUIsRUFBSzBHLGVBQWV0SyxHQUFPekIsb0RBTXBFLFNBQXNCK0UsV0FDZEEsRUFBTytCLFFBQVEsVUFBWTlILFdBQVdULG1CQUd0Q3dHLEVBQU8rQixRQUFRLE9BQVM5SCxXQUFXUixzQkFHOUJ1RyxFQUFPK0IsUUFBUSwrQkFXNUIsZ0JBQ1M2QyxVQUFVeEYsZUFDVjFELFFBQVFpRyx1Q0FHakIsU0FBZWpGLFVBQ0pBLEVBQU1zRCxPQUFPQyxRQUFRLElBQU1oRyxXQUFXWCxNQUN4QzRGLGNBQWMsSUFBTWpGLFdBQVdWLHdDQWZ4QyxlQUNVRixFQUFPb0ksU0FBU3BJLFlBRXRCd0UsT0FBT3FELFNBQVNyRixRQUFRLFNBQUF2QyxVQUFRRCxFQUFLZSxPQUFPcUgsU0FBU3ZHLFFBQVE1QixFQUFLcUUsWUFFM0QsSUFBSWlKLEVBQVF2Tix5QkFhdkIsaUJBQ1csSUFBTVksV0FBV1oseUJDN0RqQixDQUVYNE4sK0JBQXNCdkssVUFFZEEsRUFBTXNELE9BQU9qRixVQUFVcUcsU0FBU25ILFdBQVdMLG9CQUd2QzhDLEVBQU1zRCxPQUFPQyxRQUFRMkcsUUFBUXpILG9DQ0doQ2UsNkJBV0dnSCw4UkFGSmxKLFlBSUNrSixlQUFpQixJQUFJakIsZUFBZWlCLFFBQ3BDeEwsUUFBVStGLFNBQVN0SSxZQUduQmtCLFdBQWEsSUFBSStELFdBQVdyRSxLQUFLMkIsUUFBUXdELGNBQWMsSUFBTWpGLFdBQVdQLDZCQUN4RXlOLFFBQVUsSUFBSVAsUUFBUTdNLEtBQUsyQixRQUFRd0QsY0FBYyxJQUFNakYsV0FBV1osWUFFbEU2TixlQUFlRSxhQUFhck4sS0FBSzJCLGNBQ2pDMkwsV0FBYXRJLGdCQUVicUIsMEVBR1QsMkJBRVMxRSxRQUFRMkUsaUJBQWlCLFFBQVMsU0FBQzNELEdBQ3BDNEssV0FBV0wsc0JBQXNCdkssMkJBQVU4QixpQ0FBQUEsS0FHL0N4QyxNQUFNRSxHQUFHLGdCQUFpQixXQUN0QnNDLEVBQUtnSSxnQ0FDTGhJLGlDQUFBQSxLQUdKeEMsTUFBTUUsR0FBRyxvQkFBcUIsV0FDMUJzQyxFQUFLZ0ksZ0NBQ0xoSSxpQ0FBQUEsMkJBVVIsZ0JBQ1MrSSw4QkFDQUMscUJBQ0FDLDBCQUNBQyxzQkFDQTdDLDhDQUdULHNCQUNJN0csTUFBTXdFLFFBQVFKLElBQUl2RyxRQUFRLFNBQUE0RyxHQUNsQjVFLE9BQU9tSSxNQUFNdkQsSUFDYm5DLEVBQUs0RyxlQUFlUyxhQUFhbEYsa0NBSzdDLGdCQUNTMEUsUUFBUXhGLGNBQ1J3RixRQUFVUCxRQUFRNU0sY0FDbEIwQixRQUFRdEIsT0FBT0wsS0FBS29OLFFBQVF6TCwyQ0FHckMsZ0JBQ1NyQixXQUFXb0UsK0NBR3BCLFdBQ0kwQixVQUFVbkIsNkJBT2QsV0FDU2QsWUFBWU4sY0FHUnVKLFFBQVF2QyxVQUFVbEosUUFBUWtNLFVBQVksWUFGdENULFFBQVF2QyxVQUFVbEosUUFBUWtNLFVBQVksMEJBTm5ELDRCQUNlM04sV0FBV2QsOENBbkNqQmdPLFFBQVF2QyxVQUFVdEQsU0NuRGxCdUcsNkJBS0duTSw0R0FDSHZDLE9BQVMsSUFBSStHLE9BQU94RSxRQUNwQm9NLE9BQVNoQyxZQUVUaUMsc0JBQ0F6Siw2QkFDQTBKLDJFQUdULGdCQUNTQyxtQ0FDQUMsNkRBR1Qsc0JBQ0l2TSxTQUFTMEUsaUJBQWlCLFFBQVMsU0FBQTNELEdBRTNCOEIsRUFBS3JGLE9BQU91QyxRQUFRMEYsU0FBUzFFLEVBQU1zRCxTQUFXeEIsRUFBSzJKLGlCQUFpQnpMLElBR3hFVixNQUFNVyxLQUFLLDJEQUluQixXQUNJeUwsT0FBTy9ILGlCQUFpQixPQUFRLFdBQzVCckUsTUFBTVcsS0FBSyxpREFJbkIsU0FBaUJELFdBQ0pBLEVBQU1zRCxPQUFPQyxRQUFRMkcsUUFBUXpILHdDQUcxQyxXQUNJbkIsTUFBTXdFLFFBQVFKLElBQU0vRixNQUFNeUcsS0FBSzlFLE1BQU02SCwyQ0FHekMsV0FDUzlMLEtBQUtaLE9BQU8rTixlQUFlbUIsYUFDNUJ2QyxPQUFPbEIsVUFBVUMsTUFBUSJ9
